import { __decorate, __metadata } from "tslib";
import { InputBoolean } from 'ngx-tethys/core';
import { Component, HostBinding, ViewEncapsulation, Optional, Input } from '@angular/core';
import { ThyFormDirective } from '../form.directive';
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from '../form.directive';
import * as ɵngcc2 from '@angular/common';
import * as ɵngcc3 from 'ngx-tethys/alert';

function ThyFormGroupErrorComponent_thy_alert_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelement(0, "thy-alert", 2);
} if (rf & 2) {
    const error_r1 = ctx.$implicit;
    ɵngcc0.ɵɵproperty("thyMessage", error_r1);
} }
const _c0 = function (a0) { return { "col-sm-10 offset-sm-2 col-form-control": a0 }; };
export class ThyFormGroupErrorComponent {
    constructor(thyParentForm) {
        this.thyParentForm = thyParentForm;
        this.thyShowFirst = true;
        this.isHorizontal = true;
    }
    set thyErrors(errors) {
        this.errors = errors;
    }
    get thyErrors() {
        const errors = this.errors || this.thyParentForm.validator.errors;
        return errors && errors.length > 0 && this.thyShowFirst ? [errors[0]] : errors;
    }
    get _isFormGroup() {
        return this.thyErrors && this.thyErrors.length > 0;
    }
    ngOnInit() {
        if (this.thyParentForm) {
            this.isHorizontal = this.thyParentForm.isHorizontal;
        }
    }
}
ThyFormGroupErrorComponent.ɵfac = function ThyFormGroupErrorComponent_Factory(t) { return new (t || ThyFormGroupErrorComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.ThyFormDirective, 8)); };
ThyFormGroupErrorComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: ThyFormGroupErrorComponent, selectors: [["thy-form-group-error"]], hostVars: 4, hostBindings: function ThyFormGroupErrorComponent_HostBindings(rf, ctx) { if (rf & 2) {
        ɵngcc0.ɵɵclassProp("row", ctx.isHorizontal)("form-group", ctx._isFormGroup);
    } }, inputs: { thyShowFirst: "thyShowFirst", thyErrors: "thyErrors" }, decls: 2, vars: 4, consts: [[3, "ngClass"], ["thyType", "danger", 3, "thyMessage", 4, "ngFor", "ngForOf"], ["thyType", "danger", 3, "thyMessage"]], template: function ThyFormGroupErrorComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "div", 0);
        ɵngcc0.ɵɵtemplate(1, ThyFormGroupErrorComponent_thy_alert_1_Template, 1, 1, "thy-alert", 1);
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        ɵngcc0.ɵɵproperty("ngClass", ɵngcc0.ɵɵpureFunction1(2, _c0, ctx.isHorizontal));
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngForOf", ctx.thyErrors);
    } }, directives: [ɵngcc2.NgClass, ɵngcc2.NgForOf, ɵngcc3.ThyAlertComponent], encapsulation: 2 });
ThyFormGroupErrorComponent.ctorParameters = () => [
    { type: ThyFormDirective, decorators: [{ type: Optional }] }
];
ThyFormGroupErrorComponent.propDecorators = {
    thyShowFirst: [{ type: Input }],
    thyErrors: [{ type: Input }],
    _isFormGroup: [{ type: HostBinding, args: ['class.form-group',] }],
    isHorizontal: [{ type: HostBinding, args: ['class.row',] }]
};
__decorate([
    InputBoolean(),
    __metadata("design:type", Object)
], ThyFormGroupErrorComponent.prototype, "thyShowFirst", void 0);
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ThyFormGroupErrorComponent, [{
        type: Component,
        args: [{
                selector: 'thy-form-group-error',
                template: "<div [ngClass]=\"{ 'col-sm-10 offset-sm-2 col-form-control': isHorizontal }\">\n  <thy-alert *ngFor=\"let error of thyErrors\" thyType=\"danger\" [thyMessage]=\"error\"></thy-alert>\n</div>\n",
                encapsulation: ViewEncapsulation.None
            }]
    }], function () { return [{ type: ɵngcc1.ThyFormDirective, decorators: [{
                type: Optional
            }] }]; }, { thyShowFirst: [{
            type: Input
        }], isHorizontal: [{
            type: HostBinding,
            args: ['class.row']
        }], thyErrors: [{
            type: Input
        }], _isFormGroup: [{
            type: HostBinding,
            args: ['class.form-group']
        }] }); })();

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9ybS1ncm91cC1lcnJvci5jb21wb25lbnQuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9mb3JtL2Zvcm0tZ3JvdXAtZXJyb3IvZm9ybS1ncm91cC1lcnJvci5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMvQyxPQUFPLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxpQkFBaUIsRUFBVSxRQUFRLEVBQUUsS0FBSyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ25HLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLG1CQUFtQixDQUFDOzs7Ozs7Ozs7Ozs7O0FBT3JELE1BQU0sT0FBTywwQkFBMEI7QUFBRyxJQXNCdEMsWUFBZ0MsYUFBK0I7QUFBSSxRQUFuQyxrQkFBYSxHQUFiLGFBQWEsQ0FBa0I7QUFBQyxRQW5CdkMsaUJBQVksR0FBRyxJQUFJLENBQUM7QUFDakQsUUFnQjhCLGlCQUFZLEdBQUcsSUFBSSxDQUFDO0FBQ2xELElBQ3NFLENBQUM7QUFDdkUsSUFsQkksSUFDSSxTQUFTLENBQUMsTUFBZ0I7QUFDbEMsUUFBUSxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztBQUM3QixJQUFJLENBQUM7QUFDTCxJQUNJLElBQUksU0FBUztBQUNqQixRQUFRLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDO0FBQzFFLFFBQVEsT0FBTyxNQUFNLElBQUksTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDO0FBQ3ZGLElBQUksQ0FBQztBQUNMLElBQ0ksSUFDSSxZQUFZO0FBQ3BCLFFBQVEsT0FBTyxJQUFJLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztBQUMzRCxJQUFJLENBQUM7QUFDTCxJQUtJLFFBQVE7QUFDWixRQUFRLElBQUksSUFBSSxDQUFDLGFBQWEsRUFBRTtBQUNoQyxZQUFZLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxZQUFZLENBQUM7QUFDaEUsU0FBUztBQUNULElBQUksQ0FBQztBQUNMO3NEQWxDQyxTQUFTLFNBQUMsa0JBQ1AsUUFBUSxFQUFFLHNCQUFzQixrQkFDaEM7NkpBQWdELGtCQUNoRCxhQUFhLEVBQUUsaUJBQWlCLENBQUMsSUFBSSxjQUN4Qzs7Ozs7Ozs7OztxR0FDSTtBQUFDO0FBQW9ELFlBUGpELGdCQUFnQix1QkE2QlIsUUFBUTtBQUFNO0FBQUc7QUFFM0IsMkJBckJGLEtBQUs7QUFBSyx3QkFFVixLQUFLO0FBQ1IsMkJBU0csV0FBVyxTQUFDLGtCQUFrQjtBQUM5QiwyQkFJQSxXQUFXLFNBQUMsV0FBVztBQUFNO0FBakJMO0FBQWEsSUFBNUIsWUFBWSxFQUFFO0FBQUU7QUFHMUIsZ0VBSDZDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFDakQ7QUFDQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElucHV0Qm9vbGVhbiB9IGZyb20gJ25neC10ZXRoeXMvY29yZSc7XG5pbXBvcnQgeyBDb21wb25lbnQsIEhvc3RCaW5kaW5nLCBWaWV3RW5jYXBzdWxhdGlvbiwgT25Jbml0LCBPcHRpb25hbCwgSW5wdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFRoeUZvcm1EaXJlY3RpdmUgfSBmcm9tICcuLi9mb3JtLmRpcmVjdGl2ZSc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAndGh5LWZvcm0tZ3JvdXAtZXJyb3InLFxuICAgIHRlbXBsYXRlVXJsOiAnLi9mb3JtLWdyb3VwLWVycm9yLmNvbXBvbmVudC5odG1sJyxcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXG59KVxuZXhwb3J0IGNsYXNzIFRoeUZvcm1Hcm91cEVycm9yQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgICBwdWJsaWMgZXJyb3JzOiBzdHJpbmdbXTtcblxuICAgIEBJbnB1dCgpIEBJbnB1dEJvb2xlYW4oKSB0aHlTaG93Rmlyc3QgPSB0cnVlO1xuXG4gICAgQElucHV0KClcbiAgICBzZXQgdGh5RXJyb3JzKGVycm9yczogc3RyaW5nW10pIHtcbiAgICAgICAgdGhpcy5lcnJvcnMgPSBlcnJvcnM7XG4gICAgfVxuXG4gICAgZ2V0IHRoeUVycm9ycygpIHtcbiAgICAgICAgY29uc3QgZXJyb3JzID0gdGhpcy5lcnJvcnMgfHwgdGhpcy50aHlQYXJlbnRGb3JtLnZhbGlkYXRvci5lcnJvcnM7XG4gICAgICAgIHJldHVybiBlcnJvcnMgJiYgZXJyb3JzLmxlbmd0aCA+IDAgJiYgdGhpcy50aHlTaG93Rmlyc3QgPyBbZXJyb3JzWzBdXSA6IGVycm9ycztcbiAgICB9XG5cbiAgICBASG9zdEJpbmRpbmcoJ2NsYXNzLmZvcm0tZ3JvdXAnKVxuICAgIGdldCBfaXNGb3JtR3JvdXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRoeUVycm9ycyAmJiB0aGlzLnRoeUVycm9ycy5sZW5ndGggPiAwO1xuICAgIH1cblxuICAgIEBIb3N0QmluZGluZygnY2xhc3Mucm93JykgaXNIb3Jpem9udGFsID0gdHJ1ZTtcblxuICAgIGNvbnN0cnVjdG9yKEBPcHRpb25hbCgpIHByaXZhdGUgdGh5UGFyZW50Rm9ybTogVGh5Rm9ybURpcmVjdGl2ZSkge31cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICBpZiAodGhpcy50aHlQYXJlbnRGb3JtKSB7XG4gICAgICAgICAgICB0aGlzLmlzSG9yaXpvbnRhbCA9IHRoaXMudGh5UGFyZW50Rm9ybS5pc0hvcml6b250YWw7XG4gICAgICAgIH1cbiAgICB9XG59XG4iXX0=