import { Directive, Input, ElementRef, Optional, Host, Renderer2 } from '@angular/core';
import { UpdateHostClassService } from 'ngx-tethys/core';
import { ThyRowDirective } from './thy-row.directive';
import { takeUntil } from 'rxjs/operators';
import { mixinUnsubscribe, MixinBase } from 'ngx-tethys/core';
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from 'ngx-tethys/core';
import * as ɵngcc2 from './thy-row.directive';
const _MixinBase = mixinUnsubscribe(MixinBase);
export class ThyColDirective extends _MixinBase {
    constructor(elementRef, renderer, updateHostClassService, thyRowDirective) {
        super();
        this.elementRef = elementRef;
        this.renderer = renderer;
        this.updateHostClassService = updateHostClassService;
        this.thyRowDirective = thyRowDirective;
        this.thyFlex = null;
        this.thySpan = 24;
        this.thyOrder = null;
        this.thyOffset = null;
        this.thyPush = null;
        this.thyPull = null;
        this.thyXs = null;
        this.thySm = null;
        this.thyMd = null;
        this.thyLg = null;
        this.thyXl = null;
        this.thyXXl = null;
        this.updateHostClassService.initializeElement(this.elementRef);
    }
    ngOnInit() {
        this._setHostClassMap();
    }
    ngOnChanges(changes) {
        this._setHostClassMap();
    }
    ngAfterViewInit() {
        if (this.thyRowDirective) {
            this.thyRowDirective.actualGutter$.pipe(takeUntil(this.ngUnsubscribe$)).subscribe(([horizontalGutter, verticalGutter]) => {
                const renderGutter = (name, gutter) => {
                    const nativeElement = this.elementRef.nativeElement;
                    this.renderer.setStyle(nativeElement, name, `${gutter / 2}px`);
                };
                if (horizontalGutter > 0) {
                    renderGutter('padding-left', horizontalGutter);
                    renderGutter('padding-right', horizontalGutter);
                }
                if (verticalGutter > 0) {
                    renderGutter('padding-top', verticalGutter);
                    renderGutter('padding-bottom', verticalGutter);
                }
            });
        }
    }
    _setHostClassMap() {
        this.updateHostClassService.updateClassByMap({
            [`thy-col-${this.thySpan}`]: true
        });
    }
    ngOnDestroy() {
        super.ngOnDestroy();
    }
}
ThyColDirective.ɵfac = function ThyColDirective_Factory(t) { return new (t || ThyColDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.UpdateHostClassService), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.ThyRowDirective, 9)); };
ThyColDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: ThyColDirective, selectors: [["", "thyCol", ""]], hostAttrs: [1, "thy-col"], inputs: { thyFlex: "thyFlex", thySpan: "thySpan", thyOrder: "thyOrder", thyOffset: "thyOffset", thyPush: "thyPush", thyPull: "thyPull", thyXs: "thyXs", thySm: "thySm", thyMd: "thyMd", thyLg: "thyLg", thyXl: "thyXl", thyXXl: "thyXXl" }, features: [ɵngcc0.ɵɵProvidersFeature([UpdateHostClassService]), ɵngcc0.ɵɵInheritDefinitionFeature, ɵngcc0.ɵɵNgOnChangesFeature] });
ThyColDirective.ctorParameters = () => [
    { type: ElementRef },
    { type: Renderer2 },
    { type: UpdateHostClassService },
    { type: ThyRowDirective, decorators: [{ type: Optional }, { type: Host }] }
];
ThyColDirective.propDecorators = {
    thyFlex: [{ type: Input }],
    thySpan: [{ type: Input }],
    thyOrder: [{ type: Input }],
    thyOffset: [{ type: Input }],
    thyPush: [{ type: Input }],
    thyPull: [{ type: Input }],
    thyXs: [{ type: Input }],
    thySm: [{ type: Input }],
    thyMd: [{ type: Input }],
    thyLg: [{ type: Input }],
    thyXl: [{ type: Input }],
    thyXXl: [{ type: Input }]
};
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ThyColDirective, [{
        type: Directive,
        args: [{
                selector: '[thyCol]',
                providers: [UpdateHostClassService],
                host: {
                    class: 'thy-col'
                }
            }]
    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc0.Renderer2 }, { type: ɵngcc1.UpdateHostClassService }, { type: ɵngcc2.ThyRowDirective, decorators: [{
                type: Optional
            }, {
                type: Host
            }] }]; }, { thyFlex: [{
            type: Input
        }], thySpan: [{
            type: Input
        }], thyOrder: [{
            type: Input
        }], thyOffset: [{
            type: Input
        }], thyPush: [{
            type: Input
        }], thyPull: [{
            type: Input
        }], thyXs: [{
            type: Input
        }], thySm: [{
            type: Input
        }], thyMd: [{
            type: Input
        }], thyLg: [{
            type: Input
        }], thyXl: [{
            type: Input
        }], thyXXl: [{
            type: Input
        }] }); })();

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGh5LWNvbC5kaXJlY3RpdmUuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9yYXN0ZXIvdGh5LWNvbC5kaXJlY3RpdmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILFNBQVMsRUFFVCxLQUFLLEVBRUwsVUFBVSxFQUNWLFFBQVEsRUFDUixJQUFJLEVBSUosU0FBUyxFQUVaLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ3pELE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUN0RCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDM0MsT0FBTyxFQUFFLGdCQUFnQixFQUFFLFNBQVMsRUFBK0IsTUFBTSxpQkFBaUIsQ0FBQzs7OztBQVUzRixNQUFNLFVBQVUsR0FBbUQsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLENBQUM7QUFTL0YsTUFBTSxPQUFPLGVBQWdCLFNBQVEsVUFBVTtBQUFHLElBYzlDLFlBQ1ksVUFBc0IsRUFDdEIsUUFBbUIsRUFDbkIsc0JBQThDLEVBQzNCLGVBQWdDO0FBQ2hFLFFBQ0ssS0FBSyxFQUFFLENBQUM7QUFDaEIsUUFOZ0IsZUFBVSxHQUFWLFVBQVUsQ0FBWTtBQUFDLFFBQ3ZCLGFBQVEsR0FBUixRQUFRLENBQVc7QUFBQyxRQUNwQiwyQkFBc0IsR0FBdEIsc0JBQXNCLENBQXdCO0FBQUMsUUFDNUIsb0JBQWUsR0FBZixlQUFlLENBQWlCO0FBQ25FLFFBbEJhLFlBQU8sR0FBMkIsSUFBSSxDQUFDO0FBQ3BELFFBQWEsWUFBTyxHQUFrQixFQUFFLENBQUM7QUFDekMsUUFBYSxhQUFRLEdBQWtCLElBQUksQ0FBQztBQUM1QyxRQUFhLGNBQVMsR0FBa0IsSUFBSSxDQUFDO0FBQzdDLFFBQWEsWUFBTyxHQUFrQixJQUFJLENBQUM7QUFDM0MsUUFBYSxZQUFPLEdBQWtCLElBQUksQ0FBQztBQUMzQyxR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S0FBSztBQUFLLG9CQUNWLEtBQUs7QUFBSyxvQkFDVixLQUFLO0FBQUsscUJBQ1YsS0FBSztBQUFJOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFBRTtBQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgICBEaXJlY3RpdmUsXG4gICAgSG9zdEJpbmRpbmcsXG4gICAgSW5wdXQsXG4gICAgT25DaGFuZ2VzLFxuICAgIEVsZW1lbnRSZWYsXG4gICAgT3B0aW9uYWwsXG4gICAgSG9zdCxcbiAgICBBZnRlckNvbnRlbnRJbml0LFxuICAgIEFmdGVyVmlld0luaXQsXG4gICAgT25EZXN0cm95LFxuICAgIFJlbmRlcmVyMixcbiAgICBPbkluaXRcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBVcGRhdGVIb3N0Q2xhc3NTZXJ2aWNlIH0gZnJvbSAnbmd4LXRldGh5cy9jb3JlJztcbmltcG9ydCB7IFRoeVJvd0RpcmVjdGl2ZSB9IGZyb20gJy4vdGh5LXJvdy5kaXJlY3RpdmUnO1xuaW1wb3J0IHsgdGFrZVVudGlsIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgbWl4aW5VbnN1YnNjcmliZSwgTWl4aW5CYXNlLCBDb25zdHJ1Y3RvciwgVGh5VW5zdWJzY3JpYmUgfSBmcm9tICduZ3gtdGV0aHlzL2NvcmUnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRoeUNvbEVtYmVkZGVkUHJvcGVydHkge1xuICAgIHNwYW4/OiBudW1iZXI7XG4gICAgcHVsbD86IG51bWJlcjtcbiAgICBwdXNoPzogbnVtYmVyO1xuICAgIG9mZnNldD86IG51bWJlcjtcbiAgICBvcmRlcj86IG51bWJlcjtcbn1cblxuY29uc3QgX01peGluQmFzZTogQ29uc3RydWN0b3I8VGh5VW5zdWJzY3JpYmU+ICYgdHlwZW9mIE1peGluQmFzZSA9IG1peGluVW5zdWJzY3JpYmUoTWl4aW5CYXNlKTtcblxuQERpcmVjdGl2ZSh7XG4gICAgc2VsZWN0b3I6ICdbdGh5Q29sXScsXG4gICAgcHJvdmlkZXJzOiBbVXBkYXRlSG9zdENsYXNzU2VydmljZV0sXG4gICAgaG9zdDoge1xuICAgICAgICBjbGFzczogJ3RoeS1jb2wnXG4gICAgfVxufSlcbmV4cG9ydCBjbGFzcyBUaHlDb2xEaXJlY3RpdmUgZXh0ZW5kcyBfTWl4aW5CYXNlIGltcGxlbWVudHMgT25Jbml0LCBPbkNoYW5nZXMsIEFmdGVyVmlld0luaXQsIE9uRGVzdHJveSB7XG4gICAgQElucHV0KCkgdGh5RmxleDogc3RyaW5nIHwgbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gICAgQElucHV0KCkgdGh5U3BhbjogbnVtYmVyIHwgbnVsbCA9IDI0O1xuICAgIEBJbnB1dCgpIHRoeU9yZGVyOiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgICBASW5wdXQoKSB0aHlPZmZzZXQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICAgIEBJbnB1dCgpIHRoeVB1c2g6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICAgIEBJbnB1dCgpIHRoeVB1bGw6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICAgIEBJbnB1dCgpIHRoeVhzOiBudW1iZXIgfCBUaHlDb2xFbWJlZGRlZFByb3BlcnR5IHwgbnVsbCA9IG51bGw7XG4gICAgQElucHV0KCkgdGh5U206IG51bWJlciB8IFRoeUNvbEVtYmVkZGVkUHJvcGVydHkgfCBudWxsID0gbnVsbDtcbiAgICBASW5wdXQoKSB0aHlNZDogbnVtYmVyIHwgVGh5Q29sRW1iZWRkZWRQcm9wZXJ0eSB8IG51bGwgPSBudWxsO1xuICAgIEBJbnB1dCgpIHRoeUxnOiBudW1iZXIgfCBUaHlDb2xFbWJlZGRlZFByb3BlcnR5IHwgbnVsbCA9IG51bGw7XG4gICAgQElucHV0KCkgdGh5WGw6IG51bWJlciB8IFRoeUNvbEVtYmVkZGVkUHJvcGVydHkgfCBudWxsID0gbnVsbDtcbiAgICBASW5wdXQoKSB0aHlYWGw6IG51bWJlciB8IFRoeUNvbEVtYmVkZGVkUHJvcGVydHkgfCBudWxsID0gbnVsbDtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGVsZW1lbnRSZWY6IEVsZW1lbnRSZWYsXG4gICAgICAgIHByaXZhdGUgcmVuZGVyZXI6IFJlbmRlcmVyMixcbiAgICAgICAgcHJpdmF0ZSB1cGRhdGVIb3N0Q2xhc3NTZXJ2aWNlOiBVcGRhdGVIb3N0Q2xhc3NTZXJ2aWNlLFxuICAgICAgICBAT3B0aW9uYWwoKSBASG9zdCgpIHB1YmxpYyB0aHlSb3dEaXJlY3RpdmU6IFRoeVJvd0RpcmVjdGl2ZVxuICAgICkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnVwZGF0ZUhvc3RDbGFzc1NlcnZpY2UuaW5pdGlhbGl6ZUVsZW1lbnQodGhpcy5lbGVtZW50UmVmKTtcbiAgICB9XG5cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgdGhpcy5fc2V0SG9zdENsYXNzTWFwKCk7XG4gICAgfVxuXG4gICAgbmdPbkNoYW5nZXMoY2hhbmdlczogaW1wb3J0KCdAYW5ndWxhci9jb3JlJykuU2ltcGxlQ2hhbmdlcyk6IHZvaWQge1xuICAgICAgICB0aGlzLl9zZXRIb3N0Q2xhc3NNYXAoKTtcbiAgICB9XG5cbiAgICBuZ0FmdGVyVmlld0luaXQoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnRoeVJvd0RpcmVjdGl2ZSkge1xuICAgICAgICAgICAgdGhpcy50aHlSb3dEaXJlY3RpdmUuYWN0dWFsR3V0dGVyJC5waXBlKHRha2VVbnRpbCh0aGlzLm5nVW5zdWJzY3JpYmUkKSkuc3Vic2NyaWJlKChbaG9yaXpvbnRhbEd1dHRlciwgdmVydGljYWxHdXR0ZXJdKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVuZGVyR3V0dGVyID0gKG5hbWU6IHN0cmluZywgZ3V0dGVyOiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmF0aXZlRWxlbWVudCA9IHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKG5hdGl2ZUVsZW1lbnQsIG5hbWUsIGAke2d1dHRlciAvIDJ9cHhgKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmIChob3Jpem9udGFsR3V0dGVyID4gMCkge1xuICAgICAgICAgICAgICAgICAgICByZW5kZXJHdXR0ZXIoJ3BhZGRpbmctbGVmdCcsIGhvcml6b250YWxHdXR0ZXIpO1xuICAgICAgICAgICAgICAgICAgICByZW5kZXJHdXR0ZXIoJ3BhZGRpbmctcmlnaHQnLCBob3Jpem9udGFsR3V0dGVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHZlcnRpY2FsR3V0dGVyID4gMCkge1xuICAgICAgICAgICAgICAgICAgICByZW5kZXJHdXR0ZXIoJ3BhZGRpbmctdG9wJywgdmVydGljYWxHdXR0ZXIpO1xuICAgICAgICAgICAgICAgICAgICByZW5kZXJHdXR0ZXIoJ3BhZGRpbmctYm90dG9tJywgdmVydGljYWxHdXR0ZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfc2V0SG9zdENsYXNzTWFwKCkge1xuICAgICAgICB0aGlzLnVwZGF0ZUhvc3RDbGFzc1NlcnZpY2UudXBkYXRlQ2xhc3NCeU1hcCh7XG4gICAgICAgICAgICBbYHRoeS1jb2wtJHt0aGlzLnRoeVNwYW59YF06IHRydWVcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIHN1cGVyLm5nT25EZXN0cm95KCk7XG4gICAgfVxufVxuIl19