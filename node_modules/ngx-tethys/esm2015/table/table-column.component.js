import { Component, Input, ElementRef, ViewEncapsulation, ContentChild, TemplateRef, InjectionToken, Optional, Inject } from '@angular/core';
/**
 * Injection token used to provide the parent component to options.
 */
import * as ɵngcc0 from '@angular/core';

const _c0 = ["cell"];
const _c1 = ["header"];
const _c2 = ["*"];
export const THY_TABLE_COLUMN_PARENT_COMPONENT = new InjectionToken('THY_TABLE_COLUMN_PARENT_COMPONENT');
/**
 * @deprecated THY_GRID_COLUMN_PARENT_COMPONENT is deprecated, please use THY_TABLE_COLUMN_PARENT_COMPONENT
 */
export const THY_GRID_COLUMN_PARENT_COMPONENT = THY_TABLE_COLUMN_PARENT_COMPONENT;
export class ThyTableColumnComponent {
    constructor(el, parent) {
        this.el = el;
        this.parent = parent;
        this.thyModelKey = '';
        this.thyTitle = '';
        this.thyType = '';
        this.thyWidth = '';
        this.thyClassName = '';
        this.thyHeaderClassName = '';
        this.thyDisabled = false;
        this.thyDefaultText = '';
        this.thyExpand = false;
        this.selections = [];
        this._firstChange = true;
        this.expand = false;
    }
    set thySelections(value) {
        if (value) {
            if (Array.isArray(value)) {
                this.selections = value;
            }
            else {
                this.selections = [value];
            }
            if (!this._firstChange) {
                this.parent.updateColumnSelections(this.key, this.selections);
            }
        }
    }
    set templateRef(value) {
        if (value) {
            if (!this.headerTemplateRef && !this.cellTemplateRef) {
                this.cellTemplateRef = value;
            }
        }
    }
    ngOnInit() {
        this.key = this._generateKey();
        this.model = this.thyModelKey;
        this.title = this.thyTitle;
        this.type = this.thyType;
        this.width = this.thyWidth;
        this.className = this.thyClassName;
        this.headerClassName = this.thyHeaderClassName;
        this.disabled = this.thyDisabled;
        this.defaultText = this.thyDefaultText;
        this._firstChange = false;
        this.expand = this.thyExpand;
    }
    _generateKey() {
        return ('[$$column]' +
            Math.random()
                .toString(16)
                .substr(2, 8));
    }
}
ThyTableColumnComponent.ɵfac = function ThyTableColumnComponent_Factory(t) { return new (t || ThyTableColumnComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(THY_GRID_COLUMN_PARENT_COMPONENT, 8)); };
ThyTableColumnComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: ThyTableColumnComponent, selectors: [["thy-grid-column"], ["thy-table-column"]], contentQueries: function ThyTableColumnComponent_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {
        ɵngcc0.ɵɵstaticContentQuery(dirIndex, TemplateRef, true);
        ɵngcc0.ɵɵstaticContentQuery(dirIndex, _c0, true);
        ɵngcc0.ɵɵstaticContentQuery(dirIndex, _c1, true);
    } if (rf & 2) {
        let _t;
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.templateRef = _t.first);
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.cellTemplateRef = _t.first);
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.headerTemplateRef = _t.first);
    } }, inputs: { thyModelKey: "thyModelKey", thyTitle: "thyTitle", thyType: "thyType", thyWidth: "thyWidth", thyClassName: "thyClassName", thyHeaderClassName: "thyHeaderClassName", thyDisabled: "thyDisabled", thyDefaultText: "thyDefaultText", thyExpand: "thyExpand", thySelections: "thySelections" }, ngContentSelectors: _c2, decls: 1, vars: 0, template: function ThyTableColumnComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵprojectionDef();
        ɵngcc0.ɵɵprojection(0);
    } }, encapsulation: 2 });
ThyTableColumnComponent.ctorParameters = () => [
    { type: ElementRef },
    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [THY_GRID_COLUMN_PARENT_COMPONENT,] }] }
];
ThyTableColumnComponent.propDecorators = {
    thyModelKey: [{ type: Input }],
    thyTitle: [{ type: Input }],
    thyType: [{ type: Input }],
    thyWidth: [{ type: Input }],
    thyClassName: [{ type: Input }],
    thyHeaderClassName: [{ type: Input }],
    thyDisabled: [{ type: Input }],
    thySelections: [{ type: Input }],
    thyDefaultText: [{ type: Input }],
    thyExpand: [{ type: Input }],
    headerTemplateRef: [{ type: ContentChild, args: ['header', { static: true },] }],
    cellTemplateRef: [{ type: ContentChild, args: ['cell', { static: true },] }],
    templateRef: [{ type: ContentChild, args: [TemplateRef, { static: true },] }]
};
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ThyTableColumnComponent, [{
        type: Component,
        args: [{
                selector: 'thy-grid-column,thy-table-column',
                template: '<ng-content></ng-content>',
                encapsulation: ViewEncapsulation.None
            }]
    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: undefined, decorators: [{
                type: Optional
            }, {
                type: Inject,
                args: [THY_GRID_COLUMN_PARENT_COMPONENT]
            }] }]; }, { thyModelKey: [{
            type: Input
        }], thyTitle: [{
            type: Input
        }], thyType: [{
            type: Input
        }], thyWidth: [{
            type: Input
        }], thyClassName: [{
            type: Input
        }], thyHeaderClassName: [{
            type: Input
        }], thyDisabled: [{
            type: Input
        }], thyDefaultText: [{
            type: Input
        }], thyExpand: [{
            type: Input
        }], thySelections: [{
            type: Input
        }], templateRef: [{
            type: ContentChild,
            args: [TemplateRef, { static: true }]
        }], cellTemplateRef: [{
            type: ContentChild,
            args: ['cell', { static: true }]
        }], headerTemplateRef: [{
            type: ContentChild,
            args: ['header', { static: true }]
        }] }); })();
/**
 * @deprecated ThyTableColumnComponent is deprecated, please use ThyTableColumnComponent
 */
export const ThyGridColumnComponent = ThyTableColumnComponent;

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFibGUtY29sdW1uLmNvbXBvbmVudC5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3RhYmxlL3RhYmxlLWNvbHVtbi5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILFNBQVMsRUFDVCxLQUFLLEVBQ0wsVUFBVSxFQUNWLGlCQUFpQixFQUNqQixZQUFZLEVBRVosV0FBVyxFQUVYLGNBQWMsRUFDZCxRQUFRLEVBQ1IsTUFBTSxFQUNULE1BQU0sZUFBZSxDQUFDO0FBWXZCO0FBQ0E7QUFDQSxHQUFHOzs7Ozs7QUFDSCxNQUFNLENBQUMsTUFBTSxpQ0FBaUMsR0FBRyxJQUFJLGNBQWMsQ0FBaUMsbUNBQW1DLENBQUMsQ0FBQztBQUN6STtBQUNBO0FBQ0EsR0FBRztBQUNILE1BQU0sQ0FBQyxNQUFNLGdDQUFnQyxHQUFHLGlDQUFpQyxDQUFDO0FBT2xGLE1BQU0sT0FBTyx1QkFBdUI7QUFBRyxJQXNFbkMsWUFDWSxFQUFjLEVBR2YsTUFBc0M7QUFDbEQsUUFKYSxPQUFFLEdBQUYsRUFBRSxDQUFZO0FBQUMsUUFHaEIsV0FBTSxHQUFOLE1BQU0sQ0FBZ0M7QUFDckQsUUExRWEsZ0JBQVcsR0FBRyxFQUFFLENBQUM7QUFDOUIsUUFDYSxhQUFRLEdBQUcsRUFBRSxDQUFDO0FBQzNCLFFBQ2EsWUFBTyxHQUFHLEVBQUUsQ0FBQztBQUMxQixRQUNhLGFBQVEsR0FBb0IsRUFBRSxDQUFDO0FBQzVDLFFBQ2EsaUJBQVksR0FBRyxFQUFFLENBQUM7QUFDL0IsUUFDYSx1QkFBa0IsR0FBRyxFQUFFLENBQUM7QUFDckMsUUFDYSxnQkFBVyxHQUFHLEtBQUssQ0FBQztBQUNqQyxRQWVhLG1CQUFjLEdBQUcsRUFBRSxDQUFDO0FBQ2pDLFFBQ2EsY0FBUyxHQUFHLEtBQUssQ0FBQztBQUMvQixRQXNCVyxlQUFVLEdBQVEsRUFBRSxDQUFDO0FBQ2hDLFFBV1ksaUJBQVksR0FBRyxJQUFJLENBQUM7QUFDaEMsUUFDVyxXQUFNLEdBQUcs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QUUsSUFBSSxFQUFFO0FBQU8sOEJBRTlDLFlBQVksU0FBQyxNQUFNLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFO0FBQU8sMEJBRTVDLFlBQVksU0FBQyxXQUFXLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFO0FBQzNDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBQUU7QUErRE47QUFDQTtBQUNBLEdBQUc7QUFDSCxNQUFNLENBQUMsTUFBTSxzQkFBc0IsR0FBRyx1QkFBdUIsQ0FBQztBQUM5RCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gICAgQ29tcG9uZW50LFxuICAgIElucHV0LFxuICAgIEVsZW1lbnRSZWYsXG4gICAgVmlld0VuY2Fwc3VsYXRpb24sXG4gICAgQ29udGVudENoaWxkLFxuICAgIENvbnRlbnRDaGlsZHJlbixcbiAgICBUZW1wbGF0ZVJlZixcbiAgICBWaWV3Q2hpbGQsXG4gICAgSW5qZWN0aW9uVG9rZW4sXG4gICAgT3B0aW9uYWwsXG4gICAgSW5qZWN0XG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgT25Jbml0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVRoeVRhYmxlQ29sdW1uUGFyZW50Q29tcG9uZW50IHtcbiAgICB1cGRhdGVDb2x1bW5TZWxlY3Rpb25zKGtleTogc3RyaW5nLCBzZWxlY3Rpb25zOiBhbnkpOiB2b2lkO1xufVxuXG4vKipcbiAqIEBkZXByZWNhdGVkIElUaHlUYWJsZUNvbHVtblBhcmVudENvbXBvbmVudCBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIElUaHlUYWJsZUNvbHVtblBhcmVudENvbXBvbmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIElUaHlHcmlkQ29sdW1uUGFyZW50Q29tcG9uZW50IGV4dGVuZHMgSVRoeVRhYmxlQ29sdW1uUGFyZW50Q29tcG9uZW50IHt9XG5cbi8qKlxuICogSW5qZWN0aW9uIHRva2VuIHVzZWQgdG8gcHJvdmlkZSB0aGUgcGFyZW50IGNvbXBvbmVudCB0byBvcHRpb25zLlxuICovXG5leHBvcnQgY29uc3QgVEhZX1RBQkxFX0NPTFVNTl9QQVJFTlRfQ09NUE9ORU5UID0gbmV3IEluamVjdGlvblRva2VuPElUaHlUYWJsZUNvbHVtblBhcmVudENvbXBvbmVudD4oJ1RIWV9UQUJMRV9DT0xVTU5fUEFSRU5UX0NPTVBPTkVOVCcpO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBUSFlfR1JJRF9DT0xVTU5fUEFSRU5UX0NPTVBPTkVOVCBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFRIWV9UQUJMRV9DT0xVTU5fUEFSRU5UX0NPTVBPTkVOVFxuICovXG5leHBvcnQgY29uc3QgVEhZX0dSSURfQ09MVU1OX1BBUkVOVF9DT01QT05FTlQgPSBUSFlfVEFCTEVfQ09MVU1OX1BBUkVOVF9DT01QT05FTlQ7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAndGh5LWdyaWQtY29sdW1uLHRoeS10YWJsZS1jb2x1bW4nLFxuICAgIHRlbXBsYXRlOiAnPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PicsXG4gICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZVxufSlcbmV4cG9ydCBjbGFzcyBUaHlUYWJsZUNvbHVtbkNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gICAgQElucHV0KCkgdGh5TW9kZWxLZXkgPSAnJztcblxuICAgIEBJbnB1dCgpIHRoeVRpdGxlID0gJyc7XG5cbiAgICBASW5wdXQoKSB0aHlUeXBlID0gJyc7XG5cbiAgICBASW5wdXQoKSB0aHlXaWR0aDogc3RyaW5nIHwgbnVtYmVyID0gJyc7XG5cbiAgICBASW5wdXQoKSB0aHlDbGFzc05hbWUgPSAnJztcblxuICAgIEBJbnB1dCgpIHRoeUhlYWRlckNsYXNzTmFtZSA9ICcnO1xuXG4gICAgQElucHV0KCkgdGh5RGlzYWJsZWQgPSBmYWxzZTtcblxuICAgIEBJbnB1dCgpXG4gICAgc2V0IHRoeVNlbGVjdGlvbnModmFsdWU6IGFueSkge1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9ucyA9IHZhbHVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvbnMgPSBbdmFsdWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLl9maXJzdENoYW5nZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnVwZGF0ZUNvbHVtblNlbGVjdGlvbnModGhpcy5rZXksIHRoaXMuc2VsZWN0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBASW5wdXQoKSB0aHlEZWZhdWx0VGV4dCA9ICcnO1xuXG4gICAgQElucHV0KCkgdGh5RXhwYW5kID0gZmFsc2U7XG5cbiAgICBAQ29udGVudENoaWxkKCdoZWFkZXInLCB7IHN0YXRpYzogdHJ1ZSB9KSBoZWFkZXJUZW1wbGF0ZVJlZjogVGVtcGxhdGVSZWY8YW55PjtcblxuICAgIEBDb250ZW50Q2hpbGQoJ2NlbGwnLCB7IHN0YXRpYzogdHJ1ZSB9KSBjZWxsVGVtcGxhdGVSZWY6IFRlbXBsYXRlUmVmPGFueT47XG5cbiAgICBAQ29udGVudENoaWxkKFRlbXBsYXRlUmVmLCB7IHN0YXRpYzogdHJ1ZSB9KVxuICAgIHNldCB0ZW1wbGF0ZVJlZih2YWx1ZTogVGVtcGxhdGVSZWY8YW55Pikge1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5oZWFkZXJUZW1wbGF0ZVJlZiAmJiAhdGhpcy5jZWxsVGVtcGxhdGVSZWYpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNlbGxUZW1wbGF0ZVJlZiA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGtleT86IHN0cmluZztcblxuICAgIHB1YmxpYyBtb2RlbDogc3RyaW5nO1xuXG4gICAgcHVibGljIHRpdGxlOiBzdHJpbmc7XG5cbiAgICBwdWJsaWMgdHlwZTogc3RyaW5nO1xuXG4gICAgcHVibGljIHNlbGVjdGlvbnM6IGFueSA9IFtdO1xuXG4gICAgcHVibGljIHdpZHRoOiBzdHJpbmcgfCBudW1iZXI7XG5cbiAgICBwdWJsaWMgY2xhc3NOYW1lOiBzdHJpbmc7XG5cbiAgICBwdWJsaWMgaGVhZGVyQ2xhc3NOYW1lOiBzdHJpbmc7XG5cbiAgICBwdWJsaWMgZGlzYWJsZWQ6IGJvb2xlYW47XG5cbiAgICBwdWJsaWMgZGVmYXVsdFRleHQ6IHN0cmluZztcblxuICAgIHByaXZhdGUgX2ZpcnN0Q2hhbmdlID0gdHJ1ZTtcblxuICAgIHB1YmxpYyBleHBhbmQgPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGVsOiBFbGVtZW50UmVmLFxuICAgICAgICBAT3B0aW9uYWwoKVxuICAgICAgICBASW5qZWN0KFRIWV9HUklEX0NPTFVNTl9QQVJFTlRfQ09NUE9ORU5UKVxuICAgICAgICBwdWJsaWMgcGFyZW50OiBJVGh5VGFibGVDb2x1bW5QYXJlbnRDb21wb25lbnRcbiAgICApIHt9XG5cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgdGhpcy5rZXkgPSB0aGlzLl9nZW5lcmF0ZUtleSgpO1xuICAgICAgICB0aGlzLm1vZGVsID0gdGhpcy50aHlNb2RlbEtleTtcbiAgICAgICAgdGhpcy50aXRsZSA9IHRoaXMudGh5VGl0bGU7XG4gICAgICAgIHRoaXMudHlwZSA9IHRoaXMudGh5VHlwZTtcbiAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMudGh5V2lkdGg7XG4gICAgICAgIHRoaXMuY2xhc3NOYW1lID0gdGhpcy50aHlDbGFzc05hbWU7XG4gICAgICAgIHRoaXMuaGVhZGVyQ2xhc3NOYW1lID0gdGhpcy50aHlIZWFkZXJDbGFzc05hbWU7XG4gICAgICAgIHRoaXMuZGlzYWJsZWQgPSB0aGlzLnRoeURpc2FibGVkO1xuICAgICAgICB0aGlzLmRlZmF1bHRUZXh0ID0gdGhpcy50aHlEZWZhdWx0VGV4dDtcbiAgICAgICAgdGhpcy5fZmlyc3RDaGFuZ2UgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5leHBhbmQgPSB0aGlzLnRoeUV4cGFuZDtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9nZW5lcmF0ZUtleSgpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICdbJCRjb2x1bW5dJyArXG4gICAgICAgICAgICBNYXRoLnJhbmRvbSgpXG4gICAgICAgICAgICAgICAgLnRvU3RyaW5nKDE2KVxuICAgICAgICAgICAgICAgIC5zdWJzdHIoMiwgOClcbiAgICAgICAgKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVGh5VGFibGVDb2x1bW5Db21wb25lbnQgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBUaHlUYWJsZUNvbHVtbkNvbXBvbmVudFxuICovXG5leHBvcnQgY29uc3QgVGh5R3JpZENvbHVtbkNvbXBvbmVudCA9IFRoeVRhYmxlQ29sdW1uQ29tcG9uZW50O1xuIl19