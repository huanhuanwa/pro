import { Component, Input, ElementRef, ViewEncapsulation, ContentChild, TemplateRef, InjectionToken, Optional, Inject } from '@angular/core';
/**
 * Injection token used to provide the parent component to options.
 */
export const THY_TABLE_COLUMN_PARENT_COMPONENT = new InjectionToken('THY_TABLE_COLUMN_PARENT_COMPONENT');
/**
 * @deprecated THY_GRID_COLUMN_PARENT_COMPONENT is deprecated, please use THY_TABLE_COLUMN_PARENT_COMPONENT
 */
export const THY_GRID_COLUMN_PARENT_COMPONENT = THY_TABLE_COLUMN_PARENT_COMPONENT;
export class ThyTableColumnComponent {
    constructor(el, parent) {
        this.el = el;
        this.parent = parent;
        this.thyModelKey = '';
        this.thyTitle = '';
        this.thyType = '';
        this.thyWidth = '';
        this.thyClassName = '';
        this.thyHeaderClassName = '';
        this.thyDisabled = false;
        this.thyDefaultText = '';
        this.thyExpand = false;
        this.selections = [];
        this._firstChange = true;
        this.expand = false;
    }
    set thySelections(value) {
        if (value) {
            if (Array.isArray(value)) {
                this.selections = value;
            }
            else {
                this.selections = [value];
            }
            if (!this._firstChange) {
                this.parent.updateColumnSelections(this.key, this.selections);
            }
        }
    }
    set templateRef(value) {
        if (value) {
            if (!this.headerTemplateRef && !this.cellTemplateRef) {
                this.cellTemplateRef = value;
            }
        }
    }
    ngOnInit() {
        this.key = this._generateKey();
        this.model = this.thyModelKey;
        this.title = this.thyTitle;
        this.type = this.thyType;
        this.width = this.thyWidth;
        this.className = this.thyClassName;
        this.headerClassName = this.thyHeaderClassName;
        this.disabled = this.thyDisabled;
        this.defaultText = this.thyDefaultText;
        this._firstChange = false;
        this.expand = this.thyExpand;
    }
    _generateKey() {
        return ('[$$column]' +
            Math.random()
                .toString(16)
                .substr(2, 8));
    }
}
ThyTableColumnComponent.decorators = [
    { type: Component, args: [{
                selector: 'thy-grid-column,thy-table-column',
                template: '<ng-content></ng-content>',
                encapsulation: ViewEncapsulation.None
            },] }
];
ThyTableColumnComponent.ctorParameters = () => [
    { type: ElementRef },
    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [THY_GRID_COLUMN_PARENT_COMPONENT,] }] }
];
ThyTableColumnComponent.propDecorators = {
    thyModelKey: [{ type: Input }],
    thyTitle: [{ type: Input }],
    thyType: [{ type: Input }],
    thyWidth: [{ type: Input }],
    thyClassName: [{ type: Input }],
    thyHeaderClassName: [{ type: Input }],
    thyDisabled: [{ type: Input }],
    thySelections: [{ type: Input }],
    thyDefaultText: [{ type: Input }],
    thyExpand: [{ type: Input }],
    headerTemplateRef: [{ type: ContentChild, args: ['header', { static: true },] }],
    cellTemplateRef: [{ type: ContentChild, args: ['cell', { static: true },] }],
    templateRef: [{ type: ContentChild, args: [TemplateRef, { static: true },] }]
};
/**
 * @deprecated ThyTableColumnComponent is deprecated, please use ThyTableColumnComponent
 */
export const ThyGridColumnComponent = ThyTableColumnComponent;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFibGUtY29sdW1uLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90YWJsZS90YWJsZS1jb2x1bW4uY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDSCxTQUFTLEVBQ1QsS0FBSyxFQUNMLFVBQVUsRUFDVixpQkFBaUIsRUFDakIsWUFBWSxFQUVaLFdBQVcsRUFFWCxjQUFjLEVBQ2QsUUFBUSxFQUNSLE1BQU0sRUFDVCxNQUFNLGVBQWUsQ0FBQztBQVl2Qjs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLGlDQUFpQyxHQUFHLElBQUksY0FBYyxDQUFpQyxtQ0FBbUMsQ0FBQyxDQUFDO0FBQ3pJOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sZ0NBQWdDLEdBQUcsaUNBQWlDLENBQUM7QUFPbEYsTUFBTSxPQUFPLHVCQUF1QjtJQXNFaEMsWUFDWSxFQUFjLEVBR2YsTUFBc0M7UUFIckMsT0FBRSxHQUFGLEVBQUUsQ0FBWTtRQUdmLFdBQU0sR0FBTixNQUFNLENBQWdDO1FBekV4QyxnQkFBVyxHQUFHLEVBQUUsQ0FBQztRQUVqQixhQUFRLEdBQUcsRUFBRSxDQUFDO1FBRWQsWUFBTyxHQUFHLEVBQUUsQ0FBQztRQUViLGFBQVEsR0FBb0IsRUFBRSxDQUFDO1FBRS9CLGlCQUFZLEdBQUcsRUFBRSxDQUFDO1FBRWxCLHVCQUFrQixHQUFHLEVBQUUsQ0FBQztRQUV4QixnQkFBVyxHQUFHLEtBQUssQ0FBQztRQWdCcEIsbUJBQWMsR0FBRyxFQUFFLENBQUM7UUFFcEIsY0FBUyxHQUFHLEtBQUssQ0FBQztRQXVCcEIsZUFBVSxHQUFRLEVBQUUsQ0FBQztRQVlwQixpQkFBWSxHQUFHLElBQUksQ0FBQztRQUVyQixXQUFNLEdBQUcsS0FBSyxDQUFDO0lBT25CLENBQUM7SUE1REosSUFDSSxhQUFhLENBQUMsS0FBVTtRQUN4QixJQUFJLEtBQUssRUFBRTtZQUNQLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRTtnQkFDdEIsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7YUFDM0I7aUJBQU07Z0JBQ0gsSUFBSSxDQUFDLFVBQVUsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO2FBQzdCO1lBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUU7Z0JBQ3BCLElBQUksQ0FBQyxNQUFNLENBQUMsc0JBQXNCLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7YUFDakU7U0FDSjtJQUNMLENBQUM7SUFVRCxJQUNJLFdBQVcsQ0FBQyxLQUF1QjtRQUNuQyxJQUFJLEtBQUssRUFBRTtZQUNQLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLElBQUksQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFO2dCQUNsRCxJQUFJLENBQUMsZUFBZSxHQUFHLEtBQUssQ0FBQzthQUNoQztTQUNKO0lBQ0wsQ0FBQztJQWlDRCxRQUFRO1FBQ0osSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7UUFDL0IsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDO1FBQzlCLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztRQUMzQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUM7UUFDekIsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO1FBQzNCLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQztRQUNuQyxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQztRQUMvQyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUM7UUFDakMsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDO1FBQ3ZDLElBQUksQ0FBQyxZQUFZLEdBQUcsS0FBSyxDQUFDO1FBQzFCLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUNqQyxDQUFDO0lBRU8sWUFBWTtRQUNoQixPQUFPLENBQ0gsWUFBWTtZQUNaLElBQUksQ0FBQyxNQUFNLEVBQUU7aUJBQ1IsUUFBUSxDQUFDLEVBQUUsQ0FBQztpQkFDWixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUNwQixDQUFDO0lBQ04sQ0FBQzs7O1lBdkdKLFNBQVMsU0FBQztnQkFDUCxRQUFRLEVBQUUsa0NBQWtDO2dCQUM1QyxRQUFRLEVBQUUsMkJBQTJCO2dCQUNyQyxhQUFhLEVBQUUsaUJBQWlCLENBQUMsSUFBSTthQUN4Qzs7O1lBbENHLFVBQVU7NENBMkdMLFFBQVEsWUFDUixNQUFNLFNBQUMsZ0NBQWdDOzs7MEJBeEUzQyxLQUFLO3VCQUVMLEtBQUs7c0JBRUwsS0FBSzt1QkFFTCxLQUFLOzJCQUVMLEtBQUs7aUNBRUwsS0FBSzswQkFFTCxLQUFLOzRCQUVMLEtBQUs7NkJBY0wsS0FBSzt3QkFFTCxLQUFLO2dDQUVMLFlBQVksU0FBQyxRQUFRLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFOzhCQUV2QyxZQUFZLFNBQUMsTUFBTSxFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRTswQkFFckMsWUFBWSxTQUFDLFdBQVcsRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUU7O0FBZ0UvQzs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLHNCQUFzQixHQUFHLHVCQUF1QixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgICBDb21wb25lbnQsXG4gICAgSW5wdXQsXG4gICAgRWxlbWVudFJlZixcbiAgICBWaWV3RW5jYXBzdWxhdGlvbixcbiAgICBDb250ZW50Q2hpbGQsXG4gICAgQ29udGVudENoaWxkcmVuLFxuICAgIFRlbXBsYXRlUmVmLFxuICAgIFZpZXdDaGlsZCxcbiAgICBJbmplY3Rpb25Ub2tlbixcbiAgICBPcHRpb25hbCxcbiAgICBJbmplY3Rcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuZXhwb3J0IGludGVyZmFjZSBJVGh5VGFibGVDb2x1bW5QYXJlbnRDb21wb25lbnQge1xuICAgIHVwZGF0ZUNvbHVtblNlbGVjdGlvbnMoa2V5OiBzdHJpbmcsIHNlbGVjdGlvbnM6IGFueSk6IHZvaWQ7XG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgSVRoeVRhYmxlQ29sdW1uUGFyZW50Q29tcG9uZW50IGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgSVRoeVRhYmxlQ29sdW1uUGFyZW50Q29tcG9uZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSVRoeUdyaWRDb2x1bW5QYXJlbnRDb21wb25lbnQgZXh0ZW5kcyBJVGh5VGFibGVDb2x1bW5QYXJlbnRDb21wb25lbnQge31cblxuLyoqXG4gKiBJbmplY3Rpb24gdG9rZW4gdXNlZCB0byBwcm92aWRlIHRoZSBwYXJlbnQgY29tcG9uZW50IHRvIG9wdGlvbnMuXG4gKi9cbmV4cG9ydCBjb25zdCBUSFlfVEFCTEVfQ09MVU1OX1BBUkVOVF9DT01QT05FTlQgPSBuZXcgSW5qZWN0aW9uVG9rZW48SVRoeVRhYmxlQ29sdW1uUGFyZW50Q29tcG9uZW50PignVEhZX1RBQkxFX0NPTFVNTl9QQVJFTlRfQ09NUE9ORU5UJyk7XG4vKipcbiAqIEBkZXByZWNhdGVkIFRIWV9HUklEX0NPTFVNTl9QQVJFTlRfQ09NUE9ORU5UIGlzIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgVEhZX1RBQkxFX0NPTFVNTl9QQVJFTlRfQ09NUE9ORU5UXG4gKi9cbmV4cG9ydCBjb25zdCBUSFlfR1JJRF9DT0xVTU5fUEFSRU5UX0NPTVBPTkVOVCA9IFRIWV9UQUJMRV9DT0xVTU5fUEFSRU5UX0NPTVBPTkVOVDtcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICd0aHktZ3JpZC1jb2x1bW4sdGh5LXRhYmxlLWNvbHVtbicsXG4gICAgdGVtcGxhdGU6ICc8bmctY29udGVudD48L25nLWNvbnRlbnQ+JyxcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXG59KVxuZXhwb3J0IGNsYXNzIFRoeVRhYmxlQ29sdW1uQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgICBASW5wdXQoKSB0aHlNb2RlbEtleSA9ICcnO1xuXG4gICAgQElucHV0KCkgdGh5VGl0bGUgPSAnJztcblxuICAgIEBJbnB1dCgpIHRoeVR5cGUgPSAnJztcblxuICAgIEBJbnB1dCgpIHRoeVdpZHRoOiBzdHJpbmcgfCBudW1iZXIgPSAnJztcblxuICAgIEBJbnB1dCgpIHRoeUNsYXNzTmFtZSA9ICcnO1xuXG4gICAgQElucHV0KCkgdGh5SGVhZGVyQ2xhc3NOYW1lID0gJyc7XG5cbiAgICBASW5wdXQoKSB0aHlEaXNhYmxlZCA9IGZhbHNlO1xuXG4gICAgQElucHV0KClcbiAgICBzZXQgdGh5U2VsZWN0aW9ucyh2YWx1ZTogYW55KSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb25zID0gdmFsdWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9ucyA9IFt2YWx1ZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2ZpcnN0Q2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQudXBkYXRlQ29sdW1uU2VsZWN0aW9ucyh0aGlzLmtleSwgdGhpcy5zZWxlY3Rpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBJbnB1dCgpIHRoeURlZmF1bHRUZXh0ID0gJyc7XG5cbiAgICBASW5wdXQoKSB0aHlFeHBhbmQgPSBmYWxzZTtcblxuICAgIEBDb250ZW50Q2hpbGQoJ2hlYWRlcicsIHsgc3RhdGljOiB0cnVlIH0pIGhlYWRlclRlbXBsYXRlUmVmOiBUZW1wbGF0ZVJlZjxhbnk+O1xuXG4gICAgQENvbnRlbnRDaGlsZCgnY2VsbCcsIHsgc3RhdGljOiB0cnVlIH0pIGNlbGxUZW1wbGF0ZVJlZjogVGVtcGxhdGVSZWY8YW55PjtcblxuICAgIEBDb250ZW50Q2hpbGQoVGVtcGxhdGVSZWYsIHsgc3RhdGljOiB0cnVlIH0pXG4gICAgc2V0IHRlbXBsYXRlUmVmKHZhbHVlOiBUZW1wbGF0ZVJlZjxhbnk+KSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmhlYWRlclRlbXBsYXRlUmVmICYmICF0aGlzLmNlbGxUZW1wbGF0ZVJlZikge1xuICAgICAgICAgICAgICAgIHRoaXMuY2VsbFRlbXBsYXRlUmVmID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMga2V5Pzogc3RyaW5nO1xuXG4gICAgcHVibGljIG1vZGVsOiBzdHJpbmc7XG5cbiAgICBwdWJsaWMgdGl0bGU6IHN0cmluZztcblxuICAgIHB1YmxpYyB0eXBlOiBzdHJpbmc7XG5cbiAgICBwdWJsaWMgc2VsZWN0aW9uczogYW55ID0gW107XG5cbiAgICBwdWJsaWMgd2lkdGg6IHN0cmluZyB8IG51bWJlcjtcblxuICAgIHB1YmxpYyBjbGFzc05hbWU6IHN0cmluZztcblxuICAgIHB1YmxpYyBoZWFkZXJDbGFzc05hbWU6IHN0cmluZztcblxuICAgIHB1YmxpYyBkaXNhYmxlZDogYm9vbGVhbjtcblxuICAgIHB1YmxpYyBkZWZhdWx0VGV4dDogc3RyaW5nO1xuXG4gICAgcHJpdmF0ZSBfZmlyc3RDaGFuZ2UgPSB0cnVlO1xuXG4gICAgcHVibGljIGV4cGFuZCA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgZWw6IEVsZW1lbnRSZWYsXG4gICAgICAgIEBPcHRpb25hbCgpXG4gICAgICAgIEBJbmplY3QoVEhZX0dSSURfQ09MVU1OX1BBUkVOVF9DT01QT05FTlQpXG4gICAgICAgIHB1YmxpYyBwYXJlbnQ6IElUaHlUYWJsZUNvbHVtblBhcmVudENvbXBvbmVudFxuICAgICkge31cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICB0aGlzLmtleSA9IHRoaXMuX2dlbmVyYXRlS2V5KCk7XG4gICAgICAgIHRoaXMubW9kZWwgPSB0aGlzLnRoeU1vZGVsS2V5O1xuICAgICAgICB0aGlzLnRpdGxlID0gdGhpcy50aHlUaXRsZTtcbiAgICAgICAgdGhpcy50eXBlID0gdGhpcy50aHlUeXBlO1xuICAgICAgICB0aGlzLndpZHRoID0gdGhpcy50aHlXaWR0aDtcbiAgICAgICAgdGhpcy5jbGFzc05hbWUgPSB0aGlzLnRoeUNsYXNzTmFtZTtcbiAgICAgICAgdGhpcy5oZWFkZXJDbGFzc05hbWUgPSB0aGlzLnRoeUhlYWRlckNsYXNzTmFtZTtcbiAgICAgICAgdGhpcy5kaXNhYmxlZCA9IHRoaXMudGh5RGlzYWJsZWQ7XG4gICAgICAgIHRoaXMuZGVmYXVsdFRleHQgPSB0aGlzLnRoeURlZmF1bHRUZXh0O1xuICAgICAgICB0aGlzLl9maXJzdENoYW5nZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmV4cGFuZCA9IHRoaXMudGh5RXhwYW5kO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2dlbmVyYXRlS2V5KCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgJ1skJGNvbHVtbl0nICtcbiAgICAgICAgICAgIE1hdGgucmFuZG9tKClcbiAgICAgICAgICAgICAgICAudG9TdHJpbmcoMTYpXG4gICAgICAgICAgICAgICAgLnN1YnN0cigyLCA4KVxuICAgICAgICApO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBUaHlUYWJsZUNvbHVtbkNvbXBvbmVudCBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFRoeVRhYmxlQ29sdW1uQ29tcG9uZW50XG4gKi9cbmV4cG9ydCBjb25zdCBUaHlHcmlkQ29sdW1uQ29tcG9uZW50ID0gVGh5VGFibGVDb2x1bW5Db21wb25lbnQ7XG4iXX0=