import { isString, isArray } from 'ngx-tethys/util';
import { MIME_Map } from './constant';
export function mimeTypeConvert(value) {
    let inputTypes;
    const acceptTypes = [];
    if (isArray(value)) {
        inputTypes = value;
    }
    else if (isString(value)) {
        inputTypes = value.split(',');
    }
    else {
        inputTypes = [];
    }
    if (inputTypes.length > 0) {
        inputTypes.forEach(n => {
            if (MIME_Map[n]) {
                acceptTypes.push(MIME_Map[n]);
            }
            else {
                acceptTypes.push(n);
            }
        });
    }
    return acceptTypes.join(',');
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy91cGxvYWRlci91dGlsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDcEQsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLFlBQVksQ0FBQztBQUV0QyxNQUFNLFVBQVUsZUFBZSxDQUFDLEtBQTZCO0lBQ3pELElBQUksVUFBeUIsQ0FBQztJQUM5QixNQUFNLFdBQVcsR0FBa0IsRUFBRSxDQUFDO0lBQ3RDLElBQUksT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFO1FBQ2hCLFVBQVUsR0FBRyxLQUFzQixDQUFDO0tBQ3ZDO1NBQU0sSUFBSSxRQUFRLENBQUMsS0FBSyxDQUFDLEVBQUU7UUFDeEIsVUFBVSxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7S0FDakM7U0FBTTtRQUNILFVBQVUsR0FBRyxFQUFFLENBQUM7S0FDbkI7SUFFRCxJQUFJLFVBQVUsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1FBQ3ZCLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDbkIsSUFBSSxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUU7Z0JBQ2IsV0FBVyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUNqQztpQkFBTTtnQkFDSCxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ3ZCO1FBQ0wsQ0FBQyxDQUFDLENBQUM7S0FDTjtJQUNELE9BQU8sV0FBVyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNqQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNTdHJpbmcsIGlzQXJyYXkgfSBmcm9tICduZ3gtdGV0aHlzL3V0aWwnO1xuaW1wb3J0IHsgTUlNRV9NYXAgfSBmcm9tICcuL2NvbnN0YW50JztcblxuZXhwb3J0IGZ1bmN0aW9uIG1pbWVUeXBlQ29udmVydCh2YWx1ZTogQXJyYXk8c3RyaW5nPiB8IHN0cmluZyk6IHN0cmluZyB7XG4gICAgbGV0IGlucHV0VHlwZXM6IEFycmF5PHN0cmluZz47XG4gICAgY29uc3QgYWNjZXB0VHlwZXM6IEFycmF5PHN0cmluZz4gPSBbXTtcbiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgaW5wdXRUeXBlcyA9IHZhbHVlIGFzIEFycmF5PHN0cmluZz47XG4gICAgfSBlbHNlIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgICAgaW5wdXRUeXBlcyA9IHZhbHVlLnNwbGl0KCcsJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaW5wdXRUeXBlcyA9IFtdO1xuICAgIH1cblxuICAgIGlmIChpbnB1dFR5cGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgaW5wdXRUeXBlcy5mb3JFYWNoKG4gPT4ge1xuICAgICAgICAgICAgaWYgKE1JTUVfTWFwW25dKSB7XG4gICAgICAgICAgICAgICAgYWNjZXB0VHlwZXMucHVzaChNSU1FX01hcFtuXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFjY2VwdFR5cGVzLnB1c2gobik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gYWNjZXB0VHlwZXMuam9pbignLCcpO1xufVxuIl19