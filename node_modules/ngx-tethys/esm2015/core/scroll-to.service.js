import { dom } from 'ngx-tethys/util';
export class ScrollToService {
    static _customScrollToElement(targetElement, containerElement) {
        const containerOffset = dom.getElementOffset(containerElement);
        const targetOffset = dom.getElementOffset(targetElement);
        // 选择项在顶部隐藏的偏移量 > 0 表示被顶部遮住隐藏
        const topOffset = containerOffset.top - targetOffset.top;
        // 选择项在底部隐藏的偏移量 > 0 表示被底部遮住隐藏
        const bottomOffset = targetOffset.top + targetOffset.height - (containerOffset.top + containerOffset.height);
        // 隐藏后滚动展示 targetElement 的偏移量，避免紧挨着头部或者底部
        const viewOffset = targetOffset.height;
        if (topOffset > 0) {
            containerElement.scrollTop = containerElement.scrollTop - topOffset - viewOffset;
        }
        else if (bottomOffset > 0) {
            containerElement.scrollTop = containerElement.scrollTop + bottomOffset + viewOffset;
        }
    }
    static scrollToElement(targetElement, containerElement) {
        if (targetElement) {
            this._customScrollToElement(targetElement, containerElement);
            // if (targetElement.scrollIntoView) {
            //     targetElement.scrollIntoView({
            //         behavior: 'smooth',
            //         block: 'center'
            //     });
            // } else {
            //     this._customScrollToElement(targetElement, containerElement);
            // }
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2Nyb2xsLXRvLnNlcnZpY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvY29yZS9zY3JvbGwtdG8uc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFFdEMsTUFBTSxPQUFPLGVBQWU7SUFDeEIsTUFBTSxDQUFDLHNCQUFzQixDQUFDLGFBQTBCLEVBQUUsZ0JBQTZCO1FBQ25GLE1BQU0sZUFBZSxHQUFHLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBQy9ELE1BQU0sWUFBWSxHQUFHLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUN6RCw2QkFBNkI7UUFDN0IsTUFBTSxTQUFTLEdBQUcsZUFBZSxDQUFDLEdBQUcsR0FBRyxZQUFZLENBQUMsR0FBRyxDQUFDO1FBQ3pELDZCQUE2QjtRQUM3QixNQUFNLFlBQVksR0FBRyxZQUFZLENBQUMsR0FBRyxHQUFHLFlBQVksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxlQUFlLENBQUMsR0FBRyxHQUFHLGVBQWUsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUM3Ryx5Q0FBeUM7UUFDekMsTUFBTSxVQUFVLEdBQUcsWUFBWSxDQUFDLE1BQU0sQ0FBQztRQUN2QyxJQUFJLFNBQVMsR0FBRyxDQUFDLEVBQUU7WUFDZixnQkFBZ0IsQ0FBQyxTQUFTLEdBQUcsZ0JBQWdCLENBQUMsU0FBUyxHQUFHLFNBQVMsR0FBRyxVQUFVLENBQUM7U0FDcEY7YUFBTSxJQUFJLFlBQVksR0FBRyxDQUFDLEVBQUU7WUFDekIsZ0JBQWdCLENBQUMsU0FBUyxHQUFHLGdCQUFnQixDQUFDLFNBQVMsR0FBRyxZQUFZLEdBQUcsVUFBVSxDQUFDO1NBQ3ZGO0lBQ0wsQ0FBQztJQUNELE1BQU0sQ0FBQyxlQUFlLENBQUMsYUFBMEIsRUFBRSxnQkFBNkI7UUFDNUUsSUFBSSxhQUFhLEVBQUU7WUFDZixJQUFJLENBQUMsc0JBQXNCLENBQUMsYUFBYSxFQUFFLGdCQUFnQixDQUFDLENBQUM7WUFDN0Qsc0NBQXNDO1lBQ3RDLHFDQUFxQztZQUNyQyw4QkFBOEI7WUFDOUIsMEJBQTBCO1lBQzFCLFVBQVU7WUFDVixXQUFXO1lBQ1gsb0VBQW9FO1lBQ3BFLElBQUk7U0FDUDtJQUNMLENBQUM7Q0FDSiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IGRvbSB9IGZyb20gJ25neC10ZXRoeXMvdXRpbCc7XG5cbmV4cG9ydCBjbGFzcyBTY3JvbGxUb1NlcnZpY2Uge1xuICAgIHN0YXRpYyBfY3VzdG9tU2Nyb2xsVG9FbGVtZW50KHRhcmdldEVsZW1lbnQ6IEhUTUxFbGVtZW50LCBjb250YWluZXJFbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICAgICAgICBjb25zdCBjb250YWluZXJPZmZzZXQgPSBkb20uZ2V0RWxlbWVudE9mZnNldChjb250YWluZXJFbGVtZW50KTtcbiAgICAgICAgY29uc3QgdGFyZ2V0T2Zmc2V0ID0gZG9tLmdldEVsZW1lbnRPZmZzZXQodGFyZ2V0RWxlbWVudCk7XG4gICAgICAgIC8vIOmAieaLqemhueWcqOmhtumDqOmakOiXj+eahOWBj+enu+mHjyA+IDAg6KGo56S66KKr6aG26YOo6YGu5L2P6ZqQ6JePXG4gICAgICAgIGNvbnN0IHRvcE9mZnNldCA9IGNvbnRhaW5lck9mZnNldC50b3AgLSB0YXJnZXRPZmZzZXQudG9wO1xuICAgICAgICAvLyDpgInmi6npobnlnKjlupXpg6jpmpDol4/nmoTlgY/np7vph48gPiAwIOihqOekuuiiq+W6lemDqOmBruS9j+makOiXj1xuICAgICAgICBjb25zdCBib3R0b21PZmZzZXQgPSB0YXJnZXRPZmZzZXQudG9wICsgdGFyZ2V0T2Zmc2V0LmhlaWdodCAtIChjb250YWluZXJPZmZzZXQudG9wICsgY29udGFpbmVyT2Zmc2V0LmhlaWdodCk7XG4gICAgICAgIC8vIOmakOiXj+WQjua7muWKqOWxleekuiB0YXJnZXRFbGVtZW50IOeahOWBj+enu+mHj++8jOmBv+WFjee0p+aMqOedgOWktOmDqOaIluiAheW6lemDqFxuICAgICAgICBjb25zdCB2aWV3T2Zmc2V0ID0gdGFyZ2V0T2Zmc2V0LmhlaWdodDtcbiAgICAgICAgaWYgKHRvcE9mZnNldCA+IDApIHtcbiAgICAgICAgICAgIGNvbnRhaW5lckVsZW1lbnQuc2Nyb2xsVG9wID0gY29udGFpbmVyRWxlbWVudC5zY3JvbGxUb3AgLSB0b3BPZmZzZXQgLSB2aWV3T2Zmc2V0O1xuICAgICAgICB9IGVsc2UgaWYgKGJvdHRvbU9mZnNldCA+IDApIHtcbiAgICAgICAgICAgIGNvbnRhaW5lckVsZW1lbnQuc2Nyb2xsVG9wID0gY29udGFpbmVyRWxlbWVudC5zY3JvbGxUb3AgKyBib3R0b21PZmZzZXQgKyB2aWV3T2Zmc2V0O1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBzY3JvbGxUb0VsZW1lbnQodGFyZ2V0RWxlbWVudDogSFRNTEVsZW1lbnQsIGNvbnRhaW5lckVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIGlmICh0YXJnZXRFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9jdXN0b21TY3JvbGxUb0VsZW1lbnQodGFyZ2V0RWxlbWVudCwgY29udGFpbmVyRWxlbWVudCk7XG4gICAgICAgICAgICAvLyBpZiAodGFyZ2V0RWxlbWVudC5zY3JvbGxJbnRvVmlldykge1xuICAgICAgICAgICAgLy8gICAgIHRhcmdldEVsZW1lbnQuc2Nyb2xsSW50b1ZpZXcoe1xuICAgICAgICAgICAgLy8gICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCcsXG4gICAgICAgICAgICAvLyAgICAgICAgIGJsb2NrOiAnY2VudGVyJ1xuICAgICAgICAgICAgLy8gICAgIH0pO1xuICAgICAgICAgICAgLy8gfSBlbHNlIHtcbiAgICAgICAgICAgIC8vICAgICB0aGlzLl9jdXN0b21TY3JvbGxUb0VsZW1lbnQodGFyZ2V0RWxlbWVudCwgY29udGFpbmVyRWxlbWVudCk7XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iXX0=