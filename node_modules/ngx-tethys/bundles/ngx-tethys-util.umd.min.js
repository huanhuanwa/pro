!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("date-fns"),require("@angular/core"),require("@angular/cdk/coercion"),require("@angular/cdk/keycodes")):"function"==typeof define&&define.amd?define("ngx-tethys/util",["exports","date-fns","@angular/core","@angular/cdk/coercion","@angular/cdk/keycodes"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self)["ngx-tethys"]=e["ngx-tethys"]||{},e["ngx-tethys"].util={}),e.dateFns,e.ng.core,e.ng.cdk.coercion,e.ng.cdk.keycodes)}(this,(function(e,t,n,r,i){"use strict";function o(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var a=o(t),u=o(i),s=a.differenceInCalendarDays,f=a.differenceInCalendarMonths,c=a.differenceInCalendarYears,d=a.differenceInWeeks,p=a.differenceInHours,l=a.differenceInMinutes,y=a.differenceInSeconds,h=a.isSameDay,m=a.isSameHour,v=a.isSameMinute,g=a.isSameMonth,D=a.isSameSecond,O=a.isSameYear,b=a.isToday,w=a.isTomorrow,S=a.isValid,T=a.setYear,M=a.startOfMonth,E=a.startOfWeek,k=a.addMonths,j=a.addYears,x=a.setDay,I=a.setMonth,N=a.getUnixTime,A=a.startOfDay,B=a.endOfDay,H=a.fromUnixTime,R=a.isWeekend,C=a.getWeek,W=a.getDaysInMonth,_=a.addSeconds,Y=a.addMinutes,P=a.addHours,L=a.addWeeks,Q=a.addQuarters,U=a.startOfQuarter,V=a.startOfYear,K=a.endOfWeek,F=a.endOfMonth,q=a.endOfQuarter,z=a.endOfYear,X=a.format,$=a.getQuarter,G=a.addDays;Object.create;function J(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Z(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(J(arguments[t]));return e}Object.create;var ee=function(){function e(e){if(e)if(e instanceof Date)this.nativeDate=e;else{if("string"!=typeof e&&"number"!=typeof e)throw new Error("The input date type is not supported expect Date | string | number | { date: number; with_time: 0 | 1}, actual "+JSON.stringify(e));this.nativeDate=new Date(e)}else this.nativeDate=new Date}return e.fromUnixTime=function(t){return new e(H(t))},e.prototype.getTime=function(){return this.nativeDate.getTime()},e.prototype.getDate=function(){return this.nativeDate.getDate()},e.prototype.getYear=function(){return this.nativeDate.getFullYear()},e.prototype.getQuarter=function(){return $(this.nativeDate)},e.prototype.getMonth=function(){return this.nativeDate.getMonth()},e.prototype.getWeek=function(e){return void 0===e&&(e={weekStartsOn:1}),C(this.nativeDate,e)},e.prototype.getDay=function(){return this.nativeDate.getDay()},e.prototype.getHours=function(){return this.nativeDate.getHours()},e.prototype.getMinutes=function(){return this.nativeDate.getMinutes()},e.prototype.getSeconds=function(){return this.nativeDate.getSeconds()},e.prototype.getMilliseconds=function(){return this.nativeDate.getMilliseconds()},e.prototype.getDaysInMonth=function(){return W(this.nativeDate)},e.prototype.getDaysInQuarter=function(){return s(this.endOfQuarter().addSeconds(1).nativeDate,this.startOfQuarter().nativeDate)},e.prototype.setDate=function(t){var n=new Date(this.nativeDate);return n.setDate(t),new e(n)},e.prototype.setHms=function(t,n,r){var i=new Date(this.nativeDate);return i.setHours(t,n,r),new e(i)},e.prototype.setYear=function(t){return new e(T(this.nativeDate,t))},e.prototype.setMonth=function(t){return new e(I(this.nativeDate,t))},e.prototype.setDay=function(t,n){return new e(x(this.nativeDate,t,n))},e.prototype.addYears=function(t){return new e(j(this.nativeDate,t))},e.prototype.addQuarters=function(t){return new e(Q(this.nativeDate,t))},e.prototype.addMonths=function(t){return new e(k(this.nativeDate,t))},e.prototype.addWeeks=function(t){return new e(L(this.nativeDate,t))},e.prototype.addDays=function(t){return new e(G(this.nativeDate,t))},e.prototype.addHours=function(t){return new e(P(this.nativeDate,t))},e.prototype.addSeconds=function(t){return new e(_(this.nativeDate,t))},e.prototype.addMinutes=function(t){return new e(Y(this.nativeDate,t))},e.prototype.isSame=function(e,t){var n;switch(void 0===t&&(t="day"),t){case"year":n=O;break;case"month":n=g;break;case"day":n=h;break;case"hour":n=m;break;case"minute":n=v;break;case"second":n=D;break;default:n=h}return n(this.nativeDate,this.toNativeDate(e))},e.prototype.isSameYear=function(e){return this.isSame(e,"year")},e.prototype.isSameMonth=function(e){return this.isSame(e,"month")},e.prototype.isSameDay=function(e){return this.isSame(e,"day")},e.prototype.isSameHour=function(e){return this.isSame(e,"hour")},e.prototype.isSameMinute=function(e){return this.isSame(e,"minute")},e.prototype.isSameSecond=function(e){return this.isSame(e,"second")},e.prototype.isBeforeYear=function(e){return this.compare(e,"year")},e.prototype.isBeforeMonth=function(e){return this.compare(e,"month")},e.prototype.isBeforeWeek=function(e){return this.compare(e,"week")},e.prototype.isBeforeDay=function(e){return this.compare(e,"day")},e.prototype.isBeforeHour=function(e){return this.compare(e,"hour")},e.prototype.isBeforeMinute=function(e){return this.compare(e,"minute")},e.prototype.isBeforeSecond=function(e){return this.compare(e,"second")},e.prototype.isAfterYear=function(e){return this.compare(e,"year",!1)},e.prototype.isAfterMonth=function(e){return this.compare(e,"month",!1)},e.prototype.isAfterWeek=function(e){return this.compare(e,"week",!1)},e.prototype.isAfterDay=function(e){return this.compare(e,"day",!1)},e.prototype.isAfterHour=function(e){return this.compare(e,"hour",!1)},e.prototype.isAfterMinute=function(e){return this.compare(e,"minute",!1)},e.prototype.isAfterSecond=function(e){return this.compare(e,"second",!1)},e.prototype.isWeekend=function(){return R(this.nativeDate)},e.prototype.isToday=function(){return b(this.nativeDate)},e.prototype.isTomorrow=function(){return w(this.nativeDate)},e.prototype.isValid=function(){return S(this.nativeDate)},e.prototype.startOfYear=function(){return new e(V(this.nativeDate))},e.prototype.startOfQuarter=function(){return new e(U(this.nativeDate))},e.prototype.startOfMonth=function(){return new e(M(this.nativeDate))},e.prototype.startOfWeek=function(t){return new e(E(this.nativeDate,t))},e.prototype.startOfDay=function(){return new e(A(this.nativeDate))},e.prototype.endOfYear=function(){return new e(z(this.nativeDate))},e.prototype.endOfQuarter=function(){return new e(q(this.nativeDate))},e.prototype.endOfMonth=function(){return new e(F(this.nativeDate))},e.prototype.endOfWeek=function(t){return new e(K(this.nativeDate,t))},e.prototype.endOfDay=function(){return new e(B(this.nativeDate))},e.prototype.format=function(e,t){return X(this.nativeDate,e,t)},e.prototype.calendarStart=function(t){return new e(E(M(this.nativeDate),t))},e.prototype.clone=function(){return new e(new Date(this.nativeDate))},e.prototype.getUnixTime=function(){return N(this.nativeDate)},e.prototype.compare=function(e,t,n){if(void 0===t&&(t="day"),void 0===n&&(n=!0),null===e)return!1;var r;switch(t){case"year":r=c;break;case"month":r=f;break;case"day":r=s;break;case"week":r=d;break;case"hour":r=p;break;case"minute":r=l;break;case"second":r=y;break;default:r=s}return n?r(this.nativeDate,this.toNativeDate(e))<0:r(this.nativeDate,this.toNativeDate(e))>0},e.prototype.toNativeDate=function(t){return t instanceof e?t.nativeDate:t},e}(),te={},ne="[NGX-TETHYS]:";function re(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.reduce((function(e,t){return e+t.toString()}),"");return!te[n]&&(te[n]=!0,!0)}function ie(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];n.isDevMode()&&re.apply(void 0,Z(t))&&e.apply(void 0,Z(t))}function oe(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(new Error).stack;return ie.apply(void 0,Z([function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];console.warn.apply(console,Z([e,"deprecated:"],t,[r]))}],t))}}var ae=oe(ne);function ue(e){return ae("The method inputValueToBoolean will be deprecated, please use coerceBooleanProperty instead."),""===e||e&&"false"!==e}function se(e){return void 0===e}function fe(e){return null===e}function ce(e){return se(e)||fe(e)}function de(e){return e&&"[object Array]"===he(e)}function pe(e){return!(de(e)&&e.length>0)}function le(e){return"string"==typeof e||!de(e)&&ye(e)&&"[object String]"===he(e)}function ye(e){return null!==e&&"object"==typeof e}function he(e){var t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i="undefined"!=typeof Symbol?Symbol.toStringTag:void 0;if(null==e)return void 0===e?"[object Undefined]":"[object Null]";if(!i||!(i in Object(e)))return r.call(e);var o=n.call(e,i),a=e[i],u=!1;try{e[i]=void 0,u=!0}catch(e){}var s=r.call(e);return u&&(o?e[i]=a:delete e[i]),s}function me(e){return"number"==typeof e||ye(e)&&"[object Number]"===he(e)}function ve(e){var t=typeof e;return!!e&&("object"===t||"function"===t)}function ge(e){return!!e&&"function"===typeof e}function De(e){return!!e&&"object"===typeof e&&!!e.getTime}function Oe(e){return Array.isArray(e)?e:[e]}function be(e,t,n){for(var r=t.split("."),i=e[r.shift()];i&&r.length;)i=i[r.shift()];return void 0===i?n:i}function we(e,t,n){if(null==e)return e;for(var r=t.split("."),i=-1,o=r.length,a=o-1,u=e;null!==u&&++i<o;){var s=r[i];if(ve(u)){if(i===a){u[s]=n,u=u[s];break}null==u[s]&&(u[s]={})}u=u[s]}return e}function Se(e){return!0===e||!1===e||ye(e)&&"[object Boolean]"===he(e)}function Te(e){return Array.from&&ge(Array.from)?Array.from(e):Array.prototype.slice.call(e)}function Me(e){if(e&&e.childNodes)for(var t=e.childNodes,n=0;n<t.length;n++){var r=t[n];if(r.nodeType===Node.ELEMENT_NODE&&0!==r.outerHTML.toString().trim().length)return!1;if(r.nodeType===Node.TEXT_NODE&&0!==r.textContent.toString().trim().length)return!1;if(r.nodeType!==Node.COMMENT_NODE)return!1}return!0}function Ee(e,t){var n=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r})),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),i=parseInt(r[1],16),o=parseInt(r[2],16),a=parseInt(r[3],16);return t?"rgba("+i+", "+o+", "+a+", "+t+")":"rgb("+i+", "+o+", "+a+")"}function ke(e){return me(e)?10===e.toString().length?e:parseInt((e/1e3).toFixed(0),10):parseInt((e.getTime()/1e3).toFixed(0),10)}function je(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=100),Math.max(t,Math.min(n,e))}function xe(e,t){var n={};return e.forEach((function(e){var r=e[t];n[r]=e})),n}function Ie(e,t){var n={};return e.forEach((function(e,r){var i=e[t];n[i]=r})),n}function Ne(e){return de(e)?e.reduce((function(e,t,n){return t=t.toLowerCase(),e+(n?(r=t).slice(0,1).toUpperCase()+r.slice(1):t);var r}),""):void 0}function Ae(){return Math.random().toString(36).substring(2)}function Be(e){return e instanceof n.TemplateRef}function He(e){return e instanceof HTMLElement}function Re(e){return e instanceof n.ElementRef}function Ce(e){return!!(""===e||e&&"false"!==e)}function We(e,t){return void 0===t&&(t=0),r._isNumberValue(e)?Number(e):t}function _e(e){return r.coerceCssPixelValue(e)}function Ye(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return"function"==typeof e?e.apply(void 0,Z(t)):e}function Pe(e,t){if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=Object.prototype.hasOwnProperty.bind(t),o=0;o<n.length;o++){var a=n[o];if(!i(a))return!1;if(e[a]!==t[a])return!1}return!0}function Le(e,t){void 0===t&&(t=[]);var n=[];return n=t?Oe(t):[],e?de(e)?Z(n,e):Z(n,[e]):n}var Qe=Object.freeze({__proto__:null,inputValueToBoolean:ue,isUndefined:se,isNull:fe,isUndefinedOrNull:ce,isArray:de,isEmpty:pe,isString:le,isNumber:me,isObject:ve,isFunction:ge,isDate:De,coerceArray:Oe,get:be,set:we,isBoolean:Se,fromArray:Te,htmlElementIsEmpty:Me,hexToRgb:Ee,formatDate:ke,clamp:je,keyBy:xe,indexKeyBy:Ie,camelCase:Ne,generateRandomStr:Ae,isTemplateRef:Be,isHTMLElement:He,isElementRef:Re,coerceBooleanProperty:Ce,coerceNumberValue:We,coerceCssPixelValue:_e,valueFunctionProp:Ye,shallowEqual:Pe,concatArray:Le}),Ue=Element.prototype,Ve=Ue.matches||Ue.matchesSelector||Ue.webkitMatchesSelector||Ue.mozMatchesSelector||Ue.msMatchesSelector||Ue.oMatchesSelector;function Ke(e,t){if(Ve)return Ve.call(e,t);for(var n=e.parentNode.querySelectorAll(t),r=0;r<n.length;r++)if(n[r]===e)return!0;return!1}function Fe(e){return"undefined"!=typeof HTMLDocument&&e instanceof HTMLDocument||e.nodeType&&e.nodeType===e.DOCUMENT_NODE}function qe(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement||e.nodeType&&e.nodeType===e.ELEMENT_NODE}function ze(e){return null!=e&&e===e.window?e:9===e.nodeType&&e.defaultView}function Xe(e){var t,n,r,i;if(e)return e.getClientRects().length?(r=e.getBoundingClientRect()).width||r.height?(n=ze(i=e.ownerDocument),t=i.documentElement,{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft,height:r.height,width:r.width}):r:{top:0,left:0}}function $e(e,t){if(!e||!e.getClientRects().length)return null;var n=e.getBoundingClientRect();if(n.width||n.height){if(t===window){var r=e.ownerDocument.documentElement;return{top:n.top-r.clientTop,left:n.left-r.clientLeft}}var i=t.getBoundingClientRect();return{top:n.top-i.top,left:n.left-i.left}}return n}function Ge(e){var t=e.documentElement?e.documentElement:e,n=t.clientHeight,r=window.getComputedStyle(t);return n+=parseInt(r.marginTop,10),n+=parseInt(r.marginBottom,10)}function Je(e,t){return e?"body"===e?document.body:le(e)?document.querySelector(e):e instanceof n.ElementRef?e.nativeElement:e:t.nativeElement}function Ze(e){return["INPUT","TEXTAREA"].indexOf(e.nodeName)>=0}function et(e){return"undefined"!=typeof window&&e===window}function tt(e){return et(e)?{top:0,left:0,bottom:0}:e.getBoundingClientRect()}function nt(e){return e?Object.keys(e).map((function(t){var n=e[t];return t+":"+("string"==typeof n?n:n+"px")})).join(";"):""}function rt(e){return e.type.startsWith("touch")}var it=Object.freeze({__proto__:null,match:Ke,isDocument:Fe,isElement:qe,getWindow:ze,getElementOffset:Xe,getOffset:$e,getElementOuterHeight:Ge,getHTMLElementBySelector:Je,isInputOrTextarea:Ze,isWindow:et,getContainerRect:tt,getStyleAsText:nt,isTouchEvent:rt}),ot=function(){function e(e,t){this.idKey="_id",this.entities=e||[],t&&t.idKey&&(this.idKey=t.idKey)}return e.prototype.add=function(e,t){var n=this,r=Oe(e);if(0===r.length)return this.entities;if(t&&(t.afterId||t.prepend))if(t.afterId){var i=Z(this.entities),o=this.entities.findIndex((function(e){return e[n.idKey]===t.afterId}))+1;i.splice.apply(i,Z([o,0],r)),this.entities=Z(i)}else t.prepend&&(this.entities=Z(r,this.entities));else this.entities=Z(this.entities,r);return this.entities},e.prototype.update=function(e,t){for(var n=Oe(e),r=0;r<this.entities.length;r++){var i=this.entities[r];if(n.indexOf(i[this.idKey])>=0){var o=ge(t)?t(i):t;this.entities[r]=Object.assign(Object.assign({},i),o)}}return Z(this.entities)},e.prototype.remove=function(e){var t=this;if(ge(e))this.entities=this.entities.filter((function(t){return!e(t)}));else{var n=Oe(e);this.entities=this.entities.filter((function(e){return-1===n.indexOf(e[t.idKey])}))}return this.entities},e.prototype.move=function(e,t){var n=this,r=this.entities.findIndex((function(t){return t[n.idKey]===e})),i=0,o=Z(this.entities);if(!e||r<0)return Z(this.entities);if(t&&(ce(t.afterId)?t.toIndex&&(i=t.toIndex):i=this.entities.findIndex((function(e){return e[n.idKey]===t.afterId}))),(i=Math.max(0,Math.min(this.entities.length-1,i)))===r)return Z(this.entities);for(var a=this.entities[r],u=i<r?-1:1,s=r;s!==i;s+=u)o[s]=o[s+u];return o[i]=a,Z(o)},e}();function at(e,t){return t&&t[e]?t[e]:"_id"}function ut(e,t,n){var r=function(r){if(t.hasOwnProperty(r)){var i=t[r],o=at(r,n),a=e[r];if(!a)throw new Error("original reference must exist when append new reference: "+r);if(a instanceof Array){var u=Ie(e[r],o);if(i instanceof Array)i.forEach((function(t){var n=t[o],i=u[n];i>=0?a[i]=Object.assign(Object.assign({},a[i]),t):e[r]=Z(e[r],[t])}));else{var s=i[o],f=u[s];s>=0?a[f]=Object.assign(Object.assign({},a[f]),i):e[r]=Z(e[r],[i])}}else e[r]=Object.assign(Object.assign({},e[r]),i)}};for(var i in t)r(i);return e}function st(e,t){var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=at(r,t),o=e[r];if(o instanceof Array){var a=xe(o,i);n[r]=a}}return n}var ft=Object.freeze({__proto__:null,mergeReferences:ut,buildReferencesKeyBy:st}),ct=Object.freeze(Object.assign(Object.create(null),u));e.PREFIX=ne,e.Producer=ot,e.TinyDate=ee,e.addDays=G,e.addHours=P,e.addMinutes=Y,e.addMonths=k,e.addQuarters=Q,e.addSeconds=_,e.addWeeks=L,e.addYears=j,e.buildReferencesKeyBy=st,e.camelCase=Ne,e.clamp=je,e.coerceArray=Oe,e.coerceBooleanProperty=Ce,e.coerceCssPixelValue=_e,e.coerceNumberValue=We,e.concatArray=Le,e.createWarnDeprecation=oe,e.differenceInCalendarDays=s,e.differenceInCalendarMonths=f,e.differenceInCalendarYears=c,e.differenceInHours=p,e.differenceInMinutes=l,e.differenceInSeconds=y,e.differenceInWeeks=d,e.dom=it,e.endOfDay=B,e.endOfMonth=F,e.endOfQuarter=q,e.endOfWeek=K,e.endOfYear=z,e.format=X,e.formatDate=ke,e.fromArray=Te,e.fromUnixTime=H,e.generateRandomStr=Ae,e.get=be,e.getContainerRect=tt,e.getDaysInMonth=W,e.getElementOffset=Xe,e.getElementOuterHeight=Ge,e.getHTMLElementBySelector=Je,e.getOffset=$e,e.getQuarter=$,e.getStyleAsText=nt,e.getUnixTime=N,e.getWeek=C,e.getWindow=ze,e.helpers=Qe,e.hexToRgb=Ee,e.htmlElementIsEmpty=Me,e.indexKeyBy=Ie,e.inputValueToBoolean=ue,e.isArray=de,e.isBoolean=Se,e.isDate=De,e.isDocument=Fe,e.isElement=qe,e.isElementRef=Re,e.isEmpty=pe,e.isFunction=ge,e.isHTMLElement=He,e.isInputOrTextarea=Ze,e.isNull=fe,e.isNumber=me,e.isObject=ve,e.isSameDay=h,e.isSameHour=m,e.isSameMinute=v,e.isSameMonth=g,e.isSameSecond=D,e.isSameYear=O,e.isString=le,e.isTemplateRef=Be,e.isToday=b,e.isTomorrow=w,e.isTouchEvent=rt,e.isUndefined=se,e.isUndefinedOrNull=ce,e.isValid=S,e.isWeekend=R,e.isWindow=et,e.keyBy=xe,e.keycodes=ct,e.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n.isDevMode()&&console.log.apply(console,Z([ne],e))},e.match=Ke,e.mergeReferences=ut,e.produce=function(e,t){return new ot(e,t)},e.references=ft,e.set=we,e.setDay=x,e.setMonth=I,e.setYear=T,e.shallowEqual=Pe,e.sortRangeValue=function(e){if(Array.isArray(e)){var t=J(e,2),n=t[0],r=t[1];return n&&r&&n.isAfterSecond(r)?[r,n]:[n,r]}return e},e.startOfDay=A,e.startOfMonth=M,e.startOfQuarter=U,e.startOfWeek=E,e.startOfYear=V,e.valueFunctionProp=Ye,e.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ie.apply(void 0,Z([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return console.warn.apply(console,Z([ne],e))}],e))},e.warnDeprecation=ae,Object.keys(i).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})})),Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-tethys-util.umd.min.js.map