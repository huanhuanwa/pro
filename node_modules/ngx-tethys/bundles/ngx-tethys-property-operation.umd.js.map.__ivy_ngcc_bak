{"version":3,"file":"ngx-tethys-property-operation.umd.js","sources":["../../src/property-operation/group/property-operation-group.component.ts","../../src/property-operation/property-operation.component.ts","../../src/property-operation/module.ts","../../src/property-operation/ngx-tethys-property-operation.ts"],"sourcesContent":["import { Component, HostBinding } from '@angular/core';\n\n@Component({\n    selector: 'thy-property-operation-group',\n    templateUrl: './property-operation-group.component.html'\n})\nexport class ThyPropertyOperationGroupComponent {\n    @HostBinding('class.thy-property-operation-group') _isPropertyOperationGroup = true;\n\n    constructor() {}\n}\n","import {\n    AfterContentInit,\n    Component,\n    ContentChild,\n    ElementRef,\n    EventEmitter,\n    HostBinding,\n    Input,\n    OnInit,\n    Output,\n    TemplateRef,\n    ViewChild,\n    HostListener\n} from '@angular/core';\nimport { UpdateHostClassService, ThyTranslate } from 'ngx-tethys/core';\nimport { htmlElementIsEmpty, coerceBooleanProperty } from 'ngx-tethys/util';\n\ntype ThyPropertyOperationTypes = 'primary' | 'success' | 'warning' | 'danger';\n\n@Component({\n    selector: 'thy-property-operation',\n    templateUrl: './property-operation.component.html',\n    providers: [UpdateHostClassService]\n})\nexport class ThyPropertyOperationComponent implements OnInit, AfterContentInit {\n    private initialized = false;\n\n    labelText: string;\n\n    onlyHasTips = false;\n\n    showClose = false;\n\n    type: ThyPropertyOperationTypes;\n\n    icon: string;\n\n    value: string;\n\n    labelHideWhenHasValue = false;\n\n    @Output() thyOnRemove = new EventEmitter();\n\n    @Output() thyClick = new EventEmitter<Event>();\n\n    @HostBinding('class.thy-property-operation') _isPropertyOperation = true;\n\n    @ContentChild('operationIcon') operationIcon: TemplateRef<any>;\n\n    @ViewChild('contentElement', { static: true }) contentElement: ElementRef;\n\n    @Input()\n    set thyLabelText(value: string) {\n        this.labelText = value;\n    }\n\n    @Input()\n    set thyValue(value: string) {\n        this.value = value;\n        this.setOnlyHasTips();\n    }\n\n    @Input()\n    set thyLabelTextTranslateKey(value: string) {\n        this.labelText = this.thyTranslate.instant(value);\n    }\n\n    @Input()\n    set thyIcon(value: string) {\n        this.icon = value;\n    }\n\n    @Input()\n    set thyShowClose(value: boolean) {\n        this.showClose = coerceBooleanProperty(value);\n    }\n\n    // 支持有值时，label不显示\n    @Input() set thyLabelHasValue(value: boolean) {\n        this.labelHideWhenHasValue = !coerceBooleanProperty(value);\n    }\n\n    @Input() set thyLabelHideWhenHasValue(value: boolean) {\n        this.labelHideWhenHasValue = coerceBooleanProperty(value);\n    }\n\n    @Input()\n    set thyType(value: ThyPropertyOperationTypes) {\n        this.type = value;\n        this.setHostClass();\n    }\n\n    @HostBinding('class.active')\n    @Input('thyActive')\n    active: boolean;\n\n    @HostBinding('class.thy-property-operation-disabled')\n    @Input('thyDisabled')\n    disabled: boolean;\n\n    private setHostClass(first = false) {\n        if (!this.initialized && !first) {\n            return;\n        }\n        this.updateHostClassService.updateClass(this.type ? [`thy-property-operation-${this.type}`] : []);\n    }\n\n    private setOnlyHasTips(first = false) {\n        if (!this.initialized && !first) {\n            return;\n        }\n        if (this.value) {\n            this.onlyHasTips = false;\n        } else if (htmlElementIsEmpty(this.contentElement.nativeElement)) {\n            this.onlyHasTips = true;\n        } else {\n            this.onlyHasTips = false;\n        }\n    }\n\n    constructor(\n        private thyTranslate: ThyTranslate,\n        private updateHostClassService: UpdateHostClassService,\n        private elementRef: ElementRef\n    ) {}\n\n    ngOnInit() {\n        this.updateHostClassService.initializeElement(this.elementRef.nativeElement);\n        this.setHostClass(true);\n    }\n\n    @HostListener('click', ['$event'])\n    onclick(event: Event) {\n        if (!this.disabled) {\n            this.thyClick.emit(event);\n        }\n    }\n\n    ngAfterContentInit() {\n        this.setOnlyHasTips(true);\n        this.initialized = true;\n    }\n\n    remove($event: Event) {\n        $event.stopPropagation();\n        this.thyOnRemove.emit($event);\n    }\n}\n","import { ThyButtonModule } from 'ngx-tethys/button';\nimport { ThyFlexibleTextModule } from 'ngx-tethys/flexible-text';\nimport { ThyIconModule } from 'ngx-tethys/icon';\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { ThyPropertyOperationGroupComponent } from './group/property-operation-group.component';\nimport { ThyPropertyOperationComponent } from './property-operation.component';\n\n@NgModule({\n    declarations: [ThyPropertyOperationComponent, ThyPropertyOperationGroupComponent],\n    imports: [CommonModule, ThyButtonModule, ThyIconModule, ThyFlexibleTextModule],\n    exports: [ThyPropertyOperationComponent, ThyPropertyOperationGroupComponent]\n})\nexport class ThyPropertyOperationModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["Component","HostBinding","EventEmitter","coerceBooleanProperty","htmlElementIsEmpty","UpdateHostClassService","ThyTranslate","ElementRef","Output","ContentChild","ViewChild","Input","HostListener","NgModule","CommonModule","ThyButtonModule","ThyIconModule","ThyFlexibleTextModule"],"mappings":"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"}