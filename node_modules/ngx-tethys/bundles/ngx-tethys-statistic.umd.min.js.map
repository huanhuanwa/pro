{"version":3,"sources":["../../src/statistic/statistic.component.ts","../../src/statistic/statistic.module.ts"],"names":["ThyStatisticComponent","elementRef","updateHostClassService","renderer","this","_initialized","class","thyValueStyle","thyTitlePosition","initializeElement","nativeElement","Object","defineProperty","prototype","value","prefixTemplate","valueTemplate","titleTemplate","suffixTemplate","_shape","_setClassesByType","_size","ngOnInit","setColor","color","setStyle","hexToRgb","classNames","thyColor","RegExp","test","push","thySize","updateClass","Component","args","selector","template","providers","UpdateHostClassService","ElementRef","Renderer2","HostBinding","Input","ContentChild","static","NgModule","declarations","imports","CommonModule","ThySharedModule","ThyIconModule","exports"],"mappings":"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","sourcesContent":["import { OnInit, Component, Input, HostBinding, ElementRef, TemplateRef, ContentChild, Renderer2 } from '@angular/core';\nimport { coerceBooleanProperty, hexToRgb } from 'ngx-tethys/util';\nimport { UpdateHostClassService } from 'ngx-tethys/core';\n\nexport type ThyStatisticColorType = 'primary' | 'success' | 'warning' | 'danger' | 'info';\n\nexport type ThyStatisticShape = 'card';\n\nexport type ThyStatisticSizes = 'default';\n\nexport type ThyStatisticTitlePosition = 'top' | 'bottom';\n\n@Component({\n    selector: 'thy-statistic',\n    templateUrl: './statistic.component.html',\n    providers: [UpdateHostClassService]\n})\nexport class ThyStatisticComponent implements OnInit {\n    _shape: ThyStatisticShape;\n\n    _initialized = false;\n\n    _size: ThyStatisticSizes;\n\n    prefixTemplate: TemplateRef<void>;\n\n    suffixTemplate: TemplateRef<void>;\n\n    valueTemplate: TemplateRef<void>;\n\n    titleTemplate: TemplateRef<void>;\n\n    @HostBinding(`class.thy-statistic`) class = true;\n\n    @Input() thyValueStyle = {};\n\n    @Input() thyPrefix: string;\n\n    @ContentChild('prefix', { static: true }) set prefix(value: TemplateRef<void>) {\n        this.prefixTemplate = value;\n    }\n\n    @Input() set thyPrefixTemplate(value: TemplateRef<void>) {\n        this.prefixTemplate = value;\n    }\n\n    @Input() thyValue: number | string;\n\n    @ContentChild('value', { static: true }) set value(value: TemplateRef<void>) {\n        this.valueTemplate = value;\n    }\n\n    @Input() set thyValueTemplate(value: TemplateRef<void>) {\n        this.valueTemplate = value;\n    }\n\n    @Input() thyTitle: string;\n\n    @ContentChild('title', { static: true }) set title(value: TemplateRef<void>) {\n        this.titleTemplate = value;\n    }\n\n    @Input() set thyTitleTemplate(value: TemplateRef<void>) {\n        this.titleTemplate = value;\n    }\n\n    @Input() thySuffix: string;\n\n    @ContentChild('suffix', { static: true }) set suffix(value: TemplateRef<void>) {\n        this.suffixTemplate = value;\n    }\n\n    @Input() set thySuffixTemplate(value: TemplateRef<void>) {\n        this.suffixTemplate = value;\n    }\n\n    @Input() thyTitlePosition: ThyStatisticTitlePosition = 'bottom';\n\n    @Input()\n    set thyShape(value: ThyStatisticShape) {\n        this._shape = value;\n        if (this._initialized) {\n            this._setClassesByType();\n        }\n    }\n\n    @Input() thyColor: string | ThyStatisticColorType;\n\n    @Input()\n    set thySize(value: ThyStatisticSizes) {\n        this._size = value;\n        if (this._initialized) {\n            this._setClassesByType();\n        }\n    }\n\n    constructor(private elementRef: ElementRef, private updateHostClassService: UpdateHostClassService, private renderer: Renderer2) {\n        this.updateHostClassService.initializeElement(elementRef.nativeElement);\n    }\n\n    ngOnInit() {\n        this._setClassesByType();\n        this._initialized = true;\n    }\n\n    setColor(color: string) {\n        this.renderer.setStyle(this.elementRef.nativeElement, 'color', color);\n        if (this._shape === 'card') {\n            this.renderer.setStyle(this.elementRef.nativeElement, 'border-color', color);\n            this.renderer.setStyle(this.elementRef.nativeElement, 'background-color', hexToRgb(color, 0.05));\n        }\n    }\n\n    _setClassesByType() {\n        const classNames = [];\n        if (this.thyColor) {\n            if (RegExp(/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/).test(this.thyColor)) {\n                this.setColor(this.thyColor);\n            } else {\n                classNames.push(`thy-statistic-${this.thyColor}`);\n            }\n        }\n        if (this._shape) {\n            classNames.push(`thy-statistic-${this._shape}`);\n        }\n        if (!this._size) {\n            this._size = 'default';\n        }\n        classNames.push(`thy-statistic-${this._size}`);\n\n        this.renderer.setStyle(this.elementRef.nativeElement, 'font-size', this.thySize);\n        this.updateHostClassService.updateClass(classNames);\n    }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { ThySharedModule } from 'ngx-tethys/shared';\nimport { ThyStatisticComponent } from './statistic.component';\nimport { ThyIconModule } from 'ngx-tethys/icon';\n\n@NgModule({\n    declarations: [ThyStatisticComponent],\n    imports: [CommonModule, ThySharedModule, ThyIconModule],\n    exports: [ThyStatisticComponent],\n    providers: []\n})\nexport class ThyStatisticModule {}\n"]}