!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("@angular/cdk/coercion"),require("ngx-tethys/tooltip"),require("ngx-tethys/notify")):"function"==typeof define&&define.amd?define("ngx-tethys/copy",["exports","@angular/core","@angular/common","@angular/cdk/coercion","ngx-tethys/tooltip","ngx-tethys/notify"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self)["ngx-tethys"]=t["ngx-tethys"]||{},t["ngx-tethys"].copy={}),t.ng.core,t.ng.common,t.ng.cdk.coercion,t["ngx-tethys"].tooltip,t["ngx-tethys"].notify)}(this,(function(t,e,o,n,i,r){"use strict";var y=function(){function t(t,o,n,i,r){this.document=t,this.tooltipService=o,this.elementRef=n,this.viewContainerRef=i,this.notifyService=r,this.thyCopy=new e.EventEmitter,this.thyCopySuccessText="复制成功",this.thyCopyTips="点击复制"}return t.prototype.ngOnInit=function(){this.tooltipService.attach(this.elementRef,this.viewContainerRef,"hover"),this.tooltipService.thyTooltipDirective.content=this.thyCopyTips?this.thyCopyTips:"点击复制"},t.prototype.getContent=function(t){if("string"==typeof this.thyCopyContent)return this.thyCopyContent;var e=this.thyCopyContent?n.coerceElement(this.thyCopyContent):t.target;return e.value||e.textContent},t.prototype.onClick=function(t){var e=this.document.createElement("textarea");this.document.body.appendChild(e),e.value=this.getContent(t),e.select();try{document.execCommand("copy",!1,null),this.thyCopy.emit({isSuccess:!0,event:t}),this.notifyService.success(this.thyCopySuccessText)}catch(e){this.thyCopy.emit({isSuccess:!1,event:t}),this.notifyService.error("复制失败")}finally{e.remove()}},t.prototype.ngOnDestroy=function(){this.tooltipService.detach()},t}();y.decorators=[{type:e.Directive,args:[{selector:"[thyCopy]",providers:[i.TooltipService,r.ThyNotifyService]}]}],y.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[o.DOCUMENT]}]},{type:i.TooltipService},{type:e.ElementRef},{type:e.ViewContainerRef},{type:r.ThyNotifyService}]},y.propDecorators={thyCopy:[{type:e.Output}],thyCopySuccessText:[{type:e.Input}],thyCopyTips:[{type:e.Input}],thyCopyContent:[{type:e.Input}],onClick:[{type:e.HostListener,args:["click",["$event"]]}]};var s=function(){};s.decorators=[{type:e.NgModule,args:[{declarations:[y],imports:[o.CommonModule],exports:[y]}]}],t.ThyCopyDirective=y,t.ThyCopyModule=s,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-tethys-copy.umd.min.js.map