{"version":3,"file":"ngx-tethys-store.umd.js","sources":["../../node_modules/tslib/tslib.es6.js","../../src/store/types.ts","../../src/store/internals/static-injector.ts","../../src/store/module.ts","../../src/store/plugins/redux_devtools.ts","../../src/store/action-state.ts","../../src/store/root-store.ts","../../src/store/utils.ts","../../src/store/action.ts","../../src/store/store.ts","../../src/store/entity-store.ts","../../src/store/ngx-tethys-store.ts"],"names":["InjectionToken","NgModule","NgModuleRef","BehaviorSubject","Subscription","isDevMode","switchMap","map","combineLatest","tap","Injectable","Observable","catchError","of","shareReplay","exhaustMap","throwError","from","distinctUntilChanged","helpers","buildReferencesKeyBy","produce","mergeReferences"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { InjectionToken } from '@angular/core';\n\nexport const META_KEY = '__THY_META__';\nexport const ROOT_STATE_TOKEN = new InjectionToken<any>('ROOT_STATE_TOKEN');\nexport const FEATURE_STATE_TOKEN = new InjectionToken<any>('FEATURE_STATE_TOKEN');\n\nexport interface StoreMetaInfo {\n    actions: any;\n    path: string;\n    children: any[];\n    instance: any;\n}\n\nexport interface ActionResult {}\n\n// export type Newable<T> = { new (...args: any[]): T };\n","import { Injector } from '@angular/core';\n\nclass ThyStoreModuleIsNotImported extends Error {\n    constructor() {\n        super(`You've forgotten to import \"ThyStoreModule\"!`);\n    }\n}\n\nlet injector: Injector | null = null;\n\nfunction assertDefined<T>(actual: T | null | undefined): asserts actual is T {\n    if (actual == null) {\n        throw new ThyStoreModuleIsNotImported();\n    }\n}\n\nexport function setInjector(parentInjector: Injector): void {\n    injector = parentInjector;\n}\n\n/**\n * Ensure that we don't keep any references in case of the bootstrapped\n * module is destroyed via `NgModuleRef.destroy()`.\n */\nexport function clearInjector(): void {\n    injector = null;\n}\n\nexport function getInjector(): Injector {\n    assertDefined(injector);\n    return injector;\n}\n","import { NgModule, ModuleWithProviders, Type, Injector, NgModuleRef } from '@angular/core';\nimport { ROOT_STATE_TOKEN, FEATURE_STATE_TOKEN } from './types';\nimport { Store } from './store';\nimport { clearInjector, setInjector } from './internals/static-injector';\n\n@NgModule()\nexport class ThyRootStoreModule {\n    constructor(ngModuleRef: NgModuleRef<any>) {\n        setInjector(ngModuleRef.injector);\n        ngModuleRef.onDestroy(clearInjector);\n    }\n}\n\n@NgModule()\nexport class ThyFeatureStoreModule {}\n\n@NgModule({})\nexport class ThyStoreModule {\n    static forRoot(stores: Type<Store>[] = []): ModuleWithProviders<ThyRootStoreModule> {\n        return {\n            ngModule: ThyRootStoreModule,\n            providers: [\n                ...stores,\n                {\n                    provide: ROOT_STATE_TOKEN,\n                    useValue: stores\n                }\n            ]\n        };\n    }\n\n    static forFeature(stores: Type<Store>[] = []): ModuleWithProviders<ThyFeatureStoreModule> {\n        return {\n            ngModule: ThyFeatureStoreModule,\n            providers: [\n                ...stores,\n                {\n                    provide: FEATURE_STATE_TOKEN,\n                    multi: true,\n                    useValue: stores\n                }\n            ]\n        };\n    }\n}\n","export abstract class StorePlugin {\n    // abstract handleNewState(state: Readonly<object>): void;\n    abstract handleNewState(actionName: string, state: Readonly<object>): void;\n    abstract isConnectSuccessed(): boolean;\n}\n/**\n * @internal\n */\nexport interface ReduxDevtoolsInstance {\n    send(action: string, state: object): void;\n}\n\nexport function tinyStateVersion(): string {\n    return 'v0.6.0';\n}\n\nexport class ReduxDevtoolsPlugin implements StorePlugin {\n    private _devTools: ReduxDevtoolsInstance | null = null;\n\n    _window = window;\n    constructor(\n    ) {\n        if (this._window == null) {\n            return;\n        }\n        const globalDevtools: { connect(config: any): ReduxDevtoolsInstance } | undefined =\n            (this._window as any)['__REDUX_DEVTOOLS_EXTENSION__'] ||\n            (this._window as any)['devToolsExtension'];\n\n        if (!globalDevtools) {\n            console.log(`Chrome: Redux DevTools.`);\n            console.log(`: https://www.chromefor.com/redux-devtools_v2-17-0/`);\n            return;\n        }\n        this._devTools = globalDevtools.connect({\n            name: `NgxStore ${tinyStateVersion()}`\n        });\n    }\n\n    handleNewState(actionName: string, state: object): void {\n        if (this.isConnectSuccessed()) {\n            this._devTools.send(actionName, state);\n        }\n    }\n\n    isConnectSuccessed(): boolean {\n        if (this._devTools === null) {\n            return false;\n        }\n        return true;\n    }\n}\n\nfunction getReduxDevToolsPlugin(): any {\n    if (!window[`___ReduxDevtoolsPlugin___`]) {\n        window[`___ReduxDevtoolsPlugin___`] = new ReduxDevtoolsPlugin();\n    }\n    return window[`___ReduxDevtoolsPlugin___`];\n}\n\nexport default getReduxDevToolsPlugin;\n","// @dynamic\nexport class ActionState {\n    private static actionName = '';\n\n    public static changeAction(actionName: string) {\n        this.actionName = actionName;\n    }\n\n    public static getActionName() {\n        return this.actionName;\n    }\n}\n","import { Store } from './store';\nimport { Inject, SkipSelf, Optional, OnDestroy, isDevMode, Injectable } from '@angular/core';\nimport { Subscription, combineLatest } from 'rxjs';\nimport { map, switchMap, tap } from 'rxjs/operators';\nimport { BehaviorSubject } from 'rxjs';\nimport getReduxDevToolsPlugin, { StorePlugin } from './plugins/redux_devtools';\nimport { ActionState } from './action-state';\n\nexport type StoreInstanceMap = Map<string, Store<any>>; // Map keystringvalue\n\nlet rootStore: RootStore;\n/**\n * @internal\n */\n@Injectable()\nexport class RootStore {\n    private connectSuccessed = false;\n    /**\n     *  Mapk,v->\n     */\n    private readonly _containers = new BehaviorSubject<StoreInstanceMap>(new Map<string, Store<any>>());\n    private _plugin: StorePlugin = getReduxDevToolsPlugin();\n    private _combinedStateSubscription: Subscription = new Subscription();\n\n    constructor() {\n        if (this._plugin.isConnectSuccessed()) {\n            this.connectSuccessed = true;\n            this._assignCombinedState(); // handleNewState\n            console.log(`Angular${isDevMode()}, root-store`);\n        }\n    }\n\n    private _assignCombinedState() {\n        this._combinedStateSubscription = this._containers\n            .pipe(switchMap(containers => this._getCombinedState(containers)))\n            .pipe(\n                map(states => {\n                    const actionName = ActionState.getActionName();\n                    const state = states.reduce((acc, curr) => {\n                        acc[curr.containerName] = curr.state;\n                        return acc;\n                    }, <{ [key: string]: any }>{});\n                    return { state: state, actionName: actionName };\n                })\n            )\n            .subscribe(c => {\n                this._plugin.handleNewState(c.actionName, c.state);\n            });\n    }\n\n    /**\n     * \n     * { containerName: string, state: any }\n     * combineLatest\n     * @param containers Map\n     */\n    private _getCombinedState(containers: StoreInstanceMap) {\n        return combineLatest(\n            ...Array.from(containers.entries()).map(([containerName, container]) => {\n                return container.state$.pipe(\n                    map(state => ({ containerName, state })),\n                    tap(data => {})\n                );\n            })\n        );\n    }\n\n    /**\n     * @internal\n     */\n    ngOnDestroy() {\n        this._combinedStateSubscription.unsubscribe();\n    }\n\n    /**\n     * @internal\n     */\n    registerStore(store: Store<any>) {\n        if (!this.connectSuccessed) {\n            return;\n        }\n        const containers = new Map(this._containers.value);\n        if (containers.has(store.getStoreInstanceId())) {\n            throw new Error(\n                `Store: Store with duplicate instance ID found! ${store.getStoreInstanceId()}` +\n                    ` is already registered. Please check your getStoreInstanceId() methods!`\n            );\n        }\n        containers.set(store.getStoreInstanceId(), store);\n        this._containers.next(containers);\n    }\n\n    existStoreInstanceId(instanceId: string): boolean {\n        const containers = new Map(this._containers.value);\n        if (containers.has(instanceId)) {\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * @internal\n     */\n    unregisterStore(store: Store<any>) {\n        if (!this.connectSuccessed) {\n            return;\n        }\n        const containers = new Map(this._containers.value);\n        containers.delete(store.getStoreInstanceId());\n        this._containers.next(containers);\n    }\n}\n\nexport function getSingletonRootStore() {\n    if (!rootStore) {\n        rootStore = new RootStore();\n    }\n    return rootStore;\n}\n","import { StoreMetaInfo, META_KEY } from './types';\n\nexport function findAndCreateStoreMetadata(target: any): StoreMetaInfo {\n    if (!target.hasOwnProperty(META_KEY)) {\n        const defaultMetadata: StoreMetaInfo = {\n            actions: {},\n            path: null,\n            children: [],\n            instance: null\n        };\n        target[META_KEY] = defaultMetadata;\n    }\n    return target[META_KEY];\n}\n","import { META_KEY } from './types';\nimport { findAndCreateStoreMetadata } from './utils';\nimport { Observable, Observer, of, throwError } from 'rxjs';\nimport { map, shareReplay, catchError, exhaustMap } from 'rxjs/operators';\nimport { ActionState } from './action-state';\nimport { ActionContext, ActionStatus } from './actions-stream';\n\nexport interface DecoratorActionOptions {\n    type: string;\n    payload?: any;\n}\n\n/**\n * Decorates a method with a action information.\n */\nexport function Action(action?: DecoratorActionOptions | string) {\n    return function(target: any, name: string, descriptor: TypedPropertyDescriptor<any>) {\n        const meta = findAndCreateStoreMetadata(target);\n\n        // default use function name as action type\n        if (!action) {\n            action = {\n                type: name\n            };\n        }\n        // support string for type\n        if (typeof action === 'string') {\n            action = {\n                type: action\n            };\n        }\n        const type = action.type;\n\n        if (!action.type) {\n            throw new Error(`Action ${action.type} is missing a static \"type\" property`);\n        }\n\n        const originalFn = descriptor.value;\n        meta.actions[type] = {\n            fn: name,\n            originalFn: originalFn,\n            type\n        };\n\n        descriptor.value = function(...args: any[]) {\n            ActionState.changeAction(`${target.constructor.name}-${name}`);\n            let result = originalFn.call(this, ...args);\n            if (result instanceof Observable) {\n                result = result.pipe(\n                    catchError(error => {\n                        return of({ status: ActionStatus.Errored, action: action, error: error });\n                    }),\n                    shareReplay(),\n                    exhaustMap((result: ActionContext | any) => {\n                        if (result && result.status === ActionStatus.Errored) {\n                            return throwError(result.error);\n                        } else {\n                            return of(result);\n                        }\n                    })\n                );\n                result.subscribe();\n            }\n            return result;\n        };\n    };\n}\n","import { Observable, Observer, BehaviorSubject, from, of, PartialObserver, Subscription } from 'rxjs';\nimport { distinctUntilChanged, map, shareReplay } from 'rxjs/operators';\nimport { META_KEY, StoreMetaInfo } from './types';\nimport { helpers } from 'ngx-tethys/util';\nimport { getSingletonRootStore, RootStore } from './root-store';\nimport { OnDestroy, isDevMode, Injectable } from '@angular/core';\nimport { ActionState } from './action-state';\nimport { Action } from './action';\n\ninterface Action {\n    type: string;\n    payload?: any;\n}\n\n@Injectable()\nexport class Store<T = unknown> implements Observer<T>, OnDestroy {\n    initialStateCache: any;\n\n    public state$: BehaviorSubject<T>;\n\n    public reduxToolEnabled = isDevMode();\n\n    private _defaultStoreInstanceId: string;\n\n    constructor(initialState: any) {\n        this._defaultStoreInstanceId = this._getClassName();\n        this.state$ = new BehaviorSubject<T>(initialState);\n        this.initialStateCache = { ...initialState };\n        if (this.reduxToolEnabled) {\n            const rootStore: RootStore = getSingletonRootStore();\n            ActionState.changeAction(`Add-${this._defaultStoreInstanceId}`);\n            rootStore.registerStore(this);\n        }\n    }\n\n    get snapshot() {\n        return this.state$.getValue();\n    }\n\n    public dispatch(type: string, payload?: any): Observable<any> {\n        ActionState.changeAction(`${this._defaultStoreInstanceId}-${type}`);\n        const result = this._dispatch({\n            type: type,\n            payload: payload\n        });\n        result.subscribe();\n        return result;\n    }\n\n    private _dispatch(action: any): Observable<any> {\n        const meta = this[META_KEY] as StoreMetaInfo;\n        if (!meta) {\n            throw new Error(`${META_KEY} is not found, current store has not action`);\n        }\n        const actionMeta = meta.actions[action.type];\n        if (!actionMeta) {\n            throw new Error(`${action.type} is not found`);\n        }\n        // let result: any = this[actionMeta.fn](this.snapshot, action.payload);\n        let result: any = actionMeta.originalFn.call(this, this.snapshot, action.payload);\n\n        if (result instanceof Promise) {\n            result = from(result);\n        }\n\n        if (result instanceof Observable) {\n            result = result.pipe(map(r => r));\n        } else {\n            result = new Observable((observer: Observer<any>) => {\n                observer.next({});\n            });\n        }\n        return result.pipe(shareReplay());\n    }\n\n    select<TResult>(selector: (state: T) => TResult): Observable<TResult> | Observable<TResult>;\n    select(selector: string | any): Observable<any> {\n        return this.state$.pipe(map(selector), distinctUntilChanged());\n    }\n\n    next(state: T) {\n        this.state$.next(state);\n    }\n\n    error(error: any) {\n        this.state$.error(error);\n    }\n\n    complete() {\n        this.state$.complete();\n    }\n\n    subscribe(next?: (value: T) => void, error?: (error: any) => void, complete?: () => void): Subscription {\n        return this.state$.subscribe(next, error, complete);\n    }\n\n    /**\n     * set store new state\n     *\n     * @example\n     * this.setState(newState);\n     * this.setState({ users: produce(this.snapshot.users).add(user) });\n     * this.setState((state) => {\n     *    return {\n     *        users: produce(state.users).add(user)\n     *    }\n     * });\n     * @param fn\n     */\n    setState(fn: Partial<T> | ((newState: T) => Partial<T>)): void {\n        if (helpers.isFunction(fn)) {\n            this.next({\n                ...this.snapshot,\n                ...(fn as any)(this.snapshot)\n            });\n        } else {\n            this.next({\n                ...this.snapshot,\n                ...(fn as T)\n            });\n        }\n    }\n\n    getState(): T {\n        return this.snapshot;\n    }\n\n    @Action()\n    clearState() {\n        this.setState(this.initialStateCache);\n    }\n\n    ngOnDestroy() {\n        if (this.reduxToolEnabled) {\n            const rootStore: RootStore = getSingletonRootStore();\n            rootStore.unregisterStore(this);\n        }\n    }\n\n    /**\n     * You can override this method if you want to give your container instance a custom id.\n     * The returned id must be unique in the application.\n     */\n    getStoreInstanceId(): string {\n        return this._defaultStoreInstanceId;\n    }\n\n    private _getClassName(): string {\n        const name = this.constructor.name || /function (.+)\\(/.exec(this.constructor + '')[1];\n        if (this.reduxToolEnabled) {\n            const rootStore: RootStore = getSingletonRootStore();\n            if (!rootStore.existStoreInstanceId(name)) {\n                return name;\n            }\n            let j = 0;\n            for (let i = 1; i < 20; i++) {\n                if (!rootStore.existStoreInstanceId(`${name}-${i}`)) {\n                    j = i;\n                    break;\n                }\n            }\n            return `${name}-${j}`;\n        }\n        return name;\n    }\n}\n","import { Store } from './store';\nimport { Id, PaginationInfo } from 'ngx-tethys/types';\nimport { helpers, produce } from 'ngx-tethys/util';\nimport { mergeReferences, buildReferencesKeyBy, ReferenceArrayExtractAllowKeys } from 'ngx-tethys/util';\nimport { map } from 'rxjs/operators';\nimport { ReferencesIdDictionary, OnCombineRefsFn } from './references';\n\nexport interface EntityStoreOptions<TEntity = unknown, TReferences = unknown> {\n    idKey?: string;\n    referencesIdKeys?: ReferenceArrayExtractAllowKeys<TReferences>;\n}\n\nexport interface EntityAddOptions {\n    prepend?: boolean;\n    // \n    autoGotoLastPage?: boolean;\n}\n\nexport interface EntityState<TEntity, TReferences = unknown> {\n    pagination?: PaginationInfo;\n    entities: TEntity[];\n    references?: TReferences;\n}\n\nexport class EntityStore<TState extends EntityState<TEntity, TReferences>, TEntity, TReferences = unknown> extends Store<TState> {\n    protected options: EntityStoreOptions<TEntity, TReferences>;\n\n    private internalReferencesIdMap: ReferencesIdDictionary<TReferences>;\n\n    get entities() {\n        return this.snapshot.entities;\n    }\n\n    entities$ = this.select(state => {\n        return state.entities;\n    });\n\n    entitiesWithRefs$ = this.entities$.pipe(\n        map(entities => {\n            if (!entities) {\n                return entities;\n            }\n            return entities.map(entity => {\n                const newEntity = { ...entity };\n\n                if (this['onCombineRefs']) {\n                    if (!newEntity['refs']) {\n                        newEntity['refs'] = {};\n                    }\n                    this['onCombineRefs'](newEntity, this.internalReferencesIdMap, this.snapshot.references);\n                } else {\n                    throw new Error(`onCombineRefs is not empty`);\n                }\n                return newEntity;\n            });\n        })\n    );\n\n    private resetPagination(pagination: PaginationInfo, count: number) {\n        pagination.count = count;\n        //  21 / 20 = 1.05 = 2 pageCount is 2\n        const pageCount = Math.ceil(pagination.count / pagination.pageSize);\n        pagination.pageCount = pageCount;\n        this.snapshot.pagination = { ...pagination };\n    }\n\n    private increasePagination(amount: number) {\n        const pagination = this.snapshot.pagination;\n        this.resetPagination(pagination, pagination.count + amount);\n    }\n\n    private decreasePagination(amount: number) {\n        const pagination = this.snapshot.pagination;\n        if (pagination) {\n            this.resetPagination(pagination, pagination.count - amount);\n        }\n    }\n\n    private buildReferencesIdMap() {\n        if (this.snapshot.references) {\n            this.internalReferencesIdMap = buildReferencesKeyBy(this.snapshot.references, this.options.referencesIdKeys);\n        }\n    }\n\n    constructor(\n        initialState: EntityState<TEntity, TReferences> = {\n            entities: [] as TEntity[]\n        },\n        options: EntityStoreOptions<TEntity, TReferences> = { idKey: '_id' }\n    ) {\n        super(initialState);\n        this.options = { idKey: '_id', ...options };\n        if (!this.options.idKey) {\n            throw new Error(`idKey is required in EntityStore`);\n        }\n        this.buildReferencesIdMap();\n    }\n\n    /**\n     *\n     * Replace current collection with provided collection\n     *\n     * @example\n     * this.store.initialize([Entity, Entity], pagination: PaginationInfo);\n     *\n     */\n    initialize(entities: TEntity[], pagination?: PaginationInfo) {\n        const state = this.snapshot;\n        state.entities = entities || [];\n        state.pagination = pagination;\n        this.next(state);\n    }\n\n    /**\n     *\n     * Replace current collection with provided collection with references\n     *\n     * @example\n     * this.store.initializeWithReferences([Entity, Entity], references: TReferences, pagination: PaginationInfo);\n     *\n     */\n    initializeWithReferences(entities: TEntity[], references: TReferences, pagination?: PaginationInfo) {\n        const state = this.snapshot;\n        state.entities = entities || [];\n        state.pagination = pagination;\n        state.references = references;\n        this.buildReferencesIdMap();\n        this.next(state);\n    }\n\n    /**\n     * Add entity or entities for internal\n     * @param entity\n     * @param references\n     * @param addOptions\n     */\n    private addInternal(entity: TEntity | TEntity[], references?: Partial<TReferences>, addOptions?: EntityAddOptions) {\n        const addEntities = helpers.coerceArray(entity);\n        if (addEntities.length === 0) {\n            return;\n        }\n\n        const state = this.snapshot;\n        state.entities = produce(state.entities).add(addEntities, addOptions);\n        if (state.references) {\n            mergeReferences(state.references, references, this.options.referencesIdKeys);\n            this.buildReferencesIdMap();\n        }\n        if (state.pagination) {\n            this.increasePagination(addEntities.length);\n            if (addOptions && !addOptions.prepend && addOptions.autoGotoLastPage) {\n                state.pagination.pageIndex = state.pagination.pageCount;\n            }\n        }\n        this.next(state);\n    }\n\n    /**\n     * Add an entity or entities to the store.\n     *\n     * @example\n     * this.store.add(Entity);\n     * this.store.add([Entity, Entity]);\n     * this.store.add(Entity, { prepend: true });\n     */\n    add(entity: TEntity | TEntity[], addOptions?: EntityAddOptions) {\n        this.addInternal(entity, undefined, addOptions);\n    }\n\n    /**\n     * Add an entity or entities to the store with references.\n     *\n     * @example\n     * this.store.add(Entity);\n     * this.store.add([Entity, Entity]);\n     * this.store.add(Entity, { prepend: true });\n     */\n    addWithReferences(entity: TEntity | TEntity[], references: Partial<TReferences>, addOptions?: EntityAddOptions) {\n        this.addInternal(entity, references, addOptions);\n    }\n\n    /**\n     *\n     * Update an entity or entities in the store.\n     *\n     * @example\n     * this.store.update(3, {\n     *   name: 'New Name'\n     * }, references);\n     *\n     *  this.store.update(3, entity => {\n     *    return {\n     *      ...entity,\n     *      name: 'New Name'\n     *    }\n     *  }, references);\n     *\n     * this.store.update([1,2,3], {\n     *   name: 'New Name'\n     * }, references);\n     */\n    private updateInternal(\n        idsOrFn: Id | Id[] | null,\n        // | Partial<TState>\n        // | ((state: Readonly<TState>) => Partial<TState>)\n        // | ((entity: Readonly<TEntity>) => boolean),\n        newStateOrFn: ((entity: Readonly<TEntity>) => Partial<TEntity>) | Partial<TEntity>,\n        references?: TReferences\n    ): void {\n        const ids = helpers.coerceArray(idsOrFn);\n\n        const state = this.snapshot;\n        for (let i = 0; i < state.entities.length; i++) {\n            const oldEntity = state.entities[i];\n            if (ids.indexOf(oldEntity[this.options.idKey]) > -1) {\n                const newState = helpers.isFunction(newStateOrFn) ? (newStateOrFn as any)(oldEntity) : newStateOrFn;\n                state.entities[i] = { ...(oldEntity as any), ...newState };\n            }\n        }\n        state.entities = [...state.entities];\n        if (state.references) {\n            mergeReferences(state.references, references, this.options.referencesIdKeys);\n            this.buildReferencesIdMap();\n        }\n        this.next(state);\n    }\n\n    /**\n     *\n     * Update an entity or entities in the store with references.\n     *\n     * @example\n     * this.store.update(3, {\n     *   name: 'New Name'\n     * }, references);\n     *\n     *  this.store.update(3, entity => {\n     *    return {\n     *      ...entity,\n     *      name: 'New Name'\n     *    }\n     *  }, references);\n     *\n     * this.store.update([1,2,3], {\n     *   name: 'New Name'\n     * }, references);\n     */\n    update(idsOrFn: Id | Id[] | null, newStateOrFn: ((entity: Readonly<TEntity>) => Partial<TEntity>) | Partial<TEntity>): void {\n        this.updateInternal(idsOrFn, newStateOrFn, undefined);\n    }\n\n    /**\n     *\n     * Update an entity or entities in the store with references.\n     *\n     * @example\n     * this.store.updateWithReferences(3, {\n     *   name: 'New Name'\n     * }, references);\n     *\n     *  this.store.updateWithReferences(3, entity => {\n     *    return {\n     *      ...entity,\n     *      name: 'New Name'\n     *    }\n     *  }, references);\n     *\n     * this.store.updateWithReferences([1,2,3], {\n     *   name: 'New Name'\n     * }, references);\n     */\n    updateWithReferences(\n        idsOrFn: Id | Id[] | null,\n        newStateOrFn: ((entity: Readonly<TEntity>) => Partial<TEntity>) | Partial<TEntity>,\n        references: TReferences\n    ): void {\n        this.updateInternal(idsOrFn, newStateOrFn, references);\n    }\n\n    /**\n     *\n     * Remove one or more entities from the store:\n     *\n     * @example\n     * this.store.remove(5);\n     * this.store.remove([1,2,3]);\n     * this.store.remove(entity => entity.id === 1);\n     */\n    remove(id: Id | Id[]): void;\n    remove(predicate: (entity: Readonly<TEntity>) => boolean): void;\n    remove(idsOrFn?: Id | Id[] | ((entity: Readonly<TEntity>) => boolean)): void {\n        const state = this.snapshot;\n        const originalLength = state.entities.length;\n        state.entities = produce(state.entities, this.options).remove(idsOrFn);\n        this.decreasePagination(originalLength - state.entities.length);\n        this.next(state);\n    }\n\n    trackBy = (_index: number, entity: TEntity) => {\n        return entity[this.options.idKey];\n    };\n\n    clearPagination() {\n        const state = this.snapshot;\n        state.pagination = null;\n        this.next(state);\n    }\n\n    clear() {\n        const state = this.snapshot;\n        state.entities = [];\n        state.pagination = null;\n        state.references = null;\n        this.next(state);\n    }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"]}