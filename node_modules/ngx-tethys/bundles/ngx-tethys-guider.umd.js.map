{"version":3,"file":"ngx-tethys-guider.umd.js","sources":["../../src/guider/guider-manager.ts","../../src/guider/guider-step-ref.ts","../../src/guider/guider.class.ts","../../src/guider/guider-ref.ts","../../src/guider/guider.service.ts","../../src/guider/guider.directive.ts","../../src/guider/guider-hint/guider-hint.component.ts","../../src/guider/guider.module.ts","../../src/guider/ngx-tethys-guider.ts"],"names":["Injectable","helpers","fromEvent","ReplaySubject","Subject","RendererFactory2","ThyPopover","Router","NgZone","Overlay","Inject","DOCUMENT","take","Directive","ElementRef","Input","Component","HostBinding","NgModule","CommonModule","ThySharedModule","ThyIconModule","ThyButtonModule","ThyPopoverModule"],"mappings":"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","sourcesContent":["import { ThyGuiderRef } from './guider-ref';\nimport { Injectable } from '@angular/core';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ThyGuiderManager {\n    private targetListMap = {};\n\n    private thyGuiderRef: ThyGuiderRef;\n\n    private activeStepKey: string;\n\n    constructor() {}\n\n    public updateActive(key: string, guiderRef: ThyGuiderRef) {\n        this.activeStepKey = key;\n        this.thyGuiderRef = guiderRef;\n    }\n\n    public addStepTarget(key: string, el: HTMLElement) {\n        this.targetListMap[key] = el;\n    }\n\n    public removeStepTarget(key: string) {\n        delete this.targetListMap[key];\n    }\n\n    public getActiveTarget(key: string): HTMLElement {\n        return this.targetListMap[key];\n    }\n\n    public getActive(): { key: string; guiderRef: ThyGuiderRef } {\n        return {\n            key: this.activeStepKey,\n            guiderRef: this.thyGuiderRef\n        };\n    }\n}\n","import { Renderer2 } from '@angular/core';\nimport { ThyGuiderRef } from './guider-ref';\nimport { fromEvent, Subscription } from 'rxjs';\nimport { RendererFactory2 } from '@angular/core';\nimport { ThyGuiderManager } from './guider-manager';\nimport { ThyGuiderStep } from './guider.class';\nimport { ThyPopover, ThyPopoverConfig, ThyPopoverRef } from 'ngx-tethys/popover';\nimport { helpers } from 'ngx-tethys/util';\nimport { Overlay } from '@angular/cdk/overlay';\n\nconst pointContainerSize = 28;\nexport class ThyGuiderStepRef {\n    private renderer: Renderer2;\n\n    private lastPointerContainer: any;\n\n    private lastTargetElement: Element;\n\n    private targetElementObserver: Subscription;\n\n    private lastTipContainer: any;\n\n    private guiderRef: ThyGuiderRef;\n\n    private lastPopoverRef: ThyPopoverRef<any>;\n\n    constructor(\n        public step: ThyGuiderStep,\n        public stepIndex: number,\n        private readonly rendererFactory: RendererFactory2,\n        private popover: ThyPopover,\n        private guiderManager: ThyGuiderManager,\n        private overlay: Overlay,\n        private document: any\n    ) {\n        this.renderer = this.rendererFactory.createRenderer(null, null);\n    }\n\n    public show(guiderRef: ThyGuiderRef) {\n        this.guiderRef = guiderRef;\n        this.createPoint(this.step, guiderRef);\n    }\n\n    public dispose() {\n        this.removeLastPointContainer();\n        this.removeTip();\n    }\n\n    private getTargetElement(step: ThyGuiderStep) {\n        let targetElement: HTMLElement;\n        if (step.target) {\n            targetElement = this.document.querySelector(step.target);\n        } else {\n            targetElement = this.guiderManager.getActiveTarget(step.key);\n        }\n        return targetElement;\n    }\n\n    private createPoint(step: ThyGuiderStep, guiderRef: ThyGuiderRef) {\n        // target 为空并且 guiderManager 中的 targetMap 也没有此step 的 key，或者 target 直接为 坐标数组\n        // 则执行无 target 的显示\n        if (!this.isTipHasTarget(step)) {\n            this.createTip(this.step);\n            return;\n        }\n\n        const targetElement = this.getTargetElement(step);\n\n        if (helpers.isNull(targetElement)) {\n            throw new Error(`there is no target called ${step.target}`);\n        }\n        this.targetElementObserver = fromEvent(targetElement, 'click').subscribe(() => {\n            guiderRef.targetClicked().next(step);\n        });\n        const positionValue = targetElement?.style?.position;\n        if (!positionValue || positionValue === 'static') {\n            this.renderer.setStyle(targetElement, 'position', 'relative');\n        }\n        this.setStyleForPointContainer(step, targetElement);\n    }\n\n    private setStyleForPointContainer(step: ThyGuiderStep, targetElement: Element) {\n        const pointPosition = this.getPointPosition(step, targetElement);\n\n        const pointContainer = this.setPointPosition(pointPosition);\n        this.renderPoint(targetElement, pointContainer);\n    }\n\n    private getPointPosition(step: ThyGuiderStep, targetElement: Element): [number, number] {\n        const targetElementClientRect = targetElement.getBoundingClientRect();\n        const { width: targetElementWidth, height: targetElementHeight } = targetElementClientRect;\n\n        const pointOffset = step.pointOffset;\n        // 只通过 pointOffset 控制 point 的位置，默认在 target 的右下角，\n        // offset 的基点也为默认位置\n        return [targetElementWidth + pointOffset[0], targetElementHeight + pointOffset[1]];\n    }\n\n    private setPointPosition(pointPosition: [number, number]) {\n        const currentPointContainer = this.renderer.createElement('div');\n\n        this.renderer.addClass(currentPointContainer, 'thy-guider-highlight-container');\n        if (this.guiderRef.config.pointClass) {\n            this.addPointClass(currentPointContainer, this.guiderRef.config.pointClass);\n        }\n        this.renderer.setStyle(currentPointContainer, 'position', 'absolute');\n        this.renderer.setStyle(currentPointContainer, 'left', pointPosition[0] + 'px');\n        this.renderer.setStyle(currentPointContainer, 'top', pointPosition[1] + 'px');\n        this.renderer.setStyle(currentPointContainer, 'transform', 'translate(-100%,-100%)');\n\n        return currentPointContainer;\n    }\n    private addPointClass(el: any, pointClass: string | string[]) {\n        if (helpers.isString(pointClass)) {\n            this.renderer.addClass(el, pointClass);\n        }\n        if (helpers.isArray(pointClass)) {\n            pointClass.forEach(classItem => {\n                this.renderer.addClass(el, classItem);\n            });\n        }\n    }\n\n    private renderPoint(targetElement: Element, pointContainer: any) {\n        this.renderer.appendChild(targetElement, pointContainer);\n        this.lastPointerContainer = pointContainer;\n        this.lastTargetElement = targetElement;\n        this.createTip(this.step);\n    }\n\n    private removeLastPointContainer() {\n        if (this.lastPointerContainer) {\n            this.renderer.removeChild(this.document.body, this.lastPointerContainer);\n            this.lastPointerContainer = undefined;\n        }\n    }\n\n    private createTip(step: ThyGuiderStep) {\n        if (this.isTipHasTarget(step)) {\n            this.tipWithTarget(step);\n        } else {\n            this.tipWithoutTarget(step);\n        }\n    }\n\n    private tipWithoutTarget(step: ThyGuiderStep) {\n        const position = this.getTipPosition(step);\n        this.lastPopoverRef = this.popover.open(this.guiderRef.config.hintComponent, {\n            origin: null,\n            originPosition: {\n                x: position[0],\n                y: position[1]\n            },\n            originActiveClass: '',\n            panelClass: this.guiderRef.config.hintClass || '',\n            backdropClosable: false,\n            hasBackdrop: false,\n            manualClosure: true,\n            initialState: {\n                guiderRef: this.guiderRef,\n                stepRef: this\n            },\n            scrollStrategy: this.overlay.scrollStrategies.block()\n        });\n    }\n\n    private getTipPosition(step: ThyGuiderStep): [number, number] {\n        if (Array.isArray(step.target)) {\n            return step.target;\n        }\n        return this.guiderRef.config.defaultPosition;\n    }\n\n    private createTipContainer() {\n        const tipContainer = this.renderer.createElement('div');\n        this.renderer.addClass(tipContainer, 'thy-guider-content-container');\n        this.renderer.setStyle(tipContainer, 'position', 'absolute');\n        this.renderer.setStyle(tipContainer, 'top', '0px');\n        this.renderer.setStyle(tipContainer, 'right', '0px');\n        this.renderer.setStyle(tipContainer, 'bottom', '0px');\n        this.renderer.setStyle(tipContainer, 'left', '0px');\n        return tipContainer;\n    }\n\n    private tipWithTarget(step: ThyGuiderStep) {\n        let targetElement: Element;\n\n        if (step.target) {\n            targetElement = this.document.querySelector(step.target);\n        } else {\n            targetElement = this.guiderManager.getActiveTarget(step.key);\n        }\n\n        const hintContainer = this.createTipContainer();\n        this.renderer.appendChild(targetElement, hintContainer);\n        this.lastTipContainer = hintContainer;\n\n        const popoverConfig = {\n            origin: hintContainer,\n            placement: step.hintPlacement,\n            panelClass: this.guiderRef.config.hintClass || '',\n            backdropClosable: false,\n            hasBackdrop: false,\n            manualClosure: true,\n            initialState: {\n                guiderRef: this.guiderRef,\n                stepRef: this\n            },\n            scrollStrategy: this.overlay.scrollStrategies.block()\n        } as ThyPopoverConfig<any>;\n\n        const pointPosition = this.getPointPosition(step, targetElement);\n        const hintOffset = this.getTipOffset(step, pointPosition, targetElement);\n        if (hintOffset) {\n            popoverConfig.offset = hintOffset;\n        }\n        this.lastPopoverRef = this.popover.open(this.guiderRef.config.hintComponent, popoverConfig);\n    }\n\n    private getTipOffset(step: ThyGuiderStep, pointPosition: [number, number], targetElement: Element): number {\n        const hintPlacement = step.hintPlacement;\n        const targetElementClientRect = targetElement.getBoundingClientRect();\n        const { width: targetElementWidth, height: targetElementHeight } = targetElementClientRect;\n        let hintOffset: number = step.hintOffset || 0;\n        const pointXAxisOffset = pointPosition[0];\n        const pointYAxisOffset = pointPosition[1];\n\n        if (hintPlacement.startsWith('top')) {\n            if (pointYAxisOffset < pointContainerSize) {\n                hintOffset = hintOffset + Math.abs(pointYAxisOffset) + pointContainerSize;\n            }\n        } else if (hintPlacement.startsWith('bottom')) {\n            if (pointYAxisOffset > targetElementHeight) {\n                hintOffset = hintOffset + (pointYAxisOffset - targetElementHeight) + 10; // 10 为空隙量\n            }\n        } else if (hintPlacement.startsWith('left')) {\n            if (pointXAxisOffset < 0) {\n                hintOffset = hintOffset + Math.abs(pointXAxisOffset) + pointContainerSize;\n            }\n        } else if (hintPlacement.startsWith('right')) {\n            if (pointXAxisOffset > targetElementWidth) {\n                hintOffset = hintOffset + (pointXAxisOffset - targetElementWidth) + 10; // 10 为空隙量\n            }\n        }\n        return hintOffset;\n    }\n\n    private removeTip() {\n        if (this.lastPopoverRef) {\n            this.lastPopoverRef.close();\n            this.lastPopoverRef = undefined;\n        }\n        if (this.lastTipContainer) {\n            this.renderer.removeChild(this.document.body, this.lastTipContainer);\n            this.lastTipContainer = undefined;\n        }\n        if (this.lastTargetElement && this.targetElementObserver) {\n            this.targetElementObserver.unsubscribe();\n            this.lastTargetElement = undefined;\n            this.targetElementObserver = undefined;\n        }\n    }\n\n    private isTipHasTarget(step: ThyGuiderStep): boolean {\n        if (step.target) {\n            return !Array.isArray(step.target);\n        } else {\n            return !!this.guiderManager.getActiveTarget(step.key);\n        }\n    }\n}\n","import { Type } from '@angular/core';\nimport { ThyPlacement } from 'ngx-tethys/core';\n\n// export type StepTipData = {\n//     [key: string]: any;\n//     title?: string;\n//     description?: string | TemplateRef<any>;\n//     image?: string;\n// };\n\nexport interface ThyGuiderStep<TData = any> {\n    key: string;\n    target?: string | [number, number];\n    data: TData;\n    route?: string;\n    hintPlacement?: ThyPlacement;\n    hintOffset?: number;\n    pointOffset?: [number, number];\n    // children: StepInfo<T>[]\n}\n\nexport class ThyGuiderConfig {\n    /** hint Component,default is ThyGuiderHintComponent */\n    hintComponent?: Type<unknown>;\n\n    /** steps info */\n    steps: ThyGuiderStep[];\n\n    /** hint default position when step info not set hintPlacement */\n    hintPlacement?: ThyPlacement;\n\n    /** useful when without target */\n    defaultPosition?: [number, number];\n\n    /** setting default point offset */\n    pointOffset?: [number, number];\n\n    /** like popover offset */\n    hintOffset?: number;\n\n    /** popover active class */\n    hintClass?: string | string[];\n\n    /** guider point class */\n    pointClass?: string | string[];\n}\n\nexport const defaultGuiderPositionConfig = {\n    hintComponent: null as Type<unknown>,\n    hintPlacement: 'rightBottom',\n    defaultPosition: [0, 0],\n    pointOffset: [0, 0],\n    hintOffset: 4\n};\n","import { Router } from '@angular/router';\nimport { helpers } from 'ngx-tethys/util';\nimport { DOCUMENT } from '@angular/common';\nimport { ThyPopover } from 'ngx-tethys/popover';\nimport { ThyGuiderManager } from './guider-manager';\nimport { ThyGuiderStepRef } from './guider-step-ref';\nimport { Observable, ReplaySubject, Subject } from 'rxjs';\nimport { ThyGuiderConfig, ThyGuiderStep } from './guider.class';\nimport { Inject, NgZone, RendererFactory2 } from '@angular/core';\nimport { Overlay } from '@angular/cdk/overlay';\n\nexport class ThyGuiderRef {\n    public steps: ThyGuiderStep[];\n\n    private stepChange$: ReplaySubject<ThyGuiderStep> = new ReplaySubject<ThyGuiderStep>();\n\n    private guiderEnded$ = new Subject();\n\n    private closed$ = new Subject<ThyGuiderStep>();\n\n    private targetClicked$ = new Subject<ThyGuiderStep>();\n\n    private currentStep: ThyGuiderStep;\n\n    private currentStepIndex: number;\n\n    private stepsRef: ThyGuiderStepRef[];\n\n    constructor(\n        public config: ThyGuiderConfig,\n        private rendererFactory: RendererFactory2,\n        private popover: ThyPopover,\n        private router: Router,\n        private guiderManager: ThyGuiderManager,\n        private ngZone: NgZone,\n        private overlay: Overlay,\n        @Inject(DOCUMENT) private document: any\n    ) {\n        this.stepsRef = config.steps.map((step, index) => {\n            return new ThyGuiderStepRef(step, index, this.rendererFactory, this.popover, this.guiderManager, this.overlay, this.document);\n        });\n        this.steps = config.steps;\n    }\n\n    public stepChange(): Observable<ThyGuiderStep> {\n        return this.stepChange$.asObservable();\n    }\n\n    public ended() {\n        return this.guiderEnded$;\n    }\n\n    public closed() {\n        return this.closed$;\n    }\n\n    public targetClicked() {\n        return this.targetClicked$;\n    }\n\n    public start(startWith?: number) {\n        this.to(startWith);\n\n        return this.stepChange();\n    }\n\n    public next() {\n        if (this.currentStepIndex + 1 > this.steps.length) {\n            return;\n        }\n        this.to(this.currentStepIndex + 1);\n    }\n\n    public previous() {\n        if (this.currentStepIndex - 1 < 0) {\n            return;\n        }\n\n        this.to(this.currentStepIndex - 1);\n    }\n\n    public active(indexOrKey: number | string): void {\n        if (helpers.isNumber(indexOrKey)) {\n            this.to(indexOrKey as number);\n            return;\n        }\n        if (helpers.isString(indexOrKey)) {\n            const index = this.steps.findIndex(step => step.key === (indexOrKey as string));\n            this.to(index);\n            return;\n        }\n    }\n\n    private to(index: number): void {\n        this.removeExistedStep();\n\n        if (!helpers.isNumber(index) || index >= this.steps.length || index < 0 || Number.isNaN(index)) {\n            index = 0;\n        }\n        this.currentStep = this.steps[index];\n        this.currentStepIndex = index;\n\n        // update guiderManager\n        this.guiderManager.updateActive(this.currentStep.key, this);\n        if (this.currentStep.route && this.currentStep.route !== this.router.url) {\n            this.ngZone.run(() => {\n                this.router.navigateByUrl(this.currentStep.route);\n            });\n            return;\n        }\n        setTimeout(() => {\n            this.drawStep();\n            this.notifyStepClicked();\n        }, 0);\n    }\n\n    public close() {\n        this.removeManagerActiveKey();\n        this.stepsRef[this.currentStepIndex]?.dispose();\n        this.closed$.next(this.currentStep);\n    }\n\n    public end() {\n        this.close();\n        this.guiderEnded$.next(this.currentStep);\n        this.notifyGuiderIsFinished();\n    }\n\n    private removeManagerActiveKey() {\n        const activeKey = this.guiderManager.getActive().key;\n        if (activeKey && this.steps.some(step => step.key === activeKey)) {\n            this.guiderManager.updateActive('', undefined);\n        }\n    }\n\n    private notifyStepClicked() {\n        this.stepChange$.next(this.currentStep);\n    }\n\n    private drawStep() {\n        this.removeExistedStep();\n        this.stepsRef[this.currentStepIndex].show(this);\n    }\n\n    private notifyGuiderIsFinished() {\n        this.stepChange$.complete();\n        // this.targetClicked().unsubscribe();\n        this.currentStepIndex = 0;\n    }\n\n    private removeExistedStep() {\n        this.stepsRef[this.currentStepIndex]?.dispose();\n    }\n}\n","import { Router } from '@angular/router';\nimport { helpers } from 'ngx-tethys/util';\nimport { DOCUMENT } from '@angular/common';\nimport { ThyGuiderRef } from './guider-ref';\nimport { Inject, NgZone } from '@angular/core';\nimport { ThyPopover } from 'ngx-tethys/popover';\nimport { ThyGuiderManager } from './guider-manager';\nimport { Injectable, RendererFactory2 } from '@angular/core';\nimport { ThyGuiderStep, ThyGuiderConfig, defaultGuiderPositionConfig } from './guider.class';\nimport { Overlay } from '@angular/cdk/overlay';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ThyGuider {\n    private guiderRef: ThyGuiderRef;\n\n    private guiderRefs: ThyGuiderRef[] = [];\n\n    constructor(\n        private readonly rendererFactory: RendererFactory2,\n        private popover: ThyPopover,\n        private router: Router,\n        private guiderManager: ThyGuiderManager,\n        private ngZone: NgZone,\n        private overlay: Overlay,\n        @Inject(DOCUMENT) private document: any\n    ) {}\n\n    public create(config: ThyGuiderConfig): ThyGuiderRef {\n        if (!config || !config?.steps || !helpers.isArray(config?.steps)) {\n            throw new Error(`'config.steps' must be an array of length greater than 0`);\n        }\n        const normalizeConfig = this.normalizeConfig(config);\n        this.guiderRef = new ThyGuiderRef(\n            normalizeConfig,\n            this.rendererFactory,\n            this.popover,\n            this.router,\n            this.guiderManager,\n            this.ngZone,\n            this.overlay,\n            this.document\n        );\n        this.guiderRef.closed().subscribe(() => {\n            const index = this.guiderRefs.findIndex(guiderRef => guiderRef === this.guiderRef);\n            this.guiderRefs.splice(index, 1);\n        });\n        this.guiderRefs.push(this.guiderRef);\n        return this.guiderRef;\n    }\n\n    private normalizeConfig(config: ThyGuiderConfig): ThyGuiderConfig {\n        const normalizeConfig = Object.assign({}, defaultGuiderPositionConfig, config);\n        normalizeConfig.steps = normalizeConfig.steps.map(step => {\n            return this.normalizeStep(step, normalizeConfig);\n        });\n        return normalizeConfig;\n    }\n\n    private normalizeStep(step: ThyGuiderStep, config: ThyGuiderConfig): ThyGuiderStep {\n        const tempStep = Object.assign(\n            {\n                hintPlacement: config.hintPlacement,\n                hintOffset: config.hintOffset,\n                pointOffset: config.pointOffset\n            },\n            step\n        );\n\n        return tempStep;\n    }\n\n    close() {\n        if (this.guiderRefs.length > 0) {\n            const lasGuiderRef = this.guiderRefs[this.guiderRefs.length - 1];\n            if (lasGuiderRef) {\n                lasGuiderRef.close();\n                this.guiderRefs.pop();\n            }\n        }\n    }\n}\n","import { ThyGuiderManager } from './guider-manager';\nimport { AfterViewInit, Directive, ElementRef, Input, OnDestroy, OnInit, NgZone } from '@angular/core';\nimport { take } from 'rxjs/operators';\n\n@Directive({ selector: '[thyGuiderTarget]', exportAs: 'thyGuiderTarget' })\nexport class ThyGuiderTargetDirective implements OnInit, OnDestroy, AfterViewInit {\n    @Input('thyGuiderTarget')\n    target: string;\n\n    constructor(private guiderManager: ThyGuiderManager, private el: ElementRef, private ngZone: NgZone) {}\n\n    ngOnInit() {\n        this.guiderManager.addStepTarget(this.target, this.el.nativeElement);\n        this.ngZone.onStable.pipe(take(1)).subscribe(() => {\n            const { key, guiderRef } = this.guiderManager.getActive();\n            if (key === this.target) {\n                const index = guiderRef.steps.findIndex(step => step.key === this.target);\n                this.ngZone.run(() => {\n                    guiderRef.active(index);\n                });\n            }\n        });\n    }\n\n    ngAfterViewInit() {}\n\n    ngOnDestroy() {\n        const { guiderRef } = this.guiderManager.getActive();\n        if (guiderRef) {\n            guiderRef.close();\n        }\n        this.guiderManager.removeStepTarget(this.target);\n    }\n}\n","import { HostBinding, Component, Input, OnInit, TemplateRef } from '@angular/core';\nimport { ThyGuiderRef } from '../guider-ref';\nimport { helpers } from 'ngx-tethys/util';\nimport { defaultGuiderPositionConfig, ThyGuiderStep } from '../guider.class';\nimport { ThyGuiderStepRef } from '../guider-step-ref';\n\n@Component({\n    selector: 'thy-guider-hint',\n    templateUrl: 'guider-hint.component.html'\n})\nexport class ThyGuiderHintComponent implements OnInit {\n    @HostBinding('class.thy-guider-tip-container') guiderHint = true;\n\n    public guiderRef: ThyGuiderRef;\n\n    public stepRef: ThyGuiderStepRef;\n\n    public descriptionString: string;\n\n    public descriptionTemplateRef: TemplateRef<any>;\n\n    public currentStepIndex: number;\n\n    constructor() {}\n\n    ngOnInit() {\n        this.setDescription(this.stepRef.step.data.description);\n    }\n\n    private setDescription(value: string | TemplateRef<any>) {\n        if (helpers.isString(value)) {\n            this.descriptionString = value as string;\n        } else {\n            this.descriptionTemplateRef = value as TemplateRef<any>;\n        }\n    }\n\n    public jump() {\n        this.guiderRef.end();\n    }\n\n    public prev() {\n        this.guiderRef.previous();\n    }\n\n    public next() {\n        this.guiderRef.next();\n    }\n\n    public end() {\n        this.guiderRef.end();\n    }\n\n    public trackByFn(index: number, step: ThyGuiderStep) {\n        return step.key || index;\n    }\n}\n\ndefaultGuiderPositionConfig.hintComponent = ThyGuiderHintComponent;\n","import { NgModule } from '@angular/core';\nimport { ThyGuider } from './guider.service';\nimport { CommonModule } from '@angular/common';\nimport { ThyIconModule } from 'ngx-tethys/icon';\nimport { ThySharedModule } from 'ngx-tethys/shared';\nimport { ThyButtonModule } from 'ngx-tethys/button';\nimport { ThyPopoverModule } from 'ngx-tethys/popover';\nimport { ThyGuiderTargetDirective } from './guider.directive';\nimport { ThyGuiderHintComponent } from './guider-hint/guider-hint.component';\n\n@NgModule({\n    imports: [CommonModule, ThySharedModule, ThyIconModule, ThyButtonModule, ThyPopoverModule],\n    declarations: [ThyGuiderHintComponent, ThyGuiderTargetDirective],\n    exports: [ThyGuiderHintComponent, ThyGuiderTargetDirective],\n    entryComponents: [ThyGuiderHintComponent],\n    providers: [ThyGuider]\n})\nexport class ThyGuiderModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"]}