{"version":3,"file":"ngx-tethys-timeline.umd.js","sources":["../../src/timeline/timeline.service.ts","../../src/timeline/timeline-item.component.ts","../../src/timeline/timeline.component.ts","../../src/timeline/timeline.module.ts","../../src/timeline/ngx-tethys-timeline.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { ReplaySubject } from 'rxjs';\n\n@Injectable()\nexport class ThyTimelineService {\n    check$ = new ReplaySubject(1);\n    markForCheck(): void {\n        this.check$.next();\n    }\n}\n","import {\n    Component,\n    Input,\n    HostBinding,\n    OnInit,\n    OnChanges,\n    ContentChild,\n    TemplateRef,\n    ViewChild,\n    ChangeDetectorRef,\n    ChangeDetectionStrategy,\n    SimpleChanges\n} from '@angular/core';\nimport { ThyTimeMode } from './timeline.component';\nimport { ThyTimelineService } from './timeline.service';\n\nexport type thyColor = 'primary' | 'success' | 'warning' | 'danger' | 'info';\n\n@Component({\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    selector: 'thy-timeline-item',\n    templateUrl: './timeline-item.component.html',\n    exportAs: 'ThyTimelineItem'\n})\nexport class ThyTimelineItemComponent implements OnInit, OnChanges {\n    @ViewChild('timelineItem', { static: false }) template: TemplateRef<void>;\n\n    @HostBinding('class') className: string;\n\n    public color: thyColor = 'primary';\n\n    public isLast = false;\n\n    public isFirst = false;\n\n    public position: ThyTimeMode;\n\n    public reverse: Boolean = false;\n\n    @Input()\n    set thyColor(value: thyColor) {\n        if (value) {\n            this.color = value;\n        }\n    }\n\n    @Input() thyPosition: ThyTimeMode;\n\n    @ContentChild('dot', { static: false }) dot: TemplateRef<any>;\n\n    @ContentChild('description', { static: false }) description: TemplateRef<any>;\n\n    constructor(private cdr: ChangeDetectorRef, private timelineService: ThyTimelineService) {}\n\n    detectChanges(): void {\n        this.cdr.detectChanges();\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        this.timelineService.markForCheck();\n    }\n\n    ngOnInit() {}\n}\n","import {\n    Component,\n    Input,\n    HostBinding,\n    ContentChildren,\n    QueryList,\n    AfterContentInit,\n    OnChanges,\n    OnDestroy,\n    OnInit,\n    SimpleChanges,\n    SimpleChange,\n    ChangeDetectorRef,\n    ViewEncapsulation,\n    ChangeDetectionStrategy\n} from '@angular/core';\nimport { takeUntil } from 'rxjs/operators';\nimport { ThyTimelineItemComponent } from './timeline-item.component';\nimport { ThyTimelineService } from './timeline.service';\nimport { Subject } from 'rxjs';\n\nexport type ThyTimeMode = 'left' | 'right' | 'center';\n\nexport enum ThyTimeModes {\n    left = 'left',\n    right = 'right',\n    center = 'center'\n}\n\nexport type ThyTimeDirection = 'horizontal' | 'vertical';\n\n@Component({\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None,\n    selector: 'thy-timeline',\n    providers: [ThyTimelineService],\n    template: `\n        <ng-container>\n            <ng-container *ngFor=\"let item of timelineItems\">\n                <ng-template [ngTemplateOutlet]=\"item.template\"></ng-template>\n            </ng-container>\n            <ng-content></ng-content>\n        </ng-container>\n    `\n})\nexport class ThyTimelineComponent implements OnInit, AfterContentInit, OnChanges, OnDestroy {\n    @Input() thyReverse: Boolean;\n\n    @Input() thyMode: ThyTimeMode;\n\n    @Input() thyDirection: ThyTimeDirection = 'vertical';\n\n    public timelineItems: ThyTimelineItemComponent[] = [];\n\n    private destroy$ = new Subject<void>();\n\n    @HostBinding(`class.thy-timeline`) isTimeline = true;\n    @HostBinding(`class.thy-timeline-right`) rightTimeline = false;\n    @HostBinding(`class.thy-timeline-center`) centerTimeline = false;\n    @HostBinding(`class.thy-timeline-template`) templateTimeline = false;\n    @HostBinding(`class.thy-timeline-horizontal`) horizontal = false;\n\n    @ContentChildren(ThyTimelineItemComponent)\n    listOfItems: QueryList<ThyTimelineItemComponent>;\n\n    constructor(private cdr: ChangeDetectorRef, private timelineService: ThyTimelineService) {}\n\n    ngOnChanges(changes: SimpleChanges): void {\n        const { thyMode, thyReverse } = changes;\n        if (thyMode && !this.horizontal) {\n            if (thyMode.currentValue === 'right') {\n                this.rightTimeline = !this.templateTimeline;\n                this.centerTimeline = false;\n            } else if (thyMode.currentValue === 'center') {\n                this.centerTimeline = true;\n                this.rightTimeline = false;\n            } else {\n                this.rightTimeline = false;\n                this.centerTimeline = false;\n            }\n        }\n        if ((simpleChangeActivated(thyMode) && !this.horizontal) || simpleChangeActivated(thyReverse)) {\n            this.updateChildren();\n        }\n    }\n\n    ngOnInit() {\n        this.horizontal = this.thyDirection === 'horizontal' ? true : false;\n        this.timelineService.check$.pipe(takeUntil(this.destroy$)).subscribe(() => {\n            this.cdr.markForCheck();\n        });\n    }\n\n    ngAfterContentInit() {\n        this.updateChildren();\n        this.listOfItems.changes.subscribe(() => {\n            this.updateChildren();\n        });\n    }\n\n    ngOnDestroy(): void {\n        this.destroy$.next();\n        this.destroy$.complete();\n    }\n\n    private updateChildren(): void {\n        if (this.listOfItems && this.listOfItems.length) {\n            const length = this.listOfItems.length;\n            this.listOfItems.forEach((item, index) => {\n                item.isLast = !this.thyReverse ? index === length - 1 : index === 0;\n                item.isFirst = this.thyReverse ? index === length - 1 : index === 0;\n                item.reverse = this.thyReverse;\n                if (!this.horizontal) {\n                    item.position = getTimelineItemPosition(index, this.thyMode);\n                }\n                if (item.description || (item.thyPosition && !this.horizontal)) {\n                    this.templateTimeline = true;\n                }\n                item.detectChanges();\n            });\n            this.timelineItems = this.thyReverse ? this.listOfItems.toArray().reverse() : this.listOfItems.toArray();\n        }\n        this.cdr.markForCheck();\n    }\n}\nfunction simpleChangeActivated(simpleChange?: SimpleChange): boolean {\n    return !!(simpleChange && (simpleChange.previousValue !== simpleChange.currentValue || simpleChange.isFirstChange()));\n}\n\nfunction getTimelineItemPosition(index: number, mode: ThyTimeMode): ThyTimeMode | undefined {\n    return mode === 'left' ? 'left' : mode === 'right' ? 'right' : mode === 'center' && index % 2 === 0 ? 'left' : 'right';\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ThySharedModule } from 'ngx-tethys/shared';\nimport { ThyIconModule } from 'ngx-tethys/icon';\nimport { ThyTimelineComponent } from './timeline.component';\nimport { ThyTimelineItemComponent } from './timeline-item.component';\n\n@NgModule({\n    declarations: [ThyTimelineComponent, ThyTimelineItemComponent],\n    entryComponents: [],\n    imports: [CommonModule, ThySharedModule, ThyIconModule],\n    exports: [ThyTimelineComponent, ThyTimelineItemComponent],\n    providers: []\n})\nexport class ThyTimelineModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["ReplaySubject","Injectable","Component","ChangeDetectionStrategy","ChangeDetectorRef","ViewChild","HostBinding","Input","ContentChild","ThyTimeModes","Subject","takeUntil","ViewEncapsulation","ContentChildren","NgModule","CommonModule","ThySharedModule","ThyIconModule"],"mappings":"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"}