{"version":3,"file":"ngx-tethys-property-operation.umd.js","sources":["../../src/property-operation/group/property-operation-group.component.ts","../../src/property-operation/property-operation.component.ts","../../src/property-operation/module.ts","../../src/property-operation/ngx-tethys-property-operation.ts"],"names":["Component","HostBinding","EventEmitter","coerceBooleanProperty","htmlElementIsEmpty","UpdateHostClassService","ThyTranslate","ElementRef","Output","ContentChild","ViewChild","Input","HostListener","NgModule","CommonModule","ThyButtonModule","ThyIconModule","ThyFlexibleTextModule"],"mappings":"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","sourcesContent":["import { Component, HostBinding } from '@angular/core';\n\n@Component({\n    selector: 'thy-property-operation-group',\n    templateUrl: './property-operation-group.component.html'\n})\nexport class ThyPropertyOperationGroupComponent {\n    @HostBinding('class.thy-property-operation-group') _isPropertyOperationGroup = true;\n\n    constructor() {}\n}\n","import {\n    AfterContentInit,\n    Component,\n    ContentChild,\n    ElementRef,\n    EventEmitter,\n    HostBinding,\n    Input,\n    OnInit,\n    Output,\n    TemplateRef,\n    ViewChild,\n    HostListener\n} from '@angular/core';\nimport { UpdateHostClassService, ThyTranslate } from 'ngx-tethys/core';\nimport { htmlElementIsEmpty, coerceBooleanProperty } from 'ngx-tethys/util';\n\ntype ThyPropertyOperationTypes = 'primary' | 'success' | 'warning' | 'danger';\n\n@Component({\n    selector: 'thy-property-operation',\n    templateUrl: './property-operation.component.html',\n    providers: [UpdateHostClassService]\n})\nexport class ThyPropertyOperationComponent implements OnInit, AfterContentInit {\n    private initialized = false;\n\n    labelText: string;\n\n    onlyHasTips = false;\n\n    showClose = false;\n\n    type: ThyPropertyOperationTypes;\n\n    icon: string;\n\n    value: string;\n\n    labelHideWhenHasValue = false;\n\n    @Output() thyOnRemove = new EventEmitter();\n\n    @Output() thyClick = new EventEmitter<Event>();\n\n    @HostBinding('class.thy-property-operation') _isPropertyOperation = true;\n\n    @ContentChild('operationIcon') operationIcon: TemplateRef<any>;\n\n    @ViewChild('contentElement', { static: true }) contentElement: ElementRef;\n\n    @Input()\n    set thyLabelText(value: string) {\n        this.labelText = value;\n    }\n\n    @Input()\n    set thyValue(value: string) {\n        this.value = value;\n        this.setOnlyHasTips();\n    }\n\n    @Input()\n    set thyLabelTextTranslateKey(value: string) {\n        this.labelText = this.thyTranslate.instant(value);\n    }\n\n    @Input()\n    set thyIcon(value: string) {\n        this.icon = value;\n    }\n\n    @Input()\n    set thyShowClose(value: boolean) {\n        this.showClose = coerceBooleanProperty(value);\n    }\n\n    // 支持有值时，label不显示\n    @Input() set thyLabelHasValue(value: boolean) {\n        this.labelHideWhenHasValue = !coerceBooleanProperty(value);\n    }\n\n    @Input() set thyLabelHideWhenHasValue(value: boolean) {\n        this.labelHideWhenHasValue = coerceBooleanProperty(value);\n    }\n\n    @Input()\n    set thyType(value: ThyPropertyOperationTypes) {\n        this.type = value;\n        this.setHostClass();\n    }\n\n    @HostBinding('class.active')\n    @Input('thyActive')\n    active: boolean;\n\n    @HostBinding('class.thy-property-operation-disabled')\n    @Input('thyDisabled')\n    disabled: boolean;\n\n    private setHostClass(first = false) {\n        if (!this.initialized && !first) {\n            return;\n        }\n        this.updateHostClassService.updateClass(this.type ? [`thy-property-operation-${this.type}`] : []);\n    }\n\n    private setOnlyHasTips(first = false) {\n        if (!this.initialized && !first) {\n            return;\n        }\n        if (this.value) {\n            this.onlyHasTips = false;\n        } else if (htmlElementIsEmpty(this.contentElement.nativeElement)) {\n            this.onlyHasTips = true;\n        } else {\n            this.onlyHasTips = false;\n        }\n    }\n\n    constructor(\n        private thyTranslate: ThyTranslate,\n        private updateHostClassService: UpdateHostClassService,\n        private elementRef: ElementRef\n    ) {}\n\n    ngOnInit() {\n        this.updateHostClassService.initializeElement(this.elementRef.nativeElement);\n        this.setHostClass(true);\n    }\n\n    @HostListener('click', ['$event'])\n    onclick(event: Event) {\n        if (!this.disabled) {\n            this.thyClick.emit(event);\n        }\n    }\n\n    ngAfterContentInit() {\n        this.setOnlyHasTips(true);\n        this.initialized = true;\n    }\n\n    remove($event: Event) {\n        $event.stopPropagation();\n        this.thyOnRemove.emit($event);\n    }\n}\n","import { ThyButtonModule } from 'ngx-tethys/button';\nimport { ThyFlexibleTextModule } from 'ngx-tethys/flexible-text';\nimport { ThyIconModule } from 'ngx-tethys/icon';\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { ThyPropertyOperationGroupComponent } from './group/property-operation-group.component';\nimport { ThyPropertyOperationComponent } from './property-operation.component';\n\n@NgModule({\n    declarations: [ThyPropertyOperationComponent, ThyPropertyOperationGroupComponent],\n    imports: [CommonModule, ThyButtonModule, ThyIconModule, ThyFlexibleTextModule],\n    exports: [ThyPropertyOperationComponent, ThyPropertyOperationGroupComponent]\n})\nexport class ThyPropertyOperationModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"]}