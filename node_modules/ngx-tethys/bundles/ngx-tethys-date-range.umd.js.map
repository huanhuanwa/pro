{"version":3,"file":"ngx-tethys-date-range.umd.js","sources":["../../src/date-range/optional-dates/optional-dates.component.ts","../../src/date-range/date-range.component.ts","../../src/date-range/module.ts","../../src/date-range/date-range.class.ts","../../src/date-range/ngx-tethys-date-range.ts"],"names":["Component","ThyPopover","NG_VALUE_ACCESSOR","forwardRef","getUnixTime","startOfISOWeek","endOfISOWeek","startOfMonth","endOfMonth","addDays","addMonths","addYears","ChangeDetectorRef","Input","NgModule","CommonModule","FormsModule","ThyActionMenuModule","ThySharedModule","ThyIconModule","ThyDatePickerModule","ThyNavModule"],"mappings":"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","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { DateRangeItemInfo } from '../date-range.class';\nimport { ThyPopover } from 'ngx-tethys/popover';\n\n@Component({\n    selector: 'date-range-optional',\n    templateUrl: './optional-dates.component.html'\n})\nexport class OptionalDateRangesComponent implements OnInit {\n    hiddenMenu = false;\n\n    optionalDateRanges: DateRangeItemInfo[];\n\n    customValue = '自定义';\n\n    customKey: string;\n\n    minDate: number | Date;\n\n    maxDate: number | Date;\n\n    selectedDateRange: (date: DateRangeItemInfo) => void;\n\n    selectedDate: DateRangeItemInfo;\n\n    constructor(private thyPopover: ThyPopover) {}\n\n    ngOnInit() {}\n\n    _selectDateRange(dateRange: DateRangeItemInfo) {\n        this.selectedDate = dateRange;\n        this.selectedDateRange(dateRange);\n        this.thyPopover.close();\n    }\n\n    _selectedCustomDate(date: DateRangeItemInfo) {\n        this.selectedDate = {\n            begin: date.begin,\n            end: date.end,\n            key: this.customKey,\n            text: this.customValue\n        };\n        this.selectedDateRange(this.selectedDate);\n    }\n}\n","import { Component, forwardRef, OnInit, Input, SimpleChanges, ChangeDetectorRef } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\nimport { DateRangeItemInfo } from './date-range.class';\nimport { helpers } from 'ngx-tethys/util';\nimport { ThyPopover } from 'ngx-tethys/popover';\nimport { OptionalDateRangesComponent } from './optional-dates/optional-dates.component';\n\nimport { getUnixTime, startOfISOWeek, endOfISOWeek, endOfMonth, startOfMonth, addDays, addMonths, addYears } from 'date-fns';\nconst allDayTimestamp = 24 * 60 * 60;\n\nconst INPUT_CONTROL_VALUE_ACCESSOR: any = {\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => ThyDateRangeComponent),\n    multi: true\n};\n\n@Component({\n    selector: 'thy-date-range',\n    templateUrl: './date-range.component.html',\n    providers: [INPUT_CONTROL_VALUE_ACCESSOR]\n})\nexport class ThyDateRangeComponent implements OnInit, ControlValueAccessor {\n    @Input()\n    set thyOptionalDateRanges(value: DateRangeItemInfo[]) {\n        this.optionalDateRanges = value.length > 0 ? value : this.optionalDateRanges;\n    }\n\n    @Input() thyHiddenMenu = false;\n\n    @Input() thyDisabledSwitch = false;\n\n    @Input() thyCustomTextValue = '自定义';\n\n    @Input() thyMinDate: Date | number;\n\n    @Input() thyMaxDate: Date | number;\n\n    @Input() thyCustomKey: 'custom' | 'exception' = 'custom';\n\n    @Input() thyPickerFormat: string;\n\n    public selectedDate?: DateRangeItemInfo;\n\n    public optionalDateRanges: DateRangeItemInfo[] = [\n        {\n            key: 'week',\n            text: '本周',\n            begin: getUnixTime(startOfISOWeek(new Date())),\n            end: getUnixTime(endOfISOWeek(new Date())),\n            timestamp: {\n                interval: 7,\n                unit: 'day'\n            }\n        },\n        {\n            key: 'month',\n            text: '本月',\n            begin: getUnixTime(startOfMonth(new Date())),\n            end: getUnixTime(endOfMonth(new Date())),\n            timestamp: {\n                interval: 1,\n                unit: 'month'\n            }\n        }\n    ];\n\n    public selectedDateRange: {\n        begin: number;\n        end: number;\n    };\n\n    public onModelChange: Function = () => {};\n\n    public onModelTouched: Function = () => {};\n\n    constructor(private thyPopover: ThyPopover, private cdr: ChangeDetectorRef) {}\n\n    writeValue(value: any): void {\n        if (value) {\n            this.selectedDate = value;\n        } else if (this.optionalDateRanges.length > 0) {\n            this.selectedDate = this.optionalDateRanges[0];\n            this.onModelChange(this.selectedDate);\n        }\n        this._setSelectedDateRange();\n        this.cdr.detectChanges();\n    }\n\n    registerOnChange(fn: any): void {\n        this.onModelChange = fn;\n    }\n\n    registerOnTouched(fn: any): void {\n        this.onModelTouched = fn;\n    }\n\n    ngOnInit() {}\n\n    private _setSelectedDateRange() {\n        this.selectedDateRange = {\n            begin: this.selectedDate.begin,\n            end: this.selectedDate.end\n        };\n    }\n\n    private _calculateNewTime(type: string) {\n        if (this.selectedDate.timestamp) {\n            const beginDate = new Date(this.selectedDate.begin * 1000);\n            const endDate = new Date(this.selectedDate.end * 1000);\n            const interval = this.selectedDate.timestamp.interval;\n\n            if (this.selectedDate.timestamp.unit === 'day') {\n                if (type === 'previous') {\n                    return {\n                        begin: getUnixTime(addDays(beginDate, -1 * interval)),\n                        end: getUnixTime(addDays(endDate, -1 * interval)),\n                        key: this.thyCustomKey\n                    };\n                } else {\n                    return {\n                        begin: getUnixTime(addDays(beginDate, 1 * interval)),\n                        end: getUnixTime(addDays(endDate, 1 * interval)),\n                        key: this.thyCustomKey\n                    };\n                }\n            } else if (this.selectedDate.timestamp.unit === 'month') {\n                if (type === 'previous') {\n                    return {\n                        begin: getUnixTime(addMonths(beginDate, -1 * interval)),\n                        end: getUnixTime(addMonths(endDate, -1 * interval)),\n                        key: this.thyCustomKey\n                    };\n                } else {\n                    return {\n                        begin: getUnixTime(addMonths(beginDate, 1 * interval)),\n                        end: getUnixTime(addMonths(endDate, 1 * interval)),\n                        key: this.thyCustomKey\n                    };\n                }\n            } else if (this.selectedDate.timestamp.unit === 'year') {\n                if (type === 'previous') {\n                    return {\n                        begin: getUnixTime(addYears(beginDate, -1 * interval)),\n                        end: getUnixTime(addYears(endDate, -1 * interval)),\n                        key: this.thyCustomKey\n                    };\n                } else {\n                    return {\n                        begin: getUnixTime(addYears(beginDate, 1 * interval)),\n                        end: getUnixTime(addYears(endDate, 1 * interval)),\n                        key: this.thyCustomKey\n                    };\n                }\n            }\n        } else {\n            const interval: number = this.selectedDate.end - this.selectedDate.begin + allDayTimestamp;\n            if (type === 'previous') {\n                return {\n                    begin: this.selectedDate.begin - interval,\n                    end: this.selectedDate.end - interval,\n                    key: this.thyCustomKey\n                };\n            } else {\n                return {\n                    begin: this.selectedDate.begin + interval,\n                    end: this.selectedDate.end + interval,\n                    key: this.thyCustomKey\n                };\n            }\n        }\n    }\n\n    private _setPreviousOrNextDate(type: string) {\n        this.selectedDate = Object.assign({}, this.selectedDate, this._calculateNewTime(type));\n        this._setSelectedDateRange();\n        this.onModelChange(this.selectedDate);\n    }\n\n    public previous() {\n        this._setPreviousOrNextDate('previous');\n    }\n\n    public next() {\n        this._setPreviousOrNextDate('next');\n    }\n\n    public openOptionalDateRangesMenu(event: Event) {\n        if (this.thyHiddenMenu) {\n            return;\n        }\n        this.thyPopover.open(OptionalDateRangesComponent, {\n            origin: event.currentTarget as HTMLElement,\n            hasBackdrop: true,\n            backdropClass: 'thy-overlay-transparent-backdrop',\n            offset: 0,\n            manualClosure: true,\n            originActiveClass: 'thy-date-range-text-active',\n            initialState: {\n                hiddenMenu: this.thyHiddenMenu,\n                optionalDateRanges: this.optionalDateRanges,\n                selectedDate: this.selectedDate,\n                minDate: this.thyMinDate,\n                maxDate: this.thyMaxDate,\n                customValue: this.thyCustomTextValue,\n                customKey: this.thyCustomKey,\n                selectedDateRange: (dateRange: DateRangeItemInfo) => {\n                    this.onModelChange(dateRange);\n                    this.selectedDate = dateRange;\n                }\n            }\n        });\n    }\n}\n","import { ThyIconModule } from 'ngx-tethys/icon';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { ThyDateRangeComponent } from './date-range.component';\nimport { ThyActionMenuModule } from 'ngx-tethys/action-menu';\nimport { ThySharedModule } from 'ngx-tethys/shared';\nimport { ThyDatePickerModule } from 'ngx-tethys/date-picker';\nimport { OptionalDateRangesComponent } from './optional-dates/optional-dates.component';\nimport { ThyNavModule } from 'ngx-tethys/nav';\n@NgModule({\n    imports: [CommonModule, FormsModule, ThyActionMenuModule, ThySharedModule, ThyIconModule, ThyDatePickerModule, ThyNavModule],\n    declarations: [ThyDateRangeComponent, OptionalDateRangesComponent],\n    exports: [ThyDateRangeComponent],\n    entryComponents: [OptionalDateRangesComponent]\n})\nexport class ThyDateRangeModule {}\n","export type AttachTypes = 'day' | 'month' | 'year';\n\nexport class DateRangeItemInfo {\n    begin?: number;\n    end?: number;\n    key?: string;\n    text?: string;\n    timestamp?: { interval?: number, unit?: AttachTypes };\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"]}