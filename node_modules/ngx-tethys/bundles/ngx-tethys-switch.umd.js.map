{"version":3,"file":"ngx-tethys-switch.umd.js","sources":["../../src/switch/switch.component.ts","../../src/switch/switch.module.ts","../../src/switch/ngx-tethys-switch.ts"],"names":["EventEmitter","helpers","Component","NG_VALUE_ACCESSOR","forwardRef","ViewChild","Input","Output","NgModule","CommonModule"],"mappings":"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","sourcesContent":["import { Component, Input, Output, EventEmitter, OnInit, forwardRef, ElementRef, ViewChild, OnChanges, SimpleChanges } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { helpers } from 'ngx-tethys/util';\n\n@Component({\n    selector: 'thy-switch',\n    templateUrl: './switch.component.html',\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: forwardRef(() => ThySwitchComponent),\n            multi: true\n        }\n    ]\n})\nexport class ThySwitchComponent implements OnInit, ControlValueAccessor, OnChanges {\n    public model: boolean;\n\n    public type?: String = 'primary';\n\n    public size?: String = '';\n\n    public disabled?: Boolean = false;\n\n    public classNames: string[];\n\n    public typeArray: string[] = ['primary', 'info', 'warning', 'danger'];\n\n    public sizeArray: string[] = ['lg', '', 'sm'];\n\n    private initialized = false;\n\n    @ViewChild('switch', { static: true }) switchElementRef: ElementRef;\n\n    @Input()\n    set thyType(value: string) {\n        if (!this.typeArray.includes(value)) {\n            value = 'primary';\n        }\n        this.type = value;\n        if (this.initialized) {\n            this.setClassNames();\n        }\n    }\n\n    @Input()\n    set thySize(value: string) {\n        if (!this.sizeArray.includes(value)) {\n            value = '';\n        }\n        this.size = value;\n        if (this.initialized) {\n            this.setClassNames();\n        }\n    }\n\n    @Input() thyDisabled: boolean;\n\n    @Output() thyChange: EventEmitter<Event> = new EventEmitter<Event>();\n\n    constructor() {}\n\n    ngOnInit() {\n        this.setClassNames();\n        this.initialized = true;\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        // 兼容降级后的Switch，使用onChanges\n        if (changes.thyDisabled) {\n            const value = changes.thyDisabled.currentValue;\n            this.disabled = helpers.isBoolean(value) ? Boolean(value) : value === 'true' || value === '1';\n            this.setClassNames();\n        }\n    }\n\n    public onModelChange: Function = () => {};\n\n    public onModelTouched: Function = () => {};\n\n    writeValue(value: boolean) {\n        this.model = value;\n        // this.setClassNames();\n    }\n\n    registerOnChange(fn: Function): void {\n        this.onModelChange = fn;\n    }\n\n    registerOnTouched(fn: Function): void {\n        this.onModelTouched = fn;\n    }\n\n    setDisabledState(isDisabled: Boolean) {\n        this.disabled = isDisabled;\n        this.setClassNames();\n    }\n\n    toggle(event: Event) {\n        this.model = !this.model;\n        this.onModelChange(this.model);\n        this.thyChange.emit(event);\n    }\n\n    setClassNames() {\n        this.classNames = [`thy-switch-${this.type}`];\n        if (this.size) {\n            this.classNames.push(`thy-switch-${this.size}`);\n        }\n        if (this.disabled) {\n            this.classNames.push(`thy-switch-disabled`);\n            if (this.model) {\n                this.classNames.push(`thy-switch-disabled-true`);\n            }\n        }\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ThySwitchComponent } from './switch.component';\n\n@NgModule({\n    declarations: [\n        ThySwitchComponent\n    ],\n    entryComponents: [\n        ThySwitchComponent\n    ],\n    imports: [\n        CommonModule\n    ],\n    exports: [\n        ThySwitchComponent\n    ]\n})\nexport class ThySwitchModule {\n\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"]}