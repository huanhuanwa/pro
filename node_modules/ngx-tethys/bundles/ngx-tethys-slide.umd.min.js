!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("ngx-tethys/shared"),require("ngx-tethys/core"),require("ngx-tethys/util"),require("rxjs"),require("@angular/cdk/bidi"),require("@angular/cdk/coercion"),require("@angular/cdk/overlay"),require("@angular/cdk/portal"),require("rxjs/operators"),require("@angular/animations"),require("ngx-tethys/icon")):"function"==typeof define&&define.amd?define("ngx-tethys/slide",["exports","@angular/core","@angular/common","ngx-tethys/shared","ngx-tethys/core","ngx-tethys/util","rxjs","@angular/cdk/bidi","@angular/cdk/coercion","@angular/cdk/overlay","@angular/cdk/portal","rxjs/operators","@angular/animations","ngx-tethys/icon"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self)["ngx-tethys"]=e["ngx-tethys"]||{},e["ngx-tethys"].slide={}),e.ng.core,e.ng.common,e["ngx-tethys"].shared,e["ngx-tethys"].core,e["ngx-tethys"].util,e.rxjs,e.ng.cdk.bidi,e.ng.cdk.coercion,e.ng.cdk.overlay,e.ng.cdk.portal,e.rxjs.operators,e.ng.animations,e["ngx-tethys"].icon)}(this,(function(e,t,n,r,i,o,a,s,l,c,h,d,p,y){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var u=function(e,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function f(e,t){function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}Object.create;function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}Object.create;var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t}(i.ThyAbstractOverlayConfig),C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t}(v),b=new t.InjectionToken("thy-slide-default-options"),w={name:"slide",animationEnabled:!0,disposeWhenClose:!0},O={hasBackdrop:!0,backdropClass:"thy-slide-backdrop",backdropClosable:!0,closeOnNavigation:!0,autoFocus:!0,restoreFocus:!0,from:"right",panelClass:"thy-slide",containerClass:"",role:"slide",offset:0,originActiveClass:"thy-slide-origin-active",mode:"over",drawerContainer:""},S={},E={provide:b,useValue:S},x=[p.transition("void => offsetLeft",[p.style({width:0}),p.animate("0.2s ease-in")]),p.transition("offsetLeft => exit",[p.animate("0.2s",p.style({width:0}))]),p.transition("void => offsetRight",[p.style({width:0}),p.animate("0.2s ease")]),p.transition("offsetRight => exit",[p.animate("0.2s",p.style({width:0}))]),p.transition("void => offsetTop",[p.style({height:0}),p.animate("0.2s ease-in")]),p.transition("offsetTop => exit",[p.animate("0.2s",p.style({height:0}))]),p.transition("void => offsetBottom",[p.style({height:0}),p.animate("0.2s ease-in")]),p.transition("offsetBottom => exit",[p.animate("0.2s",p.style({height:0}))]),p.state("left right top bottom",p.style({transform:"*"})),p.transition("void => left",[p.style({transform:"translateX(-100%)"}),p.animate("0.2s ease-in")]),p.transition("left => exit",[p.animate("0.2s",p.style({transform:"translateX(-100%)"}))]),p.transition("void => right",[p.style({transform:"translateX(100%)"}),p.animate("0.2s ease-in")]),p.transition("right => exit",[p.animate("0.2s",p.style({transform:"translateX(100%)"}))]),p.transition("void => top",[p.style({transform:"translateY(-100%)"}),p.animate("0.2s ease-in")]),p.transition("top => exit",[p.animate("0.2s",p.style({transform:"translateY(-100%)"}))]),p.transition("void => bottom",[p.style({transform:"translateY(100%)"}),p.animate("0.2s ease-in")]),p.transition("bottom => exit",[p.animate("0.2s",p.style({transform:"translateY(100%)"}))])],I={slideContainer:p.trigger("slideContainer",x)},D=function(e){function n(t,n,r,i,o,s){var l=e.call(this,w,i)||this;return l.elementRef=t,l.document=n,l.config=r,l.renderer=o,l.viewportRuler=s,l.animationState="void",l.slideContainerStyles={},l.ngUnsubscribe$=new a.Subject,l.animationOpeningDone=l.animationStateChanged.pipe(d.filter((function(e){return"done"===e.phaseName&&e.toState===l.animationState}))),l.animationClosingDone=l.animationStateChanged.pipe(d.filter((function(e){return"done"===e.phaseName&&"exit"===e.toState}))),l.setDrawerContainerElement(),l.checkContainerWithinViewport(),l.addDrawerContainerElementClass(),l}return f(n,e),Object.defineProperty(n.prototype,"isPush",{get:function(){return"push"===this.config.mode&&!!this.drawerContainerElement},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isSide",{get:function(){return"side"===this.config.mode&&!!this.drawerContainerElement},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isLeftOrRight",{get:function(){return"left"===this.config.from||"right"===this.config.from},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hostOffset",{get:function(){return this.isLeftOrRight?this.elementRef.nativeElement.clientWidth+this.config.offset||0:this.elementRef.nativeElement.clientHeight+this.config.offset||0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"transform",{get:function(){switch(this.config.from){case"left":return"translateX("+this.hostOffset+"px)";case"right":return"translateX(-"+this.hostOffset+"px)";case"top":case"bottom":return"translateY("+this.hostOffset+"px)"}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"drawerContainerElementClass",{get:function(){return"thy-slide-"+this.config.mode+"-drawer-container"},enumerable:!1,configurable:!0}),n.prototype.setDrawerContainerElement=function(){"string"==typeof this.config.drawerContainer&&(this.drawerContainerElement=this.config.drawerContainer&&document.querySelector(this.config.drawerContainer)),this.config.drawerContainer instanceof t.ElementRef&&(this.drawerContainerElement=this.config.drawerContainer.nativeElement),this.config.drawerContainer instanceof HTMLElement&&(this.drawerContainerElement=this.config.drawerContainer)},n.prototype.setSlideContainerStyles=function(){var e,t,n,r,i=(this.drawerContainerElement||document.body).getBoundingClientRect();this.isLeftOrRight?(t=i.height,n=i.top,this.renderer.setStyle(this.elementRef.nativeElement,"top",n+"px")):(e=i.width,r=i.left,this.renderer.setStyle(this.elementRef.nativeElement,"left",r+"px")),this.slideContainerStyles={width:e,height:t}},n.prototype.checkContainerWithinViewport=function(){var e=this;this.viewportRuler.change(100).pipe(d.startWith(null),d.takeUntil(this.ngUnsubscribe$)).subscribe((function(){e.setSlideContainerStyles()}))},n.prototype.addDrawerContainerElementClass=function(){this.drawerContainerElement&&this.renderer.addClass(this.drawerContainerElement,this.drawerContainerElementClass)},n.prototype.removeDrawerContainerElementClass=function(){this.drawerContainerElement&&this.renderer.removeClass(this.drawerContainerElement,this.drawerContainerElementClass)},n.prototype.setDrawerContainerElementStyle=function(){this.isSide?this.renderer.setStyle(this.drawerContainerElement,"margin-"+this.config.from,this.hostOffset+"px"):this.isPush&&this.renderer.setStyle(this.drawerContainerElement,"transform",this.transform)},n.prototype.removeDrawerContainerElementStyle=function(){this.isSide?this.renderer.removeStyle(this.drawerContainerElement,"margin-"+this.config.from):this.isPush&&this.renderer.removeStyle(this.drawerContainerElement,"transform")},n.prototype.beforeAttachPortal=function(){this.config.offset?(this.renderer.setStyle(this.elementRef.nativeElement,this.config.from,this.config.offset+"px"),this.animationState=o.helpers.camelCase(["offset",this.config.from])):this.animationState=this.config.from,this.setDrawerContainerElementStyle()},n.prototype.beforeDetachPortal=function(){this.removeDrawerContainerElementStyle()},n.prototype.onAnimationDone=function(e){this.animationStateChanged.emit(e)},n.prototype.onAnimationStart=function(e){this.animationStateChanged.emit(e)},n.prototype.ngOnDestroy=function(){e.prototype.destroy.call(this),this.removeDrawerContainerElementClass(),this.ngUnsubscribe$.next(),this.ngUnsubscribe$.complete()},n}(i.ThyAbstractOverlayContainer);D.decorators=[{type:t.Component,args:[{selector:"thy-slide-container",template:"\n        <ng-template cdkPortalOutlet></ng-template>\n    ",animations:[I.slideContainer],host:{class:"thy-slide-container","[class.thy-slide-push]":"isPush","[class.thy-slide-side]":"isSide","[class.thy-slide-over]":"!isPush && !isSide",tabindex:"-1","[attr.role]":"'slide'","[@slideContainer]":"animationState","(@slideContainer.start)":"onAnimationStart($event)","(@slideContainer.done)":"onAnimationDone($event)","[style.width.px]":"slideContainerStyles.width","[style.height.px]":"slideContainerStyles.height","[style.max-height.px]":"slideContainerStyles.height"}}]}],D.ctorParameters=function(){return[{type:t.ElementRef},{type:void 0,decorators:[{type:t.Inject,args:[n.DOCUMENT]}]},{type:v},{type:t.ChangeDetectorRef},{type:t.Renderer2},{type:c.ViewportRuler}]},D.propDecorators={portalOutlet:[{type:t.ViewChild,args:[h.CdkPortalOutlet,{static:!0}]}]};var T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t}(i.ThyAbstractOverlayRef),j=function(e){function t(t,n,r){return e.call(this,w,t,n,r)||this}return f(t,e),t.prototype.updatePosition=function(e){return this.updateGlobalPosition(e)},t}(i.ThyAbstractInternalOverlayRef);j.decorators=[{type:t.Injectable}],j.ctorParameters=function(){return[{type:c.OverlayRef},{type:D},{type:v}]};var R=function(e){function n(t,n,r){var i=Object.assign({},O,r);return e.call(this,w,t,n,i)||this}return f(n,e),n.prototype.originElementAddActiveClass=function(e){var t;e.origin&&(t=l.coerceElement(e.origin).classList).add.apply(t,g(o.coerceArray(e.originActiveClass)))},n.prototype.originElementRemoveActiveClass=function(e){var t;e.origin&&(t=l.coerceElement(e.origin).classList).remove.apply(t,g(o.coerceArray(e.originActiveClass)))},n.prototype.buildOverlayConfig=function(e){var t=["thy-slide-overlay-pane","thy-slide-"+e.from];return Object.assign(Object.assign({},this.buildBaseOverlayConfig(e,t)),{width:e.width})},n.prototype.attachUpperOverlayContainer=function(e,n){var r=n&&n.viewContainerRef&&n.viewContainerRef.injector,i=t.Injector.create({parent:r||this.injector,providers:[{provide:v,useValue:n}]}),o=new h.ComponentPortal(D,n.viewContainerRef,i);return e.attach(o).instance},n.prototype.createUpperOverlayRef=function(e,t,n){return new j(e,t,n)},n.prototype.createInjector=function(e,n,r){var i=e&&e.viewContainerRef&&e.viewContainerRef.injector,o=[{provide:D,useValue:r},{provide:T,useValue:n}];return!e.direction||i&&i.get(s.Directionality,null)||o.push({provide:s.Directionality,useValue:{value:e.direction,change:a.of()}}),t.Injector.create({parent:i||this.injector,providers:o})},n.prototype.overlayIsOpened=function(e){var t=this.getUpperOverlayById(e.id);return this.close(t),t},n.prototype.open=function(e,t){var n=this;if(!this.overlayIsOpened(t)){var r=this.openUpperOverlay(e,t);return this.originElementAddActiveClass(r.containerInstance.config),r.afterClosed().subscribe((function(){n.originElementRemoveActiveClass(r.containerInstance.config)})),r}},n.prototype.ngOnDestroy=function(){this.dispose()},n}(i.ThyAbstractOverlayService);R.decorators=[{type:t.Injectable}],R.ctorParameters=function(){return[{type:c.Overlay},{type:t.Injector},{type:v,decorators:[{type:t.Optional},{type:t.Inject,args:[b]}]}]};var P=function(){function e(){this.slideLayout=!0}return e.prototype.ngOnInit=function(){},e}();P.decorators=[{type:t.Component,args:[{selector:"thy-slide-layout",template:"<ng-content></ng-content>",encapsulation:t.ViewEncapsulation.None}]}],P.ctorParameters=function(){return[]},P.propDecorators={slideLayout:[{type:t.HostBinding,args:["class.thy-slide-layout"]}]};var A=function(){function e(e){this.thySlideService=e,this.isIconFont=!1,this._iconName="",this.slideLayoutHeader=!0}return Object.defineProperty(e.prototype,"thyIcon",{get:function(){return this._iconName},set:function(e){this._iconName=e,e.includes("wtf")?this.isIconFont=!0:this.isIconFont=!1},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.closeModal=function(e){e.stopPropagation(),this.thySlideService.close()},e}();A.decorators=[{type:t.Component,args:[{selector:"thy-slide-header",template:'<ng-container>\n  <ng-template *ngIf="headerTemplate; else default" [ngTemplateOutlet]="headerTemplate"></ng-template>\n  <ng-template #default>\n    <h3 class="thy-slide-header-title">\n      <thy-icon *ngIf="!isIconFont && thyIcon; else iconFont" [thyIconName]="thyIcon"></thy-icon>\n      <ng-template #iconFont>\n        <i *ngIf="thyIcon" class="wft {{ thyIcon }}"></i>\n      </ng-template>\n      {{ thyTitle }}\n    </h3>\n\n    <div class="thy-slide-header-main">\n      <ng-container>\n        <ng-template *ngIf="headerOperateTemplate" [ngTemplateOutlet]="headerOperateTemplate"> </ng-template>\n      </ng-container>\n    </div>\n    <button type="button" class="close" (click)="closeModal($event)">\n      <thy-icon thyIconName="close"></thy-icon>\n    </button>\n  </ng-template>\n</ng-container>\n'}]}],A.ctorParameters=function(){return[{type:R}]},A.propDecorators={slideLayoutHeader:[{type:t.HostBinding,args:["class.thy-slide-header"]}],thyTitle:[{type:t.Input}],thyIcon:[{type:t.Input}],headerTemplate:[{type:t.ContentChild,args:["thyHeader"]}],headerOperateTemplate:[{type:t.ContentChild,args:["thyHeaderOperate"]}]};var k=function(){function e(){this.slideLayoutBody=!0}return e.prototype.ngOnInit=function(){},e}();k.decorators=[{type:t.Component,args:[{selector:"thy-slide-body",template:"\n        <ng-content></ng-content>\n    "}]}],k.propDecorators={slideLayoutBody:[{type:t.HostBinding,args:["class.thy-slide-body"]}]};var B=function(){function e(){this.thySlideBodyItem=!0,this.hasDivider=!1}return Object.defineProperty(e.prototype,"thyDividerBorder",{set:function(e){this.hasDivider=o.coerceBooleanProperty(e)},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){},e}();B.decorators=[{type:t.Component,args:[{selector:"thy-slide-body-section",template:"<ng-content></ng-content>"}]}],B.propDecorators={thySlideBodyItem:[{type:t.HostBinding,args:["class.thy-slide-body-section"]}],hasDivider:[{type:t.HostBinding,args:["class.thy-slide-body-section-divider"]}],thyDividerBorder:[{type:t.Input}]};var L=function(){function e(){this.slideLayoutFooter=!0}return e.prototype.ngOnInit=function(){},e}();L.decorators=[{type:t.Component,args:[{selector:"thy-slide-footer",template:"<ng-content></ng-content>"}]}],L.propDecorators={slideLayoutFooter:[{type:t.HostBinding,args:["class.thy-slide-footer"]}]};var _=function(e){this.elementRef=e};_.decorators=[{type:t.Directive,args:[{selector:"[thyDrawerContainer]"}]}],_.ctorParameters=function(){return[{type:t.ElementRef}]};var F=function(){};F.decorators=[{type:t.NgModule,args:[{declarations:[D,P,A,k,B,L,_],entryComponents:[D],imports:[n.CommonModule,r.ThySharedModule,y.ThyIconModule,c.OverlayModule,h.PortalModule],exports:[P,A,k,B,L,_],providers:[j,R,E]}]}],e.THY_SLIDE_DEFAULT_CONFIG=b,e.THY_SLIDE_DEFAULT_CONFIG_PROVIDER=E,e.ThyDrawerContainerDirective=_,e.ThyInternalSlideRef=j,e.ThySlideBodyComponent=k,e.ThySlideBodySectionComponent=B,e.ThySlideConfig=v,e.ThySlideContainerComponent=D,e.ThySlideFooterComponent=L,e.ThySlideHeaderComponent=A,e.ThySlideLayoutComponent=P,e.ThySlideModule=F,e.ThySlideOption=C,e.ThySlideRef=T,e.ThySlideService=R,e.slideDefaultConfigValue=O,e.slideUpperOverlayOptions=w,e.thySlideAnimations=I,e.ɵ0=S,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-tethys-slide.umd.min.js.map