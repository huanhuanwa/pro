{"version":3,"file":"ngx-tethys-guider.umd.js","sources":["../../src/guider/guider-manager.ts","../../src/guider/guider-step-ref.ts","../../src/guider/guider.class.ts","../../src/guider/guider-ref.ts","../../src/guider/guider.service.ts","../../src/guider/guider.directive.ts","../../src/guider/guider-hint/guider-hint.component.ts","../../src/guider/guider.module.ts","../../src/guider/ngx-tethys-guider.ts"],"sourcesContent":["import { ThyGuiderRef } from './guider-ref';\nimport { Injectable } from '@angular/core';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ThyGuiderManager {\n    private targetListMap = {};\n\n    private thyGuiderRef: ThyGuiderRef;\n\n    private activeStepKey: string;\n\n    constructor() {}\n\n    public updateActive(key: string, guiderRef: ThyGuiderRef) {\n        this.activeStepKey = key;\n        this.thyGuiderRef = guiderRef;\n    }\n\n    public addStepTarget(key: string, el: HTMLElement) {\n        this.targetListMap[key] = el;\n    }\n\n    public removeStepTarget(key: string) {\n        delete this.targetListMap[key];\n    }\n\n    public getActiveTarget(key: string): HTMLElement {\n        return this.targetListMap[key];\n    }\n\n    public getActive(): { key: string; guiderRef: ThyGuiderRef } {\n        return {\n            key: this.activeStepKey,\n            guiderRef: this.thyGuiderRef\n        };\n    }\n}\n","import { Renderer2 } from '@angular/core';\nimport { ThyGuiderRef } from './guider-ref';\nimport { fromEvent, Subscription } from 'rxjs';\nimport { RendererFactory2 } from '@angular/core';\nimport { ThyGuiderManager } from './guider-manager';\nimport { ThyGuiderStep } from './guider.class';\nimport { ThyPopover, ThyPopoverConfig, ThyPopoverRef } from 'ngx-tethys/popover';\nimport { helpers } from 'ngx-tethys/util';\nimport { Overlay } from '@angular/cdk/overlay';\n\nconst pointContainerSize = 28;\nexport class ThyGuiderStepRef {\n    private renderer: Renderer2;\n\n    private lastPointerContainer: any;\n\n    private lastTargetElement: Element;\n\n    private targetElementObserver: Subscription;\n\n    private lastTipContainer: any;\n\n    private guiderRef: ThyGuiderRef;\n\n    private lastPopoverRef: ThyPopoverRef<any>;\n\n    constructor(\n        public step: ThyGuiderStep,\n        public stepIndex: number,\n        private readonly rendererFactory: RendererFactory2,\n        private popover: ThyPopover,\n        private guiderManager: ThyGuiderManager,\n        private overlay: Overlay,\n        private document: any\n    ) {\n        this.renderer = this.rendererFactory.createRenderer(null, null);\n    }\n\n    public show(guiderRef: ThyGuiderRef) {\n        this.guiderRef = guiderRef;\n        this.createPoint(this.step, guiderRef);\n    }\n\n    public dispose() {\n        this.removeLastPointContainer();\n        this.removeTip();\n    }\n\n    private getTargetElement(step: ThyGuiderStep) {\n        let targetElement: HTMLElement;\n        if (step.target) {\n            targetElement = this.document.querySelector(step.target);\n        } else {\n            targetElement = this.guiderManager.getActiveTarget(step.key);\n        }\n        return targetElement;\n    }\n\n    private createPoint(step: ThyGuiderStep, guiderRef: ThyGuiderRef) {\n        // target 为空并且 guiderManager 中的 targetMap 也没有此step 的 key，或者 target 直接为 坐标数组\n        // 则执行无 target 的显示\n        if (!this.isTipHasTarget(step)) {\n            this.createTip(this.step);\n            return;\n        }\n\n        const targetElement = this.getTargetElement(step);\n\n        if (helpers.isNull(targetElement)) {\n            throw new Error(`there is no target called ${step.target}`);\n        }\n        this.targetElementObserver = fromEvent(targetElement, 'click').subscribe(() => {\n            guiderRef.targetClicked().next(step);\n        });\n        const positionValue = targetElement?.style?.position;\n        if (!positionValue || positionValue === 'static') {\n            this.renderer.setStyle(targetElement, 'position', 'relative');\n        }\n        this.setStyleForPointContainer(step, targetElement);\n    }\n\n    private setStyleForPointContainer(step: ThyGuiderStep, targetElement: Element) {\n        const pointPosition = this.getPointPosition(step, targetElement);\n\n        const pointContainer = this.setPointPosition(pointPosition);\n        this.renderPoint(targetElement, pointContainer);\n    }\n\n    private getPointPosition(step: ThyGuiderStep, targetElement: Element): [number, number] {\n        const targetElementClientRect = targetElement.getBoundingClientRect();\n        const { width: targetElementWidth, height: targetElementHeight } = targetElementClientRect;\n\n        const pointOffset = step.pointOffset;\n        // 只通过 pointOffset 控制 point 的位置，默认在 target 的右下角，\n        // offset 的基点也为默认位置\n        return [targetElementWidth + pointOffset[0], targetElementHeight + pointOffset[1]];\n    }\n\n    private setPointPosition(pointPosition: [number, number]) {\n        const currentPointContainer = this.renderer.createElement('div');\n\n        this.renderer.addClass(currentPointContainer, 'thy-guider-highlight-container');\n        if (this.guiderRef.config.pointClass) {\n            this.addPointClass(currentPointContainer, this.guiderRef.config.pointClass);\n        }\n        this.renderer.setStyle(currentPointContainer, 'position', 'absolute');\n        this.renderer.setStyle(currentPointContainer, 'left', pointPosition[0] + 'px');\n        this.renderer.setStyle(currentPointContainer, 'top', pointPosition[1] + 'px');\n        this.renderer.setStyle(currentPointContainer, 'transform', 'translate(-100%,-100%)');\n\n        return currentPointContainer;\n    }\n    private addPointClass(el: any, pointClass: string | string[]) {\n        if (helpers.isString(pointClass)) {\n            this.renderer.addClass(el, pointClass);\n        }\n        if (helpers.isArray(pointClass)) {\n            pointClass.forEach(classItem => {\n                this.renderer.addClass(el, classItem);\n            });\n        }\n    }\n\n    private renderPoint(targetElement: Element, pointContainer: any) {\n        this.renderer.appendChild(targetElement, pointContainer);\n        this.lastPointerContainer = pointContainer;\n        this.lastTargetElement = targetElement;\n        this.createTip(this.step);\n    }\n\n    private removeLastPointContainer() {\n        if (this.lastPointerContainer) {\n            this.renderer.removeChild(this.document.body, this.lastPointerContainer);\n            this.lastPointerContainer = undefined;\n        }\n    }\n\n    private createTip(step: ThyGuiderStep) {\n        if (this.isTipHasTarget(step)) {\n            this.tipWithTarget(step);\n        } else {\n            this.tipWithoutTarget(step);\n        }\n    }\n\n    private tipWithoutTarget(step: ThyGuiderStep) {\n        const position = this.getTipPosition(step);\n        this.lastPopoverRef = this.popover.open(this.guiderRef.config.hintComponent, {\n            origin: null,\n            originPosition: {\n                x: position[0],\n                y: position[1]\n            },\n            originActiveClass: '',\n            panelClass: this.guiderRef.config.hintClass || '',\n            backdropClosable: false,\n            hasBackdrop: false,\n            manualClosure: true,\n            initialState: {\n                guiderRef: this.guiderRef,\n                stepRef: this\n            },\n            scrollStrategy: this.overlay.scrollStrategies.block()\n        });\n    }\n\n    private getTipPosition(step: ThyGuiderStep): [number, number] {\n        if (Array.isArray(step.target)) {\n            return step.target;\n        }\n        return this.guiderRef.config.defaultPosition;\n    }\n\n    private createTipContainer() {\n        const tipContainer = this.renderer.createElement('div');\n        this.renderer.addClass(tipContainer, 'thy-guider-content-container');\n        this.renderer.setStyle(tipContainer, 'position', 'absolute');\n        this.renderer.setStyle(tipContainer, 'top', '0px');\n        this.renderer.setStyle(tipContainer, 'right', '0px');\n        this.renderer.setStyle(tipContainer, 'bottom', '0px');\n        this.renderer.setStyle(tipContainer, 'left', '0px');\n        return tipContainer;\n    }\n\n    private tipWithTarget(step: ThyGuiderStep) {\n        let targetElement: Element;\n\n        if (step.target) {\n            targetElement = this.document.querySelector(step.target);\n        } else {\n            targetElement = this.guiderManager.getActiveTarget(step.key);\n        }\n\n        const hintContainer = this.createTipContainer();\n        this.renderer.appendChild(targetElement, hintContainer);\n        this.lastTipContainer = hintContainer;\n\n        const popoverConfig = {\n            origin: hintContainer,\n            placement: step.hintPlacement,\n            panelClass: this.guiderRef.config.hintClass || '',\n            backdropClosable: false,\n            hasBackdrop: false,\n            manualClosure: true,\n            initialState: {\n                guiderRef: this.guiderRef,\n                stepRef: this\n            },\n            scrollStrategy: this.overlay.scrollStrategies.block()\n        } as ThyPopoverConfig<any>;\n\n        const pointPosition = this.getPointPosition(step, targetElement);\n        const hintOffset = this.getTipOffset(step, pointPosition, targetElement);\n        if (hintOffset) {\n            popoverConfig.offset = hintOffset;\n        }\n        this.lastPopoverRef = this.popover.open(this.guiderRef.config.hintComponent, popoverConfig);\n    }\n\n    private getTipOffset(step: ThyGuiderStep, pointPosition: [number, number], targetElement: Element): number {\n        const hintPlacement = step.hintPlacement;\n        const targetElementClientRect = targetElement.getBoundingClientRect();\n        const { width: targetElementWidth, height: targetElementHeight } = targetElementClientRect;\n        let hintOffset: number = step.hintOffset || 0;\n        const pointXAxisOffset = pointPosition[0];\n        const pointYAxisOffset = pointPosition[1];\n\n        if (hintPlacement.startsWith('top')) {\n            if (pointYAxisOffset < pointContainerSize) {\n                hintOffset = hintOffset + Math.abs(pointYAxisOffset) + pointContainerSize;\n            }\n        } else if (hintPlacement.startsWith('bottom')) {\n            if (pointYAxisOffset > targetElementHeight) {\n                hintOffset = hintOffset + (pointYAxisOffset - targetElementHeight) + 10; // 10 为空隙量\n            }\n        } else if (hintPlacement.startsWith('left')) {\n            if (pointXAxisOffset < 0) {\n                hintOffset = hintOffset + Math.abs(pointXAxisOffset) + pointContainerSize;\n            }\n        } else if (hintPlacement.startsWith('right')) {\n            if (pointXAxisOffset > targetElementWidth) {\n                hintOffset = hintOffset + (pointXAxisOffset - targetElementWidth) + 10; // 10 为空隙量\n            }\n        }\n        return hintOffset;\n    }\n\n    private removeTip() {\n        if (this.lastPopoverRef) {\n            this.lastPopoverRef.close();\n            this.lastPopoverRef = undefined;\n        }\n        if (this.lastTipContainer) {\n            this.renderer.removeChild(this.document.body, this.lastTipContainer);\n            this.lastTipContainer = undefined;\n        }\n        if (this.lastTargetElement && this.targetElementObserver) {\n            this.targetElementObserver.unsubscribe();\n            this.lastTargetElement = undefined;\n            this.targetElementObserver = undefined;\n        }\n    }\n\n    private isTipHasTarget(step: ThyGuiderStep): boolean {\n        if (step.target) {\n            return !Array.isArray(step.target);\n        } else {\n            return !!this.guiderManager.getActiveTarget(step.key);\n        }\n    }\n}\n","import { Type } from '@angular/core';\nimport { ThyPlacement } from 'ngx-tethys/core';\n\n// export type StepTipData = {\n//     [key: string]: any;\n//     title?: string;\n//     description?: string | TemplateRef<any>;\n//     image?: string;\n// };\n\nexport interface ThyGuiderStep<TData = any> {\n    key: string;\n    target?: string | [number, number];\n    data: TData;\n    route?: string;\n    hintPlacement?: ThyPlacement;\n    hintOffset?: number;\n    pointOffset?: [number, number];\n    // children: StepInfo<T>[]\n}\n\nexport class ThyGuiderConfig {\n    /** hint Component,default is ThyGuiderHintComponent */\n    hintComponent?: Type<unknown>;\n\n    /** steps info */\n    steps: ThyGuiderStep[];\n\n    /** hint default position when step info not set hintPlacement */\n    hintPlacement?: ThyPlacement;\n\n    /** useful when without target */\n    defaultPosition?: [number, number];\n\n    /** setting default point offset */\n    pointOffset?: [number, number];\n\n    /** like popover offset */\n    hintOffset?: number;\n\n    /** popover active class */\n    hintClass?: string | string[];\n\n    /** guider point class */\n    pointClass?: string | string[];\n}\n\nexport const defaultGuiderPositionConfig = {\n    hintComponent: null as Type<unknown>,\n    hintPlacement: 'rightBottom',\n    defaultPosition: [0, 0],\n    pointOffset: [0, 0],\n    hintOffset: 4\n};\n","import { Router } from '@angular/router';\nimport { helpers } from 'ngx-tethys/util';\nimport { DOCUMENT } from '@angular/common';\nimport { ThyPopover } from 'ngx-tethys/popover';\nimport { ThyGuiderManager } from './guider-manager';\nimport { ThyGuiderStepRef } from './guider-step-ref';\nimport { Observable, ReplaySubject, Subject } from 'rxjs';\nimport { ThyGuiderConfig, ThyGuiderStep } from './guider.class';\nimport { Inject, NgZone, RendererFactory2 } from '@angular/core';\nimport { Overlay } from '@angular/cdk/overlay';\n\nexport class ThyGuiderRef {\n    public steps: ThyGuiderStep[];\n\n    private stepChange$: ReplaySubject<ThyGuiderStep> = new ReplaySubject<ThyGuiderStep>();\n\n    private guiderEnded$ = new Subject();\n\n    private closed$ = new Subject<ThyGuiderStep>();\n\n    private targetClicked$ = new Subject<ThyGuiderStep>();\n\n    private currentStep: ThyGuiderStep;\n\n    private currentStepIndex: number;\n\n    private stepsRef: ThyGuiderStepRef[];\n\n    constructor(\n        public config: ThyGuiderConfig,\n        private rendererFactory: RendererFactory2,\n        private popover: ThyPopover,\n        private router: Router,\n        private guiderManager: ThyGuiderManager,\n        private ngZone: NgZone,\n        private overlay: Overlay,\n        @Inject(DOCUMENT) private document: any\n    ) {\n        this.stepsRef = config.steps.map((step, index) => {\n            return new ThyGuiderStepRef(step, index, this.rendererFactory, this.popover, this.guiderManager, this.overlay, this.document);\n        });\n        this.steps = config.steps;\n    }\n\n    public stepChange(): Observable<ThyGuiderStep> {\n        return this.stepChange$.asObservable();\n    }\n\n    public ended() {\n        return this.guiderEnded$;\n    }\n\n    public closed() {\n        return this.closed$;\n    }\n\n    public targetClicked() {\n        return this.targetClicked$;\n    }\n\n    public start(startWith?: number) {\n        this.to(startWith);\n\n        return this.stepChange();\n    }\n\n    public next() {\n        if (this.currentStepIndex + 1 > this.steps.length) {\n            return;\n        }\n        this.to(this.currentStepIndex + 1);\n    }\n\n    public previous() {\n        if (this.currentStepIndex - 1 < 0) {\n            return;\n        }\n\n        this.to(this.currentStepIndex - 1);\n    }\n\n    public active(indexOrKey: number | string): void {\n        if (helpers.isNumber(indexOrKey)) {\n            this.to(indexOrKey as number);\n            return;\n        }\n        if (helpers.isString(indexOrKey)) {\n            const index = this.steps.findIndex(step => step.key === (indexOrKey as string));\n            this.to(index);\n            return;\n        }\n    }\n\n    private to(index: number): void {\n        this.removeExistedStep();\n\n        if (!helpers.isNumber(index) || index >= this.steps.length || index < 0 || Number.isNaN(index)) {\n            index = 0;\n        }\n        this.currentStep = this.steps[index];\n        this.currentStepIndex = index;\n\n        // update guiderManager\n        this.guiderManager.updateActive(this.currentStep.key, this);\n        if (this.currentStep.route && this.currentStep.route !== this.router.url) {\n            this.ngZone.run(() => {\n                this.router.navigateByUrl(this.currentStep.route);\n            });\n            return;\n        }\n        setTimeout(() => {\n            this.drawStep();\n            this.notifyStepClicked();\n        }, 0);\n    }\n\n    public close() {\n        this.removeManagerActiveKey();\n        this.stepsRef[this.currentStepIndex]?.dispose();\n        this.closed$.next(this.currentStep);\n    }\n\n    public end() {\n        this.close();\n        this.guiderEnded$.next(this.currentStep);\n        this.notifyGuiderIsFinished();\n    }\n\n    private removeManagerActiveKey() {\n        const activeKey = this.guiderManager.getActive().key;\n        if (activeKey && this.steps.some(step => step.key === activeKey)) {\n            this.guiderManager.updateActive('', undefined);\n        }\n    }\n\n    private notifyStepClicked() {\n        this.stepChange$.next(this.currentStep);\n    }\n\n    private drawStep() {\n        this.removeExistedStep();\n        this.stepsRef[this.currentStepIndex].show(this);\n    }\n\n    private notifyGuiderIsFinished() {\n        this.stepChange$.complete();\n        // this.targetClicked().unsubscribe();\n        this.currentStepIndex = 0;\n    }\n\n    private removeExistedStep() {\n        this.stepsRef[this.currentStepIndex]?.dispose();\n    }\n}\n","import { Router } from '@angular/router';\nimport { helpers } from 'ngx-tethys/util';\nimport { DOCUMENT } from '@angular/common';\nimport { ThyGuiderRef } from './guider-ref';\nimport { Inject, NgZone } from '@angular/core';\nimport { ThyPopover } from 'ngx-tethys/popover';\nimport { ThyGuiderManager } from './guider-manager';\nimport { Injectable, RendererFactory2 } from '@angular/core';\nimport { ThyGuiderStep, ThyGuiderConfig, defaultGuiderPositionConfig } from './guider.class';\nimport { Overlay } from '@angular/cdk/overlay';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ThyGuider {\n    private guiderRef: ThyGuiderRef;\n\n    private guiderRefs: ThyGuiderRef[] = [];\n\n    constructor(\n        private readonly rendererFactory: RendererFactory2,\n        private popover: ThyPopover,\n        private router: Router,\n        private guiderManager: ThyGuiderManager,\n        private ngZone: NgZone,\n        private overlay: Overlay,\n        @Inject(DOCUMENT) private document: any\n    ) {}\n\n    public create(config: ThyGuiderConfig): ThyGuiderRef {\n        if (!config || !config?.steps || !helpers.isArray(config?.steps)) {\n            throw new Error(`'config.steps' must be an array of length greater than 0`);\n        }\n        const normalizeConfig = this.normalizeConfig(config);\n        this.guiderRef = new ThyGuiderRef(\n            normalizeConfig,\n            this.rendererFactory,\n            this.popover,\n            this.router,\n            this.guiderManager,\n            this.ngZone,\n            this.overlay,\n            this.document\n        );\n        this.guiderRef.closed().subscribe(() => {\n            const index = this.guiderRefs.findIndex(guiderRef => guiderRef === this.guiderRef);\n            this.guiderRefs.splice(index, 1);\n        });\n        this.guiderRefs.push(this.guiderRef);\n        return this.guiderRef;\n    }\n\n    private normalizeConfig(config: ThyGuiderConfig): ThyGuiderConfig {\n        const normalizeConfig = Object.assign({}, defaultGuiderPositionConfig, config);\n        normalizeConfig.steps = normalizeConfig.steps.map(step => {\n            return this.normalizeStep(step, normalizeConfig);\n        });\n        return normalizeConfig;\n    }\n\n    private normalizeStep(step: ThyGuiderStep, config: ThyGuiderConfig): ThyGuiderStep {\n        const tempStep = Object.assign(\n            {\n                hintPlacement: config.hintPlacement,\n                hintOffset: config.hintOffset,\n                pointOffset: config.pointOffset\n            },\n            step\n        );\n\n        return tempStep;\n    }\n\n    close() {\n        if (this.guiderRefs.length > 0) {\n            const lasGuiderRef = this.guiderRefs[this.guiderRefs.length - 1];\n            if (lasGuiderRef) {\n                lasGuiderRef.close();\n                this.guiderRefs.pop();\n            }\n        }\n    }\n}\n","import { ThyGuiderManager } from './guider-manager';\nimport { AfterViewInit, Directive, ElementRef, Input, OnDestroy, OnInit, NgZone } from '@angular/core';\nimport { take } from 'rxjs/operators';\n\n@Directive({ selector: '[thyGuiderTarget]', exportAs: 'thyGuiderTarget' })\nexport class ThyGuiderTargetDirective implements OnInit, OnDestroy, AfterViewInit {\n    @Input('thyGuiderTarget')\n    target: string;\n\n    constructor(private guiderManager: ThyGuiderManager, private el: ElementRef, private ngZone: NgZone) {}\n\n    ngOnInit() {\n        this.guiderManager.addStepTarget(this.target, this.el.nativeElement);\n        this.ngZone.onStable.pipe(take(1)).subscribe(() => {\n            const { key, guiderRef } = this.guiderManager.getActive();\n            if (key === this.target) {\n                const index = guiderRef.steps.findIndex(step => step.key === this.target);\n                this.ngZone.run(() => {\n                    guiderRef.active(index);\n                });\n            }\n        });\n    }\n\n    ngAfterViewInit() {}\n\n    ngOnDestroy() {\n        const { guiderRef } = this.guiderManager.getActive();\n        if (guiderRef) {\n            guiderRef.close();\n        }\n        this.guiderManager.removeStepTarget(this.target);\n    }\n}\n","import { HostBinding, Component, Input, OnInit, TemplateRef } from '@angular/core';\nimport { ThyGuiderRef } from '../guider-ref';\nimport { helpers } from 'ngx-tethys/util';\nimport { defaultGuiderPositionConfig, ThyGuiderStep } from '../guider.class';\nimport { ThyGuiderStepRef } from '../guider-step-ref';\n\n@Component({\n    selector: 'thy-guider-hint',\n    templateUrl: 'guider-hint.component.html'\n})\nexport class ThyGuiderHintComponent implements OnInit {\n    @HostBinding('class.thy-guider-tip-container') guiderHint = true;\n\n    public guiderRef: ThyGuiderRef;\n\n    public stepRef: ThyGuiderStepRef;\n\n    public descriptionString: string;\n\n    public descriptionTemplateRef: TemplateRef<any>;\n\n    public currentStepIndex: number;\n\n    constructor() {}\n\n    ngOnInit() {\n        this.setDescription(this.stepRef.step.data.description);\n    }\n\n    private setDescription(value: string | TemplateRef<any>) {\n        if (helpers.isString(value)) {\n            this.descriptionString = value as string;\n        } else {\n            this.descriptionTemplateRef = value as TemplateRef<any>;\n        }\n    }\n\n    public jump() {\n        this.guiderRef.end();\n    }\n\n    public prev() {\n        this.guiderRef.previous();\n    }\n\n    public next() {\n        this.guiderRef.next();\n    }\n\n    public end() {\n        this.guiderRef.end();\n    }\n\n    public trackByFn(index: number, step: ThyGuiderStep) {\n        return step.key || index;\n    }\n}\n\ndefaultGuiderPositionConfig.hintComponent = ThyGuiderHintComponent;\n","import { NgModule } from '@angular/core';\nimport { ThyGuider } from './guider.service';\nimport { CommonModule } from '@angular/common';\nimport { ThyIconModule } from 'ngx-tethys/icon';\nimport { ThySharedModule } from 'ngx-tethys/shared';\nimport { ThyButtonModule } from 'ngx-tethys/button';\nimport { ThyPopoverModule } from 'ngx-tethys/popover';\nimport { ThyGuiderTargetDirective } from './guider.directive';\nimport { ThyGuiderHintComponent } from './guider-hint/guider-hint.component';\n\n@NgModule({\n    imports: [CommonModule, ThySharedModule, ThyIconModule, ThyButtonModule, ThyPopoverModule],\n    declarations: [ThyGuiderHintComponent, ThyGuiderTargetDirective],\n    exports: [ThyGuiderHintComponent, ThyGuiderTargetDirective],\n    entryComponents: [ThyGuiderHintComponent],\n    providers: [ThyGuider]\n})\nexport class ThyGuiderModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["Injectable","helpers","fromEvent","ReplaySubject","Subject","RendererFactory2","ThyPopover","Router","NgZone","Overlay","Inject","DOCUMENT","take","Directive","ElementRef","Input","Component","HostBinding","NgModule","CommonModule","ThySharedModule","ThyIconModule","ThyButtonModule","ThyPopoverModule"],"mappings":"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"}