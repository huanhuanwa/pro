!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("ngx-tethys/icon"),require("rxjs"),require("@angular/cdk/platform"),require("rxjs/operators"),require("ngx-tethys/core")):"function"==typeof define&&define.amd?define("ngx-tethys/back-top",["exports","@angular/core","@angular/common","ngx-tethys/icon","rxjs","@angular/cdk/platform","rxjs/operators","ngx-tethys/core"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self)["ngx-tethys"]=t["ngx-tethys"]||{},t["ngx-tethys"]["back-top"]={}),t.ng.core,t.ng.common,t["ngx-tethys"].icon,t.rxjs,t.ng.cdk.platform,t.rxjs.operators,t["ngx-tethys"].core)}(this,(function(t,e,n,o,i,r,s,c){"use strict";var l=function(){function t(t,n,o,r,s){this.doc=t,this.thyScrollService=n,this.platform=o,this.cdr=r,this.zone=s,this.classNames=!0,this.thyVisibilityHeight=400,this.thyClick=new e.EventEmitter,this.visibleChange=new e.EventEmitter,this.visible=!1,this.scrollListenerDestroy$=new i.Subject,this.target=null}return t.prototype.ngOnInit=function(){this.registerScrollEvent()},t.prototype.clickBackTop=function(){this.thyScrollService.scrollTo(this.getTarget(),0),this.thyClick.emit(!0)},t.prototype.getTarget=function(){return this.target||window},t.prototype.handleScroll=function(){var t=this;this.visible!==this.thyScrollService.getScroll(this.getTarget())>this.thyVisibilityHeight&&(this.visible=!this.visible,this.cdr.detectChanges(),this.zone.run((function(){t.visibleChange.emit(t.visible)})))},t.prototype.registerScrollEvent=function(){var t=this;this.platform.isBrowser&&(this.scrollListenerDestroy$.next(),this.handleScroll(),this.zone.runOutsideAngular((function(){i.fromEvent(t.getTarget(),"scroll").pipe(s.throttleTime(50),s.takeUntil(t.scrollListenerDestroy$)).subscribe((function(){return t.handleScroll()}))})))},t.prototype.ngOnDestroy=function(){this.scrollListenerDestroy$.next(),this.scrollListenerDestroy$.complete()},t.prototype.ngOnChanges=function(t){t.thyContainer&&(this.target="string"==typeof this.thyContainer?this.doc.querySelector(this.thyContainer):this.thyContainer,this.registerScrollEvent())},t}();l.decorators=[{type:e.Component,args:[{selector:"thy-back-top,[thyBackTop]",template:'<div class="thy-back-top" (click)="clickBackTop()" @fadeMotion *ngIf="visible">\n  <ng-template #defaultContent>\n    <div class="thy-back-top-content">\n      <thy-icon class="back-top-icon text-muted font-size-lg" thyIconName="arrow-up"></thy-icon>\n    </div>\n  </ng-template>\n  <ng-template [ngTemplateOutlet]="thyTemplate || defaultContent"></ng-template>\n</div>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,animations:[c.fadeMotion]}]}],l.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[n.DOCUMENT]}]},{type:c.ThyScrollService},{type:r.Platform},{type:e.ChangeDetectorRef},{type:e.NgZone}]},l.propDecorators={classNames:[{type:e.HostBinding,args:["class.thy-back-top-container"]}],thyTemplate:[{type:e.Input}],thyVisibilityHeight:[{type:e.Input}],thyContainer:[{type:e.Input}],thyClick:[{type:e.Output}],visibleChange:[{type:e.Output}]};var a=function(){};a.decorators=[{type:e.NgModule,args:[{declarations:[l],imports:[n.CommonModule,o.ThyIconModule],exports:[l]}]}],t.ThyBackTopComponent=l,t.ThyBackTopModule=a,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-tethys-back-top.umd.min.js.map