{"version":3,"file":"ngx-tethys-timeline.umd.js","sources":["../../src/timeline/timeline.service.ts","../../src/timeline/timeline-item.component.ts","../../src/timeline/timeline.component.ts","../../src/timeline/timeline.module.ts","../../src/timeline/ngx-tethys-timeline.ts"],"names":["ReplaySubject","Injectable","Component","ChangeDetectionStrategy","ChangeDetectorRef","ViewChild","HostBinding","Input","ContentChild","ThyTimeModes","Subject","takeUntil","ViewEncapsulation","ContentChildren","NgModule","CommonModule","ThySharedModule","ThyIconModule"],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\nimport { ReplaySubject } from 'rxjs';\n\n@Injectable()\nexport class ThyTimelineService {\n    check$ = new ReplaySubject(1);\n    markForCheck(): void {\n        this.check$.next();\n    }\n}\n","import {\n    Component,\n    Input,\n    HostBinding,\n    OnInit,\n    OnChanges,\n    ContentChild,\n    TemplateRef,\n    ViewChild,\n    ChangeDetectorRef,\n    ChangeDetectionStrategy,\n    SimpleChanges\n} from '@angular/core';\nimport { ThyTimeMode } from './timeline.component';\nimport { ThyTimelineService } from './timeline.service';\n\nexport type thyColor = 'primary' | 'success' | 'warning' | 'danger' | 'info';\n\n@Component({\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    selector: 'thy-timeline-item',\n    templateUrl: './timeline-item.component.html',\n    exportAs: 'ThyTimelineItem'\n})\nexport class ThyTimelineItemComponent implements OnInit, OnChanges {\n    @ViewChild('timelineItem', { static: false }) template: TemplateRef<void>;\n\n    @HostBinding('class') className: string;\n\n    public color: thyColor = 'primary';\n\n    public isLast = false;\n\n    public isFirst = false;\n\n    public position: ThyTimeMode;\n\n    public reverse: Boolean = false;\n\n    @Input()\n    set thyColor(value: thyColor) {\n        if (value) {\n            this.color = value;\n        }\n    }\n\n    @Input() thyPosition: ThyTimeMode;\n\n    @ContentChild('dot', { static: false }) dot: TemplateRef<any>;\n\n    @ContentChild('description', { static: false }) description: TemplateRef<any>;\n\n    constructor(private cdr: ChangeDetectorRef, private timelineService: ThyTimelineService) {}\n\n    detectChanges(): void {\n        this.cdr.detectChanges();\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        this.timelineService.markForCheck();\n    }\n\n    ngOnInit() {}\n}\n","import {\n    Component,\n    Input,\n    HostBinding,\n    ContentChildren,\n    QueryList,\n    AfterContentInit,\n    OnChanges,\n    OnDestroy,\n    OnInit,\n    SimpleChanges,\n    SimpleChange,\n    ChangeDetectorRef,\n    ViewEncapsulation,\n    ChangeDetectionStrategy\n} from '@angular/core';\nimport { takeUntil } from 'rxjs/operators';\nimport { ThyTimelineItemComponent } from './timeline-item.component';\nimport { ThyTimelineService } from './timeline.service';\nimport { Subject } from 'rxjs';\n\nexport type ThyTimeMode = 'left' | 'right' | 'center';\n\nexport enum ThyTimeModes {\n    left = 'left',\n    right = 'right',\n    center = 'center'\n}\n\nexport type ThyTimeDirection = 'horizontal' | 'vertical';\n\n@Component({\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None,\n    selector: 'thy-timeline',\n    providers: [ThyTimelineService],\n    template: `\n        <ng-container>\n            <ng-container *ngFor=\"let item of timelineItems\">\n                <ng-template [ngTemplateOutlet]=\"item.template\"></ng-template>\n            </ng-container>\n            <ng-content></ng-content>\n        </ng-container>\n    `\n})\nexport class ThyTimelineComponent implements OnInit, AfterContentInit, OnChanges, OnDestroy {\n    @Input() thyReverse: Boolean;\n\n    @Input() thyMode: ThyTimeMode;\n\n    @Input() thyDirection: ThyTimeDirection = 'vertical';\n\n    public timelineItems: ThyTimelineItemComponent[] = [];\n\n    private destroy$ = new Subject<void>();\n\n    @HostBinding(`class.thy-timeline`) isTimeline = true;\n    @HostBinding(`class.thy-timeline-right`) rightTimeline = false;\n    @HostBinding(`class.thy-timeline-center`) centerTimeline = false;\n    @HostBinding(`class.thy-timeline-template`) templateTimeline = false;\n    @HostBinding(`class.thy-timeline-horizontal`) horizontal = false;\n\n    @ContentChildren(ThyTimelineItemComponent)\n    listOfItems: QueryList<ThyTimelineItemComponent>;\n\n    constructor(private cdr: ChangeDetectorRef, private timelineService: ThyTimelineService) {}\n\n    ngOnChanges(changes: SimpleChanges): void {\n        const { thyMode, thyReverse } = changes;\n        if (thyMode && !this.horizontal) {\n            if (thyMode.currentValue === 'right') {\n                this.rightTimeline = !this.templateTimeline;\n                this.centerTimeline = false;\n            } else if (thyMode.currentValue === 'center') {\n                this.centerTimeline = true;\n                this.rightTimeline = false;\n            } else {\n                this.rightTimeline = false;\n                this.centerTimeline = false;\n            }\n        }\n        if ((simpleChangeActivated(thyMode) && !this.horizontal) || simpleChangeActivated(thyReverse)) {\n            this.updateChildren();\n        }\n    }\n\n    ngOnInit() {\n        this.horizontal = this.thyDirection === 'horizontal' ? true : false;\n        this.timelineService.check$.pipe(takeUntil(this.destroy$)).subscribe(() => {\n            this.cdr.markForCheck();\n        });\n    }\n\n    ngAfterContentInit() {\n        this.updateChildren();\n        this.listOfItems.changes.subscribe(() => {\n            this.updateChildren();\n        });\n    }\n\n    ngOnDestroy(): void {\n        this.destroy$.next();\n        this.destroy$.complete();\n    }\n\n    private updateChildren(): void {\n        if (this.listOfItems && this.listOfItems.length) {\n            const length = this.listOfItems.length;\n            this.listOfItems.forEach((item, index) => {\n                item.isLast = !this.thyReverse ? index === length - 1 : index === 0;\n                item.isFirst = this.thyReverse ? index === length - 1 : index === 0;\n                item.reverse = this.thyReverse;\n                if (!this.horizontal) {\n                    item.position = getTimelineItemPosition(index, this.thyMode);\n                }\n                if (item.description || (item.thyPosition && !this.horizontal)) {\n                    this.templateTimeline = true;\n                }\n                item.detectChanges();\n            });\n            this.timelineItems = this.thyReverse ? this.listOfItems.toArray().reverse() : this.listOfItems.toArray();\n        }\n        this.cdr.markForCheck();\n    }\n}\nfunction simpleChangeActivated(simpleChange?: SimpleChange): boolean {\n    return !!(simpleChange && (simpleChange.previousValue !== simpleChange.currentValue || simpleChange.isFirstChange()));\n}\n\nfunction getTimelineItemPosition(index: number, mode: ThyTimeMode): ThyTimeMode | undefined {\n    return mode === 'left' ? 'left' : mode === 'right' ? 'right' : mode === 'center' && index % 2 === 0 ? 'left' : 'right';\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ThySharedModule } from 'ngx-tethys/shared';\nimport { ThyIconModule } from 'ngx-tethys/icon';\nimport { ThyTimelineComponent } from './timeline.component';\nimport { ThyTimelineItemComponent } from './timeline-item.component';\n\n@NgModule({\n    declarations: [ThyTimelineComponent, ThyTimelineItemComponent],\n    entryComponents: [],\n    imports: [CommonModule, ThySharedModule, ThyIconModule],\n    exports: [ThyTimelineComponent, ThyTimelineItemComponent],\n    providers: []\n})\nexport class ThyTimelineModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"]}