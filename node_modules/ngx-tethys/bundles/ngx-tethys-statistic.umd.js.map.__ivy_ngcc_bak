{"version":3,"file":"ngx-tethys-statistic.umd.js","sources":["../../src/statistic/statistic.component.ts","../../src/statistic/statistic.module.ts","../../src/statistic/ngx-tethys-statistic.ts"],"sourcesContent":["import { OnInit, Component, Input, HostBinding, ElementRef, TemplateRef, ContentChild, Renderer2 } from '@angular/core';\nimport { coerceBooleanProperty, hexToRgb } from 'ngx-tethys/util';\nimport { UpdateHostClassService } from 'ngx-tethys/core';\n\nexport type ThyStatisticColorType = 'primary' | 'success' | 'warning' | 'danger' | 'info';\n\nexport type ThyStatisticShape = 'card';\n\nexport type ThyStatisticSizes = 'default';\n\nexport type ThyStatisticTitlePosition = 'top' | 'bottom';\n\n@Component({\n    selector: 'thy-statistic',\n    templateUrl: './statistic.component.html',\n    providers: [UpdateHostClassService]\n})\nexport class ThyStatisticComponent implements OnInit {\n    _shape: ThyStatisticShape;\n\n    _initialized = false;\n\n    _size: ThyStatisticSizes;\n\n    prefixTemplate: TemplateRef<void>;\n\n    suffixTemplate: TemplateRef<void>;\n\n    valueTemplate: TemplateRef<void>;\n\n    titleTemplate: TemplateRef<void>;\n\n    @HostBinding(`class.thy-statistic`) class = true;\n\n    @Input() thyValueStyle = {};\n\n    @Input() thyPrefix: string;\n\n    @ContentChild('prefix', { static: true }) set prefix(value: TemplateRef<void>) {\n        this.prefixTemplate = value;\n    }\n\n    @Input() set thyPrefixTemplate(value: TemplateRef<void>) {\n        this.prefixTemplate = value;\n    }\n\n    @Input() thyValue: number | string;\n\n    @ContentChild('value', { static: true }) set value(value: TemplateRef<void>) {\n        this.valueTemplate = value;\n    }\n\n    @Input() set thyValueTemplate(value: TemplateRef<void>) {\n        this.valueTemplate = value;\n    }\n\n    @Input() thyTitle: string;\n\n    @ContentChild('title', { static: true }) set title(value: TemplateRef<void>) {\n        this.titleTemplate = value;\n    }\n\n    @Input() set thyTitleTemplate(value: TemplateRef<void>) {\n        this.titleTemplate = value;\n    }\n\n    @Input() thySuffix: string;\n\n    @ContentChild('suffix', { static: true }) set suffix(value: TemplateRef<void>) {\n        this.suffixTemplate = value;\n    }\n\n    @Input() set thySuffixTemplate(value: TemplateRef<void>) {\n        this.suffixTemplate = value;\n    }\n\n    @Input() thyTitlePosition: ThyStatisticTitlePosition = 'bottom';\n\n    @Input()\n    set thyShape(value: ThyStatisticShape) {\n        this._shape = value;\n        if (this._initialized) {\n            this._setClassesByType();\n        }\n    }\n\n    @Input() thyColor: string | ThyStatisticColorType;\n\n    @Input()\n    set thySize(value: ThyStatisticSizes) {\n        this._size = value;\n        if (this._initialized) {\n            this._setClassesByType();\n        }\n    }\n\n    constructor(private elementRef: ElementRef, private updateHostClassService: UpdateHostClassService, private renderer: Renderer2) {\n        this.updateHostClassService.initializeElement(elementRef.nativeElement);\n    }\n\n    ngOnInit() {\n        this._setClassesByType();\n        this._initialized = true;\n    }\n\n    setColor(color: string) {\n        this.renderer.setStyle(this.elementRef.nativeElement, 'color', color);\n        if (this._shape === 'card') {\n            this.renderer.setStyle(this.elementRef.nativeElement, 'border-color', color);\n            this.renderer.setStyle(this.elementRef.nativeElement, 'background-color', hexToRgb(color, 0.05));\n        }\n    }\n\n    _setClassesByType() {\n        const classNames = [];\n        if (this.thyColor) {\n            if (RegExp(/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/).test(this.thyColor)) {\n                this.setColor(this.thyColor);\n            } else {\n                classNames.push(`thy-statistic-${this.thyColor}`);\n            }\n        }\n        if (this._shape) {\n            classNames.push(`thy-statistic-${this._shape}`);\n        }\n        if (!this._size) {\n            this._size = 'default';\n        }\n        classNames.push(`thy-statistic-${this._size}`);\n\n        this.renderer.setStyle(this.elementRef.nativeElement, 'font-size', this.thySize);\n        this.updateHostClassService.updateClass(classNames);\n    }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { ThySharedModule } from 'ngx-tethys/shared';\nimport { ThyStatisticComponent } from './statistic.component';\nimport { ThyIconModule } from 'ngx-tethys/icon';\n\n@NgModule({\n    declarations: [ThyStatisticComponent],\n    imports: [CommonModule, ThySharedModule, ThyIconModule],\n    exports: [ThyStatisticComponent],\n    providers: []\n})\nexport class ThyStatisticModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["hexToRgb","Component","UpdateHostClassService","ElementRef","Renderer2","HostBinding","Input","ContentChild","NgModule","CommonModule","ThySharedModule","ThyIconModule"],"mappings":"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"}