(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('@angular/core'),require('@angular/common'),require('ngx-tethys/button'),require('ngx-tethys/icon'),require('ngx-tethys/time-picker'),require('@angular/forms'),require('@angular/cdk/overlay'),require('ngx-tethys/input'),require('ngx-tethys/popover'),exports, require('@angular/cdk/overlay'), require('@angular/common'), require('@angular/core'), require('@angular/common/locales/zh-Hans'), require('@angular/forms'), require('ngx-tethys/util'), require('date-fns'), require('ngx-tethys/button'), require('ngx-tethys/icon'), require('ngx-tethys/time-picker'), require('rxjs'), require('ngx-tethys/core'), require('ngx-tethys/input'), require('ngx-tethys/popover'), require('rxjs/operators'), require('@angular/cdk/coercion')) :
    typeof define === 'function' && define.amd ? define('ngx-tethys/date-picker', ['@angular/core','@angular/common','ngx-tethys/button','ngx-tethys/icon','ngx-tethys/time-picker','@angular/forms','@angular/cdk/overlay','ngx-tethys/input','ngx-tethys/popover','exports', '@angular/cdk/overlay', '@angular/common', '@angular/core', '@angular/common/locales/zh-Hans', '@angular/forms', 'ngx-tethys/util', 'date-fns', 'ngx-tethys/button', 'ngx-tethys/icon', 'ngx-tethys/time-picker', 'rxjs', 'ngx-tethys/core', 'ngx-tethys/input', 'ngx-tethys/popover', 'rxjs/operators', '@angular/cdk/coercion'], factory) :
    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.ng.core,global.ng.common,global.ngxTethys.button,global.ngxTethys.icon,global.ngxTethys.timePicker,global.ng.forms,global.ng.cdk.overlay,global.ngxTethys.input,global.ngxTethys.popover,(global['ngx-tethys'] = global['ngx-tethys'] || {}, global['ngx-tethys']['date-picker'] = {}), global.ng.cdk.overlay, global.ng.common, global.ng.core, global.ng.common.locales.zhHans, global.ng.forms, global['ngx-tethys'].util, global.dateFns, global['ngx-tethys'].button, global['ngx-tethys'].icon, global['ngx-tethys']['time-picker'], global.rxjs, global['ngx-tethys'].core, global['ngx-tethys'].input, global['ngx-tethys'].popover, global.rxjs.operators, global.ng.cdk.coercion));
}(this, (function (ɵngcc0,ɵngcc1,ɵngcc2,ɵngcc3,ɵngcc4,ɵngcc5,ɵngcc6,ɵngcc7,ɵngcc8,exports, overlay, common, i0, localeZhHans, forms, util, dateFns, button, icon, timePicker, rxjs, core, input, popover, operators, coercion) { 
function CalendarFooterComponent_div_0_a_1_Template(rf, ctx) { if (rf & 1) {
    var _r5 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "a", 7);
    ɵngcc0.ɵɵlistener("click", function CalendarFooterComponent_div_0_a_1_Template_a_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r5); var ctx_r4 = ɵngcc0.ɵɵnextContext(2); return ctx_r4.changeTimeShowMode("show"); });
    ɵngcc0.ɵɵelement(1, "thy-icon", 8);
    ɵngcc0.ɵɵtext(2, "\u8BBE\u7F6E\u65F6\u95F4 ");
    ɵngcc0.ɵɵelementEnd();
} }
function CalendarFooterComponent_div_0_thy_time_picker_2_Template(rf, ctx) { if (rf & 1) {
    var _r7 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "thy-time-picker", 9);
    ɵngcc0.ɵɵlistener("ngModelChange", function CalendarFooterComponent_div_0_thy_time_picker_2_Template_thy_time_picker_ngModelChange_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r7); var ctx_r6 = ɵngcc0.ɵɵnextContext(2); return ctx_r6.onSelectTime($event); });
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r2 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵproperty("showMeridian", false)("ngModel", ctx_r2.value == null ? null : ctx_r2.value.nativeDate);
} }
function CalendarFooterComponent_div_0_button_4_Template(rf, ctx) { if (rf & 1) {
    var _r9 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "button", 10);
    ɵngcc0.ɵɵlistener("click", function CalendarFooterComponent_div_0_button_4_Template_button_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r9); var ctx_r8 = ɵngcc0.ɵɵnextContext(2); return ctx_r8.onTimeOk(); });
    ɵngcc0.ɵɵtext(1, " \u786E\u5B9A ");
    ɵngcc0.ɵɵelementEnd();
} }
function CalendarFooterComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    var _r12 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "div", 1);
    ɵngcc0.ɵɵlistener("click", function CalendarFooterComponent_div_0_Template_div_click_0_listener($event) { return $event.stopPropagation(); });
    ɵngcc0.ɵɵtemplate(1, CalendarFooterComponent_div_0_a_1_Template, 3, 0, "a", 2);
    ɵngcc0.ɵɵtemplate(2, CalendarFooterComponent_div_0_thy_time_picker_2_Template, 1, 2, "thy-time-picker", 3);
    ɵngcc0.ɵɵelementStart(3, "div", 4);
    ɵngcc0.ɵɵtemplate(4, CalendarFooterComponent_div_0_button_4_Template, 2, 0, "button", 5);
    ɵngcc0.ɵɵelementStart(5, "button", 6);
    ɵngcc0.ɵɵlistener("click", function CalendarFooterComponent_div_0_Template_button_click_5_listener() { ɵngcc0.ɵɵrestoreView(_r12); var ctx_r11 = ɵngcc0.ɵɵnextContext(); return ctx_r11.onClear(); });
    ɵngcc0.ɵɵtext(6, " \u6E05\u9664 ");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r0 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r0.isCanTime);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r0.isShowTime);
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("ngIf", !ctx_r0.isCanTime);
} }
function CalendarHeaderComponent_a_2_Template(rf, ctx) { if (rf & 1) {
    var _r9 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "a", 8);
    ɵngcc0.ɵɵlistener("click", function CalendarHeaderComponent_a_2_Template_a_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r9); var ctx_r8 = ɵngcc0.ɵɵnextContext(); return ctx_r8.previousYear(); });
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r0 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵclassMapInterpolate1("", ctx_r0.prefixCls, "-prev-year-btn");
} }
function CalendarHeaderComponent_a_3_Template(rf, ctx) { if (rf & 1) {
    var _r11 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "a", 9);
    ɵngcc0.ɵɵlistener("click", function CalendarHeaderComponent_a_3_Template_a_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r11); var ctx_r10 = ɵngcc0.ɵɵnextContext(); return ctx_r10.previousMonth(); });
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r1 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵclassMapInterpolate1("", ctx_r1.prefixCls, "-prev-month-btn");
} }
function CalendarHeaderComponent_ng_container_5_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainerStart(0);
    ɵngcc0.ɵɵelementStart(1, "a", 10);
    ɵngcc0.ɵɵlistener("click", function CalendarHeaderComponent_ng_container_5_Template_a_click_1_listener() { var selector_r12 = ctx.$implicit; return selector_r12.onClick ? selector_r12.onClick() : null; });
    ɵngcc0.ɵɵtext(2);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementContainerEnd();
} if (rf & 2) {
    var selector_r12 = ctx.$implicit;
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵclassMap(selector_r12.className);
    ɵngcc0.ɵɵpropertyInterpolate("title", selector_r12.title || null);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate1(" ", selector_r12.label, " ");
} }
function CalendarHeaderComponent_a_6_Template(rf, ctx) { if (rf & 1) {
    var _r15 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "a", 11);
    ɵngcc0.ɵɵlistener("click", function CalendarHeaderComponent_a_6_Template_a_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r15); var ctx_r14 = ɵngcc0.ɵɵnextContext(); return ctx_r14.nextMonth(); });
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r3 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵclassMapInterpolate1("", ctx_r3.prefixCls, "-next-month-btn");
} }
function CalendarHeaderComponent_a_7_Template(rf, ctx) { if (rf & 1) {
    var _r17 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "a", 12);
    ɵngcc0.ɵɵlistener("click", function CalendarHeaderComponent_a_7_Template_a_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r17); var ctx_r16 = ɵngcc0.ɵɵnextContext(); return ctx_r16.nextYear(); });
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r4 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵclassMapInterpolate1("", ctx_r4.prefixCls, "-next-year-btn");
} }
function CalendarHeaderComponent_ng_container_9_Template(rf, ctx) { if (rf & 1) {
    var _r19 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementContainerStart(0);
    ɵngcc0.ɵɵelementStart(1, "decade-panel", 13);
    ɵngcc0.ɵɵlistener("valueChange", function CalendarHeaderComponent_ng_container_9_Template_decade_panel_valueChange_1_listener($event) { ɵngcc0.ɵɵrestoreView(_r19); var ctx_r18 = ɵngcc0.ɵɵnextContext(); return ctx_r18.onChooseDecade($event); });
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementContainerEnd();
} if (rf & 2) {
    var ctx_r5 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("value", ctx_r5.value);
} }
function CalendarHeaderComponent_ng_container_10_Template(rf, ctx) { if (rf & 1) {
    var _r21 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementContainerStart(0);
    ɵngcc0.ɵɵelementStart(1, "year-panel", 14);
    ɵngcc0.ɵɵlistener("valueChange", function CalendarHeaderComponent_ng_container_10_Template_year_panel_valueChange_1_listener($event) { ɵngcc0.ɵɵrestoreView(_r21); var ctx_r20 = ɵngcc0.ɵɵnextContext(); return ctx_r20.onChooseYear($event); })("decadePanelShow", function CalendarHeaderComponent_ng_container_10_Template_year_panel_decadePanelShow_1_listener() { ɵngcc0.ɵɵrestoreView(_r21); var ctx_r22 = ɵngcc0.ɵɵnextContext(); return ctx_r22.changePanel("decade"); });
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementContainerEnd();
} if (rf & 2) {
    var ctx_r6 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("value", ctx_r6.value)("disabledDate", ctx_r6.disabledYear);
} }
function CalendarHeaderComponent_ng_container_11_Template(rf, ctx) { if (rf & 1) {
    var _r24 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementContainerStart(0);
    ɵngcc0.ɵɵelementStart(1, "month-panel", 15);
    ɵngcc0.ɵɵlistener("valueChange", function CalendarHeaderComponent_ng_container_11_Template_month_panel_valueChange_1_listener($event) { ɵngcc0.ɵɵrestoreView(_r24); var ctx_r23 = ɵngcc0.ɵɵnextContext(); return ctx_r23.onChooseMonth($event); })("yearPanelShow", function CalendarHeaderComponent_ng_container_11_Template_month_panel_yearPanelShow_1_listener() { ɵngcc0.ɵɵrestoreView(_r24); var ctx_r25 = ɵngcc0.ɵɵnextContext(); return ctx_r25.changePanel("year"); });
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementContainerEnd();
} if (rf & 2) {
    var ctx_r7 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("value", ctx_r7.value)("disabledDate", ctx_r7.disabledMonth);
} }
function DecadePanelComponent_tr_9_td_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "td", 6);
    ɵngcc0.ɵɵlistener("click", function DecadePanelComponent_tr_9_td_1_Template_td_click_0_listener() { var cell_r3 = ctx.$implicit; return cell_r3.onClick(); });
    ɵngcc0.ɵɵelementStart(1, "a");
    ɵngcc0.ɵɵtext(2);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var cell_r3 = ctx.$implicit;
    var ctx_r2 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵpropertyInterpolate("title", cell_r3.title);
    ɵngcc0.ɵɵproperty("ngClass", cell_r3.classMap);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵclassMapInterpolate1("", ctx_r2.prefixCls, "-decade");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate(cell_r3.content);
} }
function DecadePanelComponent_tr_9_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "tr", 4);
    ɵngcc0.ɵɵtemplate(1, DecadePanelComponent_tr_9_td_1_Template, 3, 6, "td", 5);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var row_r1 = ctx.$implicit;
    var ctx_r0 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngForOf", row_r1)("ngForTrackBy", ctx_r0.trackPanelDecade);
} }
function DatePopupComponent_ng_container_4_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainer(0);
} }
function DatePopupComponent_ng_container_4_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainer(0);
} }
var _c0 = function () { return { partType: "left" }; };
var _c1 = function () { return { partType: "right" }; };
function DatePopupComponent_ng_container_4_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainerStart(0);
    ɵngcc0.ɵɵtemplate(1, DatePopupComponent_ng_container_4_ng_container_1_Template, 1, 0, "ng-container", 6);
    ɵngcc0.ɵɵtemplate(2, DatePopupComponent_ng_container_4_ng_container_2_Template, 1, 0, "ng-container", 6);
    ɵngcc0.ɵɵelementContainerEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵnextContext();
    var _r9 = ɵngcc0.ɵɵreference(14);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngTemplateOutlet", _r9)("ngTemplateOutletContext", ɵngcc0.ɵɵpureFunction0(4, _c0));
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngTemplateOutlet", _r9)("ngTemplateOutletContext", ɵngcc0.ɵɵpureFunction0(5, _c1));
} }
function DatePopupComponent_ng_container_5_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainer(0);
} }
function DatePopupComponent_ng_container_5_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainerStart(0);
    ɵngcc0.ɵɵtemplate(1, DatePopupComponent_ng_container_5_ng_container_1_Template, 1, 0, "ng-container", 7);
    ɵngcc0.ɵɵelementContainerEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵnextContext();
    var _r5 = ɵngcc0.ɵɵreference(10);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngTemplateOutlet", _r5);
} }
function DatePopupComponent_ng_container_6_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainer(0);
} }
function DatePopupComponent_ng_container_6_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainerStart(0);
    ɵngcc0.ɵɵtemplate(1, DatePopupComponent_ng_container_6_ng_container_1_Template, 1, 0, "ng-container", 7);
    ɵngcc0.ɵɵelementContainerEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵnextContext();
    var _r5 = ɵngcc0.ɵɵreference(10);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngTemplateOutlet", _r5);
} }
function DatePopupComponent_ng_template_7_Template(rf, ctx) { if (rf & 1) {
    var _r17 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "inner-popup", 8);
    ɵngcc0.ɵɵlistener("panelModeChange", function DatePopupComponent_ng_template_7_Template_inner_popup_panelModeChange_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r17); var partType_r15 = ctx.partType; var ctx_r16 = ɵngcc0.ɵɵnextContext(); return ctx_r16.onPanelModeChange($event, partType_r15); })("dayHover", function DatePopupComponent_ng_template_7_Template_inner_popup_dayHover_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r17); var ctx_r18 = ɵngcc0.ɵɵnextContext(); return ctx_r18.onDayHover($event); })("selectDate", function DatePopupComponent_ng_template_7_Template_inner_popup_selectDate_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r17); var ctx_r19 = ɵngcc0.ɵɵnextContext(); return ctx_r19.changeValueFromSelect($event); })("headerChange", function DatePopupComponent_ng_template_7_Template_inner_popup_headerChange_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r17); var partType_r15 = ctx.partType; var ctx_r20 = ɵngcc0.ɵɵnextContext(); return ctx_r20.onHeaderChange($event, partType_r15); });
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var partType_r15 = ctx.partType;
    var ctx_r4 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵproperty("showWeek", ctx_r4.showWeek)("panelMode", ctx_r4.getPanelMode(partType_r15))("value", ctx_r4.getValueBySelector(partType_r15))("disabledDate", ctx_r4.disabledDate)("dateRender", ctx_r4.dateRender)("selectedValue", ctx_r4.selectedValue)("hoverValue", ctx_r4.hoverValue)("enablePrev", ctx_r4.enablePrevNext("prev", partType_r15))("enableNext", ctx_r4.enablePrevNext("next", partType_r15));
} }
function DatePopupComponent_ng_template_9_Template(rf, ctx) { if (rf & 1) {
    var _r22 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "calendar-footer", 9);
    ɵngcc0.ɵɵlistener("showTimePickerChange", function DatePopupComponent_ng_template_9_Template_calendar_footer_showTimePickerChange_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r22); var ctx_r21 = ɵngcc0.ɵɵnextContext(); return ctx_r21.onShowTimePickerChange($event); })("selectTime", function DatePopupComponent_ng_template_9_Template_calendar_footer_selectTime_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r22); var ctx_r23 = ɵngcc0.ɵɵnextContext(); return ctx_r23.onSelectTime($event); })("clickOk", function DatePopupComponent_ng_template_9_Template_calendar_footer_clickOk_0_listener() { ɵngcc0.ɵɵrestoreView(_r22); var ctx_r24 = ɵngcc0.ɵɵnextContext(); return ctx_r24.onClickOk(); })("clickRemove", function DatePopupComponent_ng_template_9_Template_calendar_footer_clickRemove_0_listener() { ɵngcc0.ɵɵrestoreView(_r22); var ctx_r25 = ɵngcc0.ɵɵnextContext(); return ctx_r25.onClickRemove(); });
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r6 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵproperty("showTime", ctx_r6.showTime)("mustShowTime", ctx_r6.mustShowTime)("value", ctx_r6.value);
} }
function DatePopupComponent_ng_template_11_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainer(0);
} }
function DatePopupComponent_ng_template_11_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div");
    ɵngcc0.ɵɵtemplate(1, DatePopupComponent_ng_template_11_ng_container_1_Template, 1, 0, "ng-container", 7);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵnextContext();
    var _r3 = ɵngcc0.ɵɵreference(8);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngTemplateOutlet", _r3);
} }
function DatePopupComponent_ng_template_13_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainer(0);
} }
var _c2 = function (a0) { return { partType: a0 }; };
function DatePopupComponent_ng_template_13_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div");
    ɵngcc0.ɵɵelementStart(1, "div", 10);
    ɵngcc0.ɵɵtemplate(2, DatePopupComponent_ng_template_13_ng_container_2_Template, 1, 0, "ng-container", 6);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var partType_r27 = ctx.partType;
    var ctx_r10 = ɵngcc0.ɵɵnextContext();
    var _r3 = ɵngcc0.ɵɵreference(8);
    ɵngcc0.ɵɵclassMapInterpolate3("", ctx_r10.prefixCls, "-range-part ", ctx_r10.prefixCls, "-range-", partType_r27, "");
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("ngTemplateOutlet", _r3)("ngTemplateOutletContext", ɵngcc0.ɵɵpureFunction1(7, _c2, partType_r27));
} }
function YearPanelComponent_tr_10_td_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "td", 7);
    ɵngcc0.ɵɵlistener("click", function YearPanelComponent_tr_10_td_1_Template_td_click_0_listener() { var yearCell_r3 = ctx.$implicit; return yearCell_r3.disabled ? null : yearCell_r3.onClick(); });
    ɵngcc0.ɵɵelementStart(1, "a");
    ɵngcc0.ɵɵtext(2);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var yearCell_r3 = ctx.$implicit;
    var ctx_r2 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵpropertyInterpolate("title", yearCell_r3.title);
    ɵngcc0.ɵɵproperty("ngClass", yearCell_r3.classMap);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵclassMapInterpolate1("", ctx_r2.prefixCls, "-year");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate(yearCell_r3.content);
} }
function YearPanelComponent_tr_10_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "tr", 5);
    ɵngcc0.ɵɵtemplate(1, YearPanelComponent_tr_10_td_1_Template, 3, 6, "td", 6);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var row_r1 = ctx.$implicit;
    var ctx_r0 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngForOf", row_r1)("ngForTrackBy", ctx_r0.trackPanelYear);
} }
function MonthTableComponent_tr_2_td_1_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainerStart(0);
    ɵngcc0.ɵɵelementStart(1, "a");
    ɵngcc0.ɵɵtext(2);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementContainerEnd();
} if (rf & 2) {
    var monthCell_r3 = ɵngcc0.ɵɵnextContext().$implicit;
    var ctx_r4 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵclassMapInterpolate1("", ctx_r4.prefixCls, "-month-panel-month");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate(monthCell_r3.content);
} }
function MonthTableComponent_tr_2_td_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "td", 4);
    ɵngcc0.ɵɵlistener("click", function MonthTableComponent_tr_2_td_1_Template_td_click_0_listener() { var monthCell_r3 = ctx.$implicit; return monthCell_r3.disabled ? null : monthCell_r3.onClick(); });
    ɵngcc0.ɵɵelementContainerStart(1, 5);
    ɵngcc0.ɵɵtemplate(2, MonthTableComponent_tr_2_td_1_ng_container_2_Template, 3, 4, "ng-container", 6);
    ɵngcc0.ɵɵelementContainerEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var monthCell_r3 = ctx.$implicit;
    var ctx_r2 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵpropertyInterpolate("title", monthCell_r3.title);
    ɵngcc0.ɵɵproperty("ngClass", monthCell_r3.classMap);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngSwitch", ctx_r2.prefixCls);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngSwitchCase", "thy-calendar");
} }
function MonthTableComponent_tr_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "tr", 2);
    ɵngcc0.ɵɵtemplate(1, MonthTableComponent_tr_2_td_1_Template, 3, 4, "td", 3);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var row_r1 = ctx.$implicit;
    var ctx_r0 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngForOf", row_r1)("ngForTrackBy", ctx_r0.trackPanelMonth);
} }
function DateTableComponent_th_3_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "th", 5);
    ɵngcc0.ɵɵelementStart(1, "span");
    ɵngcc0.ɵɵtext(2, "x");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r0 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵclassMapInterpolate2("", ctx_r0.prefixCls, "-column-header ", ctx_r0.prefixCls, "-week-number-header");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵclassMapInterpolate1("", ctx_r0.prefixCls, "-column-header-inner");
} }
function DateTableComponent_th_4_span_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "span");
    ɵngcc0.ɵɵtext(1);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var cell_r3 = ɵngcc0.ɵɵnextContext().$implicit;
    var ctx_r4 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵclassMapInterpolate1("", ctx_r4.prefixCls, "-column-header-inner");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate(cell_r3.veryShort);
} }
function DateTableComponent_th_4_span_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "span");
    ɵngcc0.ɵɵtext(1);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var cell_r3 = ɵngcc0.ɵɵnextContext().$implicit;
    var ctx_r5 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵclassMapInterpolate1("", ctx_r5.prefixCls, "-column-header-inner");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate1("\u5468", cell_r3.veryShort, "");
} }
function DateTableComponent_th_4_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "th", 6);
    ɵngcc0.ɵɵtemplate(1, DateTableComponent_th_4_span_1_Template, 2, 4, "span", 7);
    ɵngcc0.ɵɵtemplate(2, DateTableComponent_th_4_span_2_Template, 2, 4, "span", 7);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var cell_r3 = ctx.$implicit;
    var ctx_r1 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵclassMapInterpolate1("", ctx_r1.prefixCls, "-column-header");
    ɵngcc0.ɵɵpropertyInterpolate("title", cell_r3.short);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r1.prefixCls === "thy-calendar");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r1.prefixCls === "thy-calendar-full");
} }
function DateTableComponent_tr_6_td_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "td", 11);
    ɵngcc0.ɵɵtext(1);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var row_r8 = ɵngcc0.ɵɵnextContext().$implicit;
    var ctx_r9 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵclassMapInterpolate1("", ctx_r9.prefixCls, "-week-number-cell");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate1(" ", row_r8.weekNum, " ");
} }
function DateTableComponent_tr_6_td_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "td", 12);
    ɵngcc0.ɵɵlistener("click", function DateTableComponent_tr_6_td_2_Template_td_click_0_listener() { var cell_r12 = ctx.$implicit; return cell_r12.isDisabled ? null : cell_r12.onClick(); });
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var cell_r12 = ctx.$implicit;
    var ctx_r10 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵproperty("ngClass", cell_r12.classMap)("prefixCls", ctx_r10.prefixCls)("cell", cell_r12);
} }
function DateTableComponent_tr_6_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "tr", 8);
    ɵngcc0.ɵɵtemplate(1, DateTableComponent_tr_6_td_1_Template, 2, 4, "td", 9);
    ɵngcc0.ɵɵtemplate(2, DateTableComponent_tr_6_td_2_Template, 1, 3, "td", 10);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var row_r8 = ctx.$implicit;
    var ctx_r2 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵproperty("ngClass", row_r8.classMap);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", row_r8.weekNum);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngForOf", row_r8.dateCells)("ngForTrackBy", ctx_r2.trackByDateFn);
} }
var _c3 = ["date-table-cell", ""];
function DateTableCellComponent_ng_container_1_ng_container_2_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainer(0);
} }
var _c4 = function (a0) { return { $implicit: a0 }; };
function DateTableCellComponent_ng_container_1_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainerStart(0);
    ɵngcc0.ɵɵtemplate(1, DateTableCellComponent_ng_container_1_ng_container_2_ng_container_1_Template, 1, 0, "ng-container", 3);
    ɵngcc0.ɵɵelementContainerEnd();
} if (rf & 2) {
    var ctx_r2 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngTemplateOutlet", ctx_r2.cell.dateCellRender)("ngTemplateOutletContext", ɵngcc0.ɵɵpureFunction1(2, _c4, ctx_r2.cell.value));
} }
function DateTableCellComponent_ng_container_1_ng_container_3_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainerStart(0);
    ɵngcc0.ɵɵelement(1, "span", 4);
    ɵngcc0.ɵɵelementContainerEnd();
} if (rf & 2) {
    var ctx_r3 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("innerHTML", ctx_r3.cell.dateCellRender, ɵngcc0.ɵɵsanitizeHtml);
} }
function DateTableCellComponent_ng_container_1_ng_container_4_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainerStart(0);
    ɵngcc0.ɵɵelementStart(1, "div");
    ɵngcc0.ɵɵtext(2);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementContainerEnd();
} if (rf & 2) {
    var ctx_r4 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵclassMapInterpolate1("", ctx_r4.prefixCls, "-date");
    ɵngcc0.ɵɵattribute("aria-selected", ctx_r4.cell.isSelected)("aria-disabled", ctx_r4.cell.isDisabled);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate1(" ", ctx_r4.cell.content, " ");
} }
function DateTableCellComponent_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainerStart(0);
    ɵngcc0.ɵɵelementContainerStart(1, 0);
    ɵngcc0.ɵɵtemplate(2, DateTableCellComponent_ng_container_1_ng_container_2_Template, 2, 4, "ng-container", 1);
    ɵngcc0.ɵɵtemplate(3, DateTableCellComponent_ng_container_1_ng_container_3_Template, 2, 1, "ng-container", 1);
    ɵngcc0.ɵɵtemplate(4, DateTableCellComponent_ng_container_1_ng_container_4_Template, 3, 6, "ng-container", 2);
    ɵngcc0.ɵɵelementContainerEnd();
    ɵngcc0.ɵɵelementContainerEnd();
} if (rf & 2) {
    var ctx_r0 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngSwitch", true);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngSwitchCase", ctx_r0.isTemplateRef(ctx_r0.cell.dateCellRender));
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngSwitchCase", ctx_r0.isNonEmptyString(ctx_r0.cell.dateCellRender));
} }
function DateTableCellComponent_ng_container_2_ng_container_2_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainer(0);
} }
function DateTableCellComponent_ng_container_2_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainerStart(0);
    ɵngcc0.ɵɵtemplate(1, DateTableCellComponent_ng_container_2_ng_container_2_ng_container_1_Template, 1, 0, "ng-container", 3);
    ɵngcc0.ɵɵelementContainerEnd();
} if (rf & 2) {
    var ctx_r6 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngTemplateOutlet", ctx_r6.cell.fullCellRender)("ngTemplateOutletContext", ɵngcc0.ɵɵpureFunction1(2, _c4, ctx_r6.cell.value));
} }
function DateTableCellComponent_ng_container_2_ng_template_3_ng_container_5_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainer(0);
} }
function DateTableCellComponent_ng_container_2_ng_template_3_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div");
    ɵngcc0.ɵɵelementStart(1, "span");
    ɵngcc0.ɵɵelementStart(2, "span");
    ɵngcc0.ɵɵtext(3);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(4, "div");
    ɵngcc0.ɵɵtemplate(5, DateTableCellComponent_ng_container_2_ng_template_3_ng_container_5_Template, 1, 0, "ng-container", 3);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r8 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵclassMapInterpolate1("", ctx_r8.prefixCls, "-date-value");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵclassMapInterpolate1("", ctx_r8.prefixCls, "-date-value-today-text");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵclassMapInterpolate1("", ctx_r8.prefixCls, "-date-value-text");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate(ctx_r8.cell.content);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵclassMapInterpolate1("", ctx_r8.prefixCls, "-date-content");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngTemplateOutlet", ctx_r8.cell.dateCellRender)("ngTemplateOutletContext", ɵngcc0.ɵɵpureFunction1(15, _c4, ctx_r8.cell.value));
} }
function DateTableCellComponent_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainerStart(0);
    ɵngcc0.ɵɵelementStart(1, "div", 5);
    ɵngcc0.ɵɵtemplate(2, DateTableCellComponent_ng_container_2_ng_container_2_Template, 2, 4, "ng-container", 6);
    ɵngcc0.ɵɵtemplate(3, DateTableCellComponent_ng_container_2_ng_template_3_Template, 6, 17, "ng-template", null, 7, ɵngcc0.ɵɵtemplateRefExtractor);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementContainerEnd();
} if (rf & 2) {
    var _r7 = ɵngcc0.ɵɵreference(4);
    var ctx_r1 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵclassMapInterpolate1("", ctx_r1.prefixCls, "-date thy-calendar-full-cell-inner");
    ɵngcc0.ɵɵclassProp("thy-calendar-full-calendar-date-today", ctx_r1.cell.isToday);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r1.cell.fullCellRender)("ngIfElse", _r7);
} }
var _c5 = ["origin"];
var _c6 = ["pickerInput"];
function ThyPickerComponent_ng_container_5_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainer(0);
} }
function ThyPickerComponent_ng_template_6_thy_icon_1_Template(rf, ctx) { if (rf & 1) {
    var _r8 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "thy-icon", 9);
    ɵngcc0.ɵɵlistener("click", function ThyPickerComponent_ng_template_6_thy_icon_1_Template_thy_icon_click_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r8); var ctx_r7 = ɵngcc0.ɵɵnextContext(2); return ctx_r7.onClickClear($event); });
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r6 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵpropertyInterpolate1("ngClass", "remove-link remove-link-", ctx_r6.size, "");
} }
function ThyPickerComponent_ng_template_6_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "span");
    ɵngcc0.ɵɵtemplate(1, ThyPickerComponent_ng_template_6_thy_icon_1_Template, 1, 1, "thy-icon", 7);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(2, "span");
    ɵngcc0.ɵɵelement(3, "thy-icon", 8);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r4 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵclassMapInterpolate1("", ctx_r4.prefixCls, "-picker-clear");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", !ctx_r4.disabled && !ctx_r4.isEmptyValue(ctx_r4.value) && ctx_r4.allowClear && !ctx_r4.readonly);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵclassMapInterpolate1("", ctx_r4.prefixCls, "-picker-icon");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵpropertyInterpolate1("ngClass", "remove-link-", ctx_r4.size, "");
    ɵngcc0.ɵɵproperty("thyIconName", ctx_r4.suffixIcon);
} }
function ThyPickerComponent_ng_template_8_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 10);
    ɵngcc0.ɵɵprojection(1);
    ɵngcc0.ɵɵelementEnd();
} }
var _c7 = ["*"];
function ThyDatePickerComponent_date_popup_1_Template(rf, ctx) { if (rf & 1) {
    var _r2 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "date-popup", 2);
    ɵngcc0.ɵɵlistener("panelModeChange", function ThyDatePickerComponent_date_popup_1_Template_date_popup_panelModeChange_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r2); var ctx_r1 = ɵngcc0.ɵɵnextContext(); return ctx_r1.thyOnPanelChange.emit($event); })("showTimePickerChange", function ThyDatePickerComponent_date_popup_1_Template_date_popup_showTimePickerChange_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r2); var ctx_r3 = ɵngcc0.ɵɵnextContext(); return ctx_r3.onShowTimePickerChange($event); })("valueChange", function ThyDatePickerComponent_date_popup_1_Template_date_popup_valueChange_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r2); var ctx_r4 = ɵngcc0.ɵɵnextContext(); return ctx_r4.onValueChange($event); })("calendarChange", function ThyDatePickerComponent_date_popup_1_Template_date_popup_calendarChange_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r2); var ctx_r5 = ɵngcc0.ɵɵnextContext(); return ctx_r5.onCalendarChange($event); })("resultOk", function ThyDatePickerComponent_date_popup_1_Template_date_popup_resultOk_0_listener() { ɵngcc0.ɵɵrestoreView(_r2); var ctx_r6 = ɵngcc0.ɵɵnextContext(); return ctx_r6.onResultOk(); });
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r0 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵproperty("isRange", ctx_r0.isRange)("showWeek", ctx_r0.showWeek)("panelMode", ctx_r0.thyMode)("defaultPickerValue", ctx_r0.thyDefaultPickerValue)("value", ctx_r0.thyValue)("showTime", ctx_r0.thyShowTime)("mustShowTime", ctx_r0.withTime)("format", ctx_r0.thyFormat)("dateRender", ctx_r0.thyDateRender)("disabledDate", ctx_r0.thyDisabledDate)("minDate", ctx_r0.thyMinDate)("maxDate", ctx_r0.thyMaxDate)("className", ctx_r0.thyPanelClassName);
} }
function ThyMonthPickerComponent_div_1_Template(rf, ctx) { if (rf & 1) {
    var _r2 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "div");
    ɵngcc0.ɵɵelementStart(1, "div");
    ɵngcc0.ɵɵelementStart(2, "div", 2);
    ɵngcc0.ɵɵelementStart(3, "calendar-header", 3);
    ɵngcc0.ɵɵlistener("panelModeChange", function ThyMonthPickerComponent_div_1_Template_calendar_header_panelModeChange_3_listener($event) { ɵngcc0.ɵɵrestoreView(_r2); var ctx_r1 = ɵngcc0.ɵɵnextContext(); return ctx_r1.onPanelModeChange($event); })("chooseYear", function ThyMonthPickerComponent_div_1_Template_calendar_header_chooseYear_3_listener($event) { ɵngcc0.ɵɵrestoreView(_r2); var ctx_r3 = ɵngcc0.ɵɵnextContext(); return ctx_r3.onChooseValue("year", $event); })("chooseMonth", function ThyMonthPickerComponent_div_1_Template_calendar_header_chooseMonth_3_listener($event) { ɵngcc0.ɵɵrestoreView(_r2); var ctx_r4 = ɵngcc0.ɵɵnextContext(); return ctx_r4.onChooseValue("month", $event); });
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r0 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵclassMapInterpolate1("thy-calendar-picker-container thy-calendar thy-calendar-month ", ctx_r0.thyPanelClassName, "");
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("disabledMonth", ctx_r0.thyDisabledDate)("disabledYear", ctx_r0.thyDisabledDate)("panelMode", ctx_r0.panelMode)("value", ctx_r0.thyValue)("enablePrev", true)("enableNext", true);
} }
function ThyRangePickerComponent_date_popup_1_Template(rf, ctx) { if (rf & 1) {
    var _r2 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "date-popup", 2);
    ɵngcc0.ɵɵlistener("panelModeChange", function ThyRangePickerComponent_date_popup_1_Template_date_popup_panelModeChange_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r2); var ctx_r1 = ɵngcc0.ɵɵnextContext(); return ctx_r1.thyOnPanelChange.emit($event); })("showTimePickerChange", function ThyRangePickerComponent_date_popup_1_Template_date_popup_showTimePickerChange_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r2); var ctx_r3 = ɵngcc0.ɵɵnextContext(); return ctx_r3.onShowTimePickerChange($event); })("valueChange", function ThyRangePickerComponent_date_popup_1_Template_date_popup_valueChange_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r2); var ctx_r4 = ɵngcc0.ɵɵnextContext(); return ctx_r4.onValueChange($event); })("calendarChange", function ThyRangePickerComponent_date_popup_1_Template_date_popup_calendarChange_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r2); var ctx_r5 = ɵngcc0.ɵɵnextContext(); return ctx_r5.onCalendarChange($event); })("resultOk", function ThyRangePickerComponent_date_popup_1_Template_date_popup_resultOk_0_listener() { ɵngcc0.ɵɵrestoreView(_r2); var ctx_r6 = ɵngcc0.ɵɵnextContext(); return ctx_r6.onResultOk(); });
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r0 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵproperty("isRange", ctx_r0.isRange)("showWeek", ctx_r0.showWeek)("panelMode", ctx_r0.thyMode)("defaultPickerValue", ctx_r0.thyDefaultPickerValue)("value", ctx_r0.thyValue)("showTime", ctx_r0.thyShowTime)("mustShowTime", ctx_r0.withTime)("format", ctx_r0.thyFormat)("dateRender", ctx_r0.thyDateRender)("disabledDate", ctx_r0.thyDisabledDate)("minDate", ctx_r0.thyMinDate)("maxDate", ctx_r0.thyMaxDate)("className", ctx_r0.thyPanelClassName);
} }
function ThyWeekPickerComponent_date_popup_1_Template(rf, ctx) { if (rf & 1) {
    var _r2 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "date-popup", 2);
    ɵngcc0.ɵɵlistener("panelModeChange", function ThyWeekPickerComponent_date_popup_1_Template_date_popup_panelModeChange_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r2); var ctx_r1 = ɵngcc0.ɵɵnextContext(); return ctx_r1.thyOnPanelChange.emit($event); })("showTimePickerChange", function ThyWeekPickerComponent_date_popup_1_Template_date_popup_showTimePickerChange_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r2); var ctx_r3 = ɵngcc0.ɵɵnextContext(); return ctx_r3.onShowTimePickerChange($event); })("valueChange", function ThyWeekPickerComponent_date_popup_1_Template_date_popup_valueChange_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r2); var ctx_r4 = ɵngcc0.ɵɵnextContext(); return ctx_r4.onValueChange($event); })("calendarChange", function ThyWeekPickerComponent_date_popup_1_Template_date_popup_calendarChange_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r2); var ctx_r5 = ɵngcc0.ɵɵnextContext(); return ctx_r5.onCalendarChange($event); })("resultOk", function ThyWeekPickerComponent_date_popup_1_Template_date_popup_resultOk_0_listener() { ɵngcc0.ɵɵrestoreView(_r2); var ctx_r6 = ɵngcc0.ɵɵnextContext(); return ctx_r6.onResultOk(); });
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r0 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵproperty("isRange", ctx_r0.isRange)("showWeek", ctx_r0.showWeek)("panelMode", ctx_r0.thyMode)("defaultPickerValue", ctx_r0.thyDefaultPickerValue)("value", ctx_r0.thyValue)("showTime", ctx_r0.thyShowTime)("mustShowTime", ctx_r0.withTime)("format", ctx_r0.thyFormat)("dateRender", ctx_r0.thyDateRender)("disabledDate", ctx_r0.thyDisabledDate)("minDate", ctx_r0.thyMinDate)("maxDate", ctx_r0.thyMaxDate)("className", ctx_r0.thyPanelClassName);
} }
function ThyYearPickerComponent_div_1_Template(rf, ctx) { if (rf & 1) {
    var _r2 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "div");
    ɵngcc0.ɵɵelementStart(1, "div");
    ɵngcc0.ɵɵelementStart(2, "div", 2);
    ɵngcc0.ɵɵelementStart(3, "calendar-header", 3);
    ɵngcc0.ɵɵlistener("panelModeChange", function ThyYearPickerComponent_div_1_Template_calendar_header_panelModeChange_3_listener($event) { ɵngcc0.ɵɵrestoreView(_r2); var ctx_r1 = ɵngcc0.ɵɵnextContext(); return ctx_r1.onPanelModeChange($event); })("chooseYear", function ThyYearPickerComponent_div_1_Template_calendar_header_chooseYear_3_listener($event) { ɵngcc0.ɵɵrestoreView(_r2); var ctx_r3 = ɵngcc0.ɵɵnextContext(); return ctx_r3.onChooseValue("year", $event); })("chooseMonth", function ThyYearPickerComponent_div_1_Template_calendar_header_chooseMonth_3_listener($event) { ɵngcc0.ɵɵrestoreView(_r2); var ctx_r4 = ɵngcc0.ɵɵnextContext(); return ctx_r4.onChooseValue("month", $event); });
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r0 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵclassMapInterpolate1("thy-calendar-picker-container thy-calendar thy-calendar-month ", ctx_r0.thyPanelClassName, "");
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("disabledMonth", ctx_r0.thyDisabledDate)("disabledYear", ctx_r0.thyDisabledDate)("panelMode", ctx_r0.panelMode)("value", ctx_r0.thyValue)("enablePrev", true)("enableNext", true);
} }
'use strict';

    function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

    function _interopNamespace(e) {
        if (e && e.__esModule) return e;
        var n = Object.create(null);
        if (e) {
            Object.keys(e).forEach(function (k) {
                if (k !== 'default') {
                    var d = Object.getOwnPropertyDescriptor(e, k);
                    Object.defineProperty(n, k, d.get ? d : {
                        enumerable: true,
                        get: function () {
                            return e[k];
                        }
                    });
                }
            });
        }
        n['default'] = e;
        return Object.freeze(n);
    }

    var i0__namespace = /*#__PURE__*/_interopNamespace(i0);
    var localeZhHans__default = /*#__PURE__*/_interopDefaultLegacy(localeZhHans);

    function instanceOfDateEntry(object) {
        return isSupportDateType(object, 'date') && typeof object.with_time === 'number';
    }
    function instanceOfRangeEntry(object) {
        return isSupportDateType(object, 'begin') && isSupportDateType(object, 'end');
    }
    function isSupportDateType(object, key) {
        return typeof object[key] === 'number' || object[key] === null || object[key] instanceof Date;
    }

    var CalendarFooterComponent = /** @class */ (function () {
        function CalendarFooterComponent(_elementRef, _renderer, _viewContainerRef) {
            this.showTime = false;
            this.mustShowTime = false;
            this.selectTime = new i0.EventEmitter();
            this.clickOk = new i0.EventEmitter();
            this.clickRemove = new i0.EventEmitter();
            this.showTimePickerChange = new i0.EventEmitter();
            this.isShowTime = false;
            this.isCanTime = false;
        }
        CalendarFooterComponent.prototype.ngOnInit = function () {
            this._initTimeShowMode();
            if (!this.value) {
                this.value = new util.TinyDate();
            }
        };
        CalendarFooterComponent.prototype.onSelectTime = function (date) {
            this.selectTime.emit(new util.TinyDate(date));
        };
        CalendarFooterComponent.prototype.onTimeOk = function () {
            this.selectTime.emit(this.value);
            this.clickOk.emit();
        };
        CalendarFooterComponent.prototype.onClear = function () {
            this.value = null;
            this.clickRemove.emit();
        };
        CalendarFooterComponent.prototype.changeTimeShowMode = function (type) {
            switch (type) {
                case 'can':
                    this.isCanTime = true;
                    this.isShowTime = false;
                    break;
                case 'show':
                    this.isCanTime = false;
                    this.isShowTime = true;
                    break;
            }
            this.showTimePickerChange.emit(this.isShowTime);
        };
        CalendarFooterComponent.prototype._initTimeShowMode = function () {
            if (this.mustShowTime) {
                this.changeTimeShowMode('show');
            }
            else {
                if (this.showTime) {
                    this.changeTimeShowMode('can');
                }
            }
        };
CalendarFooterComponent.ɵfac = function CalendarFooterComponent_Factory(t) { return new (t || CalendarFooterComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ViewContainerRef)); };
CalendarFooterComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: CalendarFooterComponent, selectors: [["calendar-footer"]], inputs: { showTime: "showTime", mustShowTime: "mustShowTime", value: "value" }, outputs: { selectTime: "selectTime", clickOk: "clickOk", clickRemove: "clickRemove", showTimePickerChange: "showTimePickerChange" }, exportAs: ["calendarFooter"], decls: 1, vars: 1, consts: [["class", "time-picker-section", 3, "click", 4, "ngIf"], [1, "time-picker-section", 3, "click"], ["href", "javascript:;", "class", "link-has-icon time-picker-set-btn", 3, "click", 4, "ngIf"], ["class", "time-picker-wrap", 3, "showMeridian", "ngModel", "ngModelChange", 4, "ngIf"], [1, "time-picker-btn-wrap"], ["class", "time-picker-ok-btn", "thyButton", "primary", "thySize", "sm", 3, "click", 4, "ngIf"], ["thyButton", "link-secondary", "thySize", "sm", 1, "time-picker-clear-btn", 3, "click"], ["href", "javascript:;", 1, "link-has-icon", "time-picker-set-btn", 3, "click"], ["thyIconName", "clock-circle"], [1, "time-picker-wrap", 3, "showMeridian", "ngModel", "ngModelChange"], ["thyButton", "primary", "thySize", "sm", 1, "time-picker-ok-btn", 3, "click"]], template: function CalendarFooterComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵtemplate(0, CalendarFooterComponent_div_0_Template, 7, 3, "div", 0);
    } if (rf & 2) {
        ɵngcc0.ɵɵproperty("ngIf", ctx.isShowTime || ctx.isCanTime);
    } }, directives: [ɵngcc1.NgIf, ɵngcc2.ThyButtonComponent, ɵngcc3.ThyIconComponent, ɵngcc4.ThyTimePickerComponent, ɵngcc5.NgControlStatus, ɵngcc5.NgModel], encapsulation: 2, changeDetection: 0 });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(CalendarFooterComponent, [{
        type: i0.Component,
        args: [{
                changeDetection: i0.ChangeDetectionStrategy.OnPush,
                selector: 'calendar-footer',
                exportAs: 'calendarFooter',
                template: "<div *ngIf=\"isShowTime || isCanTime\" class=\"time-picker-section\" (click)=\"$event.stopPropagation()\">\n  <a\n    href=\"javascript:;\"\n    *ngIf=\"isCanTime\"\n    class=\"link-has-icon time-picker-set-btn\"\n    (click)=\"changeTimeShowMode('show')\"\n  >\n    <thy-icon thyIconName=\"clock-circle\"></thy-icon>\u8BBE\u7F6E\u65F6\u95F4\n  </a>\n  <thy-time-picker\n    *ngIf=\"isShowTime\"\n    class=\"time-picker-wrap\"\n    [showMeridian]=\"false\"\n    [ngModel]=\"value?.nativeDate\"\n    (ngModelChange)=\"onSelectTime($event)\"\n  ></thy-time-picker>\n  <div class=\"time-picker-btn-wrap\">\n    <button *ngIf=\"!isCanTime\" class=\"time-picker-ok-btn\" thyButton=\"primary\" thySize=\"sm\" (click)=\"onTimeOk()\">\n      \u786E\u5B9A\n    </button>\n    <button class=\"time-picker-clear-btn\" thyButton=\"link-secondary\" thySize=\"sm\" (click)=\"onClear()\">\n      \u6E05\u9664\n    </button>\n  </div>\n</div>\n"
            }]
    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc0.Renderer2 }, { type: ɵngcc0.ViewContainerRef }]; }, { showTime: [{
            type: i0.Input
        }], mustShowTime: [{
            type: i0.Input
        }], selectTime: [{
            type: i0.Output
        }], clickOk: [{
            type: i0.Output
        }], clickRemove: [{
            type: i0.Output
        }], showTimePickerChange: [{
            type: i0.Output
        }], value: [{
            type: i0.Input
        }] }); })();
        return CalendarFooterComponent;
    }());
    CalendarFooterComponent.ctorParameters = function () { return [
        { type: i0.ElementRef },
        { type: i0.Renderer2 },
        { type: i0.ViewContainerRef }
    ]; };
    CalendarFooterComponent.propDecorators = {
        showTime: [{ type: i0.Input }],
        mustShowTime: [{ type: i0.Input }],
        value: [{ type: i0.Input }],
        selectTime: [{ type: i0.Output }],
        clickOk: [{ type: i0.Output }],
        clickRemove: [{ type: i0.Output }],
        showTimePickerChange: [{ type: i0.Output }]
    };

    /*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
    /* global Reflect, Promise */
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b)
                if (Object.prototype.hasOwnProperty.call(b, p))
                    d[p] = b[p]; };
        return extendStatics(d, b);
    };
    function __extends(d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    }
    var __assign = function () {
        __assign = Object.assign || function __assign(t) {
            for (var s, i = 1, n = arguments.length; i < n; i++) {
                s = arguments[i];
                for (var p in s)
                    if (Object.prototype.hasOwnProperty.call(s, p))
                        t[p] = s[p];
            }
            return t;
        };
        return __assign.apply(this, arguments);
    };
    function __rest(s, e) {
        var t = {};
        for (var p in s)
            if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
                t[p] = s[p];
        if (s != null && typeof Object.getOwnPropertySymbols === "function")
            for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
                if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                    t[p[i]] = s[p[i]];
            }
        return t;
    }
    function __decorate(decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
            r = Reflect.decorate(decorators, target, key, desc);
        else
            for (var i = decorators.length - 1; i >= 0; i--)
                if (d = decorators[i])
                    r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }
    function __param(paramIndex, decorator) {
        return function (target, key) { decorator(target, key, paramIndex); };
    }
    function __metadata(metadataKey, metadataValue) {
        if (typeof Reflect === "object" && typeof Reflect.metadata === "function")
            return Reflect.metadata(metadataKey, metadataValue);
    }
    function __awaiter(thisArg, _arguments, P, generator) {
        function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
        return new (P || (P = Promise))(function (resolve, reject) {
            function fulfilled(value) { try {
                step(generator.next(value));
            }
            catch (e) {
                reject(e);
            } }
            function rejected(value) { try {
                step(generator["throw"](value));
            }
            catch (e) {
                reject(e);
            } }
            function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
            step((generator = generator.apply(thisArg, _arguments || [])).next());
        });
    }
    function __generator(thisArg, body) {
        var _ = { label: 0, sent: function () { if (t[0] & 1)
                throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
        return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function () { return this; }), g;
        function verb(n) { return function (v) { return step([n, v]); }; }
        function step(op) {
            if (f)
                throw new TypeError("Generator is already executing.");
            while (_)
                try {
                    if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done)
                        return t;
                    if (y = 0, t)
                        op = [op[0] & 2, t.value];
                    switch (op[0]) {
                        case 0:
                        case 1:
                            t = op;
                            break;
                        case 4:
                            _.label++;
                            return { value: op[1], done: false };
                        case 5:
                            _.label++;
                            y = op[1];
                            op = [0];
                            continue;
                        case 7:
                            op = _.ops.pop();
                            _.trys.pop();
                            continue;
                        default:
                            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
                                _ = 0;
                                continue;
                            }
                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {
                                _.label = op[1];
                                break;
                            }
                            if (op[0] === 6 && _.label < t[1]) {
                                _.label = t[1];
                                t = op;
                                break;
                            }
                            if (t && _.label < t[2]) {
                                _.label = t[2];
                                _.ops.push(op);
                                break;
                            }
                            if (t[2])
                                _.ops.pop();
                            _.trys.pop();
                            continue;
                    }
                    op = body.call(thisArg, _);
                }
                catch (e) {
                    op = [6, e];
                    y = 0;
                }
                finally {
                    f = t = 0;
                }
            if (op[0] & 5)
                throw op[1];
            return { value: op[0] ? op[1] : void 0, done: true };
        }
    }
    var __createBinding = Object.create ? (function (o, m, k, k2) {
        if (k2 === undefined)
            k2 = k;
        Object.defineProperty(o, k2, { enumerable: true, get: function () { return m[k]; } });
    }) : (function (o, m, k, k2) {
        if (k2 === undefined)
            k2 = k;
        o[k2] = m[k];
    });
    function __exportStar(m, o) {
        for (var p in m)
            if (p !== "default" && !Object.prototype.hasOwnProperty.call(o, p))
                __createBinding(o, m, p);
    }
    function __values(o) {
        var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
        if (m)
            return m.call(o);
        if (o && typeof o.length === "number")
            return {
                next: function () {
                    if (o && i >= o.length)
                        o = void 0;
                    return { value: o && o[i++], done: !o };
                }
            };
        throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
    }
    function __read(o, n) {
        var m = typeof Symbol === "function" && o[Symbol.iterator];
        if (!m)
            return o;
        var i = m.call(o), r, ar = [], e;
        try {
            while ((n === void 0 || n-- > 0) && !(r = i.next()).done)
                ar.push(r.value);
        }
        catch (error) {
            e = { error: error };
        }
        finally {
            try {
                if (r && !r.done && (m = i["return"]))
                    m.call(i);
            }
            finally {
                if (e)
                    throw e.error;
            }
        }
        return ar;
    }
    function __spread() {
        for (var ar = [], i = 0; i < arguments.length; i++)
            ar = ar.concat(__read(arguments[i]));
        return ar;
    }
    function __spreadArrays() {
        for (var s = 0, i = 0, il = arguments.length; i < il; i++)
            s += arguments[i].length;
        for (var r = Array(s), k = 0, i = 0; i < il; i++)
            for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
                r[k] = a[j];
        return r;
    }
    ;
    function __await(v) {
        return this instanceof __await ? (this.v = v, this) : new __await(v);
    }
    function __asyncGenerator(thisArg, _arguments, generator) {
        if (!Symbol.asyncIterator)
            throw new TypeError("Symbol.asyncIterator is not defined.");
        var g = generator.apply(thisArg, _arguments || []), i, q = [];
        return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;
        function verb(n) { if (g[n])
            i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }
        function resume(n, v) { try {
            step(g[n](v));
        }
        catch (e) {
            settle(q[0][3], e);
        } }
        function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }
        function fulfill(value) { resume("next", value); }
        function reject(value) { resume("throw", value); }
        function settle(f, v) { if (f(v), q.shift(), q.length)
            resume(q[0][0], q[0][1]); }
    }
    function __asyncDelegator(o) {
        var i, p;
        return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;
        function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === "return" } : f ? f(v) : v; } : f; }
    }
    function __asyncValues(o) {
        if (!Symbol.asyncIterator)
            throw new TypeError("Symbol.asyncIterator is not defined.");
        var m = o[Symbol.asyncIterator], i;
        return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
        function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
        function settle(resolve, reject, d, v) { Promise.resolve(v).then(function (v) { resolve({ value: v, done: d }); }, reject); }
    }
    function __makeTemplateObject(cooked, raw) {
        if (Object.defineProperty) {
            Object.defineProperty(cooked, "raw", { value: raw });
        }
        else {
            cooked.raw = raw;
        }
        return cooked;
    }
    ;
    var __setModuleDefault = Object.create ? (function (o, v) {
        Object.defineProperty(o, "default", { enumerable: true, value: v });
    }) : function (o, v) {
        o["default"] = v;
    };
    function __importStar(mod) {
        if (mod && mod.__esModule)
            return mod;
        var result = {};
        if (mod != null)
            for (var k in mod)
                if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k))
                    __createBinding(result, mod, k);
        __setModuleDefault(result, mod);
        return result;
    }
    function __importDefault(mod) {
        return (mod && mod.__esModule) ? mod : { default: mod };
    }
    function __classPrivateFieldGet(receiver, privateMap) {
        if (!privateMap.has(receiver)) {
            throw new TypeError("attempted to get private field on non-instance");
        }
        return privateMap.get(receiver);
    }
    function __classPrivateFieldSet(receiver, privateMap, value) {
        if (!privateMap.has(receiver)) {
            throw new TypeError("attempted to set private field on non-instance");
        }
        privateMap.set(receiver, value);
        return value;
    }

    function DATE_HELPER_SERVICE_FACTORY() {
        return new DateHelperByDatePipe();
    }
    var DateHelperService = /** @class */ (function () {
        function DateHelperService() {
            this.relyOnDatePipe = this instanceof DateHelperByDatePipe;
        }
DateHelperService.ɵfac = function DateHelperService_Factory(t) { return new (t || DateHelperService)(); };
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DateHelperService, [{
        type: i0.Injectable,
        args: [{
                providedIn: 'root',
                useFactory: DATE_HELPER_SERVICE_FACTORY
            }]
    }], function () { return []; }, null); })();
        return DateHelperService;
    }());
    DateHelperService.ɵprov = i0__namespace.ɵɵdefineInjectable({ factory: DATE_HELPER_SERVICE_FACTORY, token: DateHelperService, providedIn: "root" });
    var DateHelperByDatePipe = /** @class */ (function (_super) {
        __extends(DateHelperByDatePipe, _super);
        function DateHelperByDatePipe() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        DateHelperByDatePipe.prototype.getISOWeek = function (date) {
            return +this.format(date, 'w');
        };
        DateHelperByDatePipe.prototype.getFirstDayOfWeek = function () {
            return 0;
        };
        DateHelperByDatePipe.prototype.format = function (date, formatStr) {
            return date ? common.formatDate(date, formatStr, 'zh-Hans') : '';
        };
        DateHelperByDatePipe.prototype.transCompatFormat = function (format) {
            return format && format.replace(/Y/g, 'y').replace(/D/g, 'd');
        };
        return DateHelperByDatePipe;
    }(DateHelperService));
    DateHelperByDatePipe.ɵprov = i0__namespace.ɵɵdefineInjectable({ factory: DATE_HELPER_SERVICE_FACTORY, token: DateHelperByDatePipe, providedIn: "root" });

    var CalendarHeaderComponent = /** @class */ (function () {
        function CalendarHeaderComponent(dateHelper) {
            this.dateHelper = dateHelper;
            this.enablePrev = true;
            this.enableNext = true;
            this.valueChange = new i0.EventEmitter();
            this.panelModeChange = new i0.EventEmitter();
            this.chooseDecade = new i0.EventEmitter();
            this.chooseYear = new i0.EventEmitter();
            this.chooseMonth = new i0.EventEmitter();
            this.prefixCls = 'thy-calendar';
            // tslint:disable-next-line: max-line-length
            this.yearToMonth = false; // Indicate whether should change to month panel when current is year panel (if referer=month, it should show month panel when choosed a year)
        }
        CalendarHeaderComponent.prototype.ngOnInit = function () {
            if (!this.value) {
                this.value = new util.TinyDate();
            }
        };
        CalendarHeaderComponent.prototype.ngOnChanges = function (changes) {
            if (changes.value) {
                this.render();
            }
        };
        CalendarHeaderComponent.prototype.previousYear = function () {
            this.gotoYear(-1);
        };
        CalendarHeaderComponent.prototype.nextYear = function () {
            this.gotoYear(1);
        };
        CalendarHeaderComponent.prototype.previousMonth = function () {
            this.gotoMonth(-1);
        };
        CalendarHeaderComponent.prototype.nextMonth = function () {
            this.gotoMonth(1);
        };
        CalendarHeaderComponent.prototype.changePanel = function (mode, value) {
            this.panelModeChange.emit(mode);
            if (value) {
                this.changeValueFromInside(value);
            }
        };
        CalendarHeaderComponent.prototype.onChooseDecade = function (value) {
            this.changePanel('year', value);
            this.chooseDecade.emit(value);
        };
        CalendarHeaderComponent.prototype.onChooseYear = function (value) {
            this.changePanel(this.yearToMonth ? 'month' : 'date', value);
            this.yearToMonth = false; // Clear
            this.chooseYear.emit(value);
        };
        CalendarHeaderComponent.prototype.onChooseMonth = function (value) {
            this.changePanel('date', value);
            this.yearToMonth = false; // Clear
            this.chooseMonth.emit(value);
        };
        CalendarHeaderComponent.prototype.changeToMonthPanel = function () {
            this.changePanel('month');
            this.yearToMonth = true;
        };
        CalendarHeaderComponent.prototype.render = function () {
            if (this.value) {
                this.yearMonthDaySelectors = this.createYearMonthDaySelectors();
            }
        };
        CalendarHeaderComponent.prototype.gotoMonth = function (amount) {
            this.changeValueFromInside(this.value.addMonths(amount));
        };
        CalendarHeaderComponent.prototype.gotoYear = function (amount) {
            this.changeValueFromInside(this.value.addYears(amount));
        };
        CalendarHeaderComponent.prototype.changeValueFromInside = function (value) {
            if (this.value !== value) {
                this.value = value;
                this.valueChange.emit(this.value);
                this.render();
            }
        };
        CalendarHeaderComponent.prototype.formatDateTime = function (format) {
            return this.dateHelper.format(this.value.nativeDate, format);
        };
        CalendarHeaderComponent.prototype.createYearMonthDaySelectors = function () {
            var _this = this;
            var year;
            var month;
            // NOTE: Compat for DatePipe formatting rules
            var yearFormat = 'yyyy年';
            if (this.dateHelper.relyOnDatePipe) {
                yearFormat = this.dateHelper.transCompatFormat(yearFormat);
            }
            year = {
                className: this.prefixCls + "-year-select",
                onClick: function () { return _this.changePanel('year'); },
                label: this.formatDateTime(yearFormat)
            };
            month = {
                className: this.prefixCls + "-month-select",
                onClick: function () { return _this.changeToMonthPanel(); },
                label: this.formatDateTime('MMM')
            };
            // NOTE: Compat for DatePipe formatting rules
            var dayFormat = 'd日';
            if (this.dateHelper.relyOnDatePipe) {
                dayFormat = this.dateHelper.transCompatFormat(dayFormat);
            }
            var result;
            result = [year, month];
            return result.filter(function (selector) { return !!selector; });
        };
CalendarHeaderComponent.ɵfac = function CalendarHeaderComponent_Factory(t) { return new (t || CalendarHeaderComponent)(ɵngcc0.ɵɵdirectiveInject(DateHelperService)); };
CalendarHeaderComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: CalendarHeaderComponent, selectors: [["calendar-header"]], inputs: { enablePrev: "enablePrev", enableNext: "enableNext", value: "value", disabledMonth: "disabledMonth", disabledYear: "disabledYear", panelMode: "panelMode" }, outputs: { valueChange: "valueChange", panelModeChange: "panelModeChange", chooseDecade: "chooseDecade", chooseYear: "chooseYear", chooseMonth: "chooseMonth" }, exportAs: ["calendarHeader"], features: [ɵngcc0.ɵɵNgOnChangesFeature], decls: 12, vars: 15, consts: [[2, "position", "relative"], ["role", "button", "title", "\u53BB\u5E74", 3, "class", "click", 4, "ngIf"], ["role", "button", "title", "\u4E0A\u6708", 3, "class", "click", 4, "ngIf"], [4, "ngFor", "ngForOf"], ["role", "button", "title", "\u4E0B\u4E2A\u6708", 3, "class", "click", 4, "ngIf"], ["role", "button", "title", "\u4E0B\u4E00\u5E74", 3, "class", "click", 4, "ngIf"], [3, "ngSwitch"], [4, "ngSwitchCase"], ["role", "button", "title", "\u53BB\u5E74", 3, "click"], ["role", "button", "title", "\u4E0A\u6708", 3, "click"], ["role", "button", 3, "title", "click"], ["role", "button", "title", "\u4E0B\u4E2A\u6708", 3, "click"], ["role", "button", "title", "\u4E0B\u4E00\u5E74", 3, "click"], [3, "value", "valueChange"], [3, "value", "disabledDate", "valueChange", "decadePanelShow"], [3, "value", "disabledDate", "valueChange", "yearPanelShow"]], template: function CalendarHeaderComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "div");
        ɵngcc0.ɵɵelementStart(1, "div", 0);
        ɵngcc0.ɵɵtemplate(2, CalendarHeaderComponent_a_2_Template, 1, 3, "a", 1);
        ɵngcc0.ɵɵtemplate(3, CalendarHeaderComponent_a_3_Template, 1, 3, "a", 2);
        ɵngcc0.ɵɵelementStart(4, "span");
        ɵngcc0.ɵɵtemplate(5, CalendarHeaderComponent_ng_container_5_Template, 3, 5, "ng-container", 3);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵtemplate(6, CalendarHeaderComponent_a_6_Template, 1, 3, "a", 4);
        ɵngcc0.ɵɵtemplate(7, CalendarHeaderComponent_a_7_Template, 1, 3, "a", 5);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementContainerStart(8, 6);
        ɵngcc0.ɵɵtemplate(9, CalendarHeaderComponent_ng_container_9_Template, 2, 1, "ng-container", 7);
        ɵngcc0.ɵɵtemplate(10, CalendarHeaderComponent_ng_container_10_Template, 2, 2, "ng-container", 7);
        ɵngcc0.ɵɵtemplate(11, CalendarHeaderComponent_ng_container_11_Template, 2, 2, "ng-container", 7);
        ɵngcc0.ɵɵelementContainerEnd();
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        ɵngcc0.ɵɵclassMapInterpolate1("", ctx.prefixCls, "-header");
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngIf", ctx.enablePrev);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.enablePrev);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵclassMapInterpolate1("", ctx.prefixCls, "-my-select");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngForOf", ctx.yearMonthDaySelectors);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.enableNext);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.enableNext);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngSwitch", ctx.panelMode);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngSwitchCase", "decade");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngSwitchCase", "year");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngSwitchCase", "month");
    } }, directives: function () { return [ɵngcc1.NgIf, ɵngcc1.NgForOf, ɵngcc1.NgSwitch, ɵngcc1.NgSwitchCase, DecadePanelComponent, YearPanelComponent, MonthPanelComponent]; }, encapsulation: 2, changeDetection: 0 });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(CalendarHeaderComponent, [{
        type: i0.Component,
        args: [{
                changeDetection: i0.ChangeDetectionStrategy.OnPush,
                selector: 'calendar-header',
                exportAs: 'calendarHeader',
                template: "<div class=\"{{ prefixCls }}-header\">\n  <div style=\"position: relative;\">\n    <a *ngIf=\"enablePrev\" class=\"{{ prefixCls }}-prev-year-btn\" role=\"button\" (click)=\"previousYear()\" title=\"\u53BB\u5E74\"></a>\n    <a\n      *ngIf=\"enablePrev\"\n      class=\"{{ prefixCls }}-prev-month-btn\"\n      role=\"button\"\n      (click)=\"previousMonth()\"\n      title=\"\u4E0A\u6708\"\n    ></a>\n\n    <span class=\"{{ prefixCls }}-my-select\">\n      <ng-container *ngFor=\"let selector of yearMonthDaySelectors\">\n        <a\n          class=\"{{ selector.className }}\"\n          role=\"button\"\n          (click)=\"selector.onClick ? selector.onClick() : null\"\n          title=\"{{ selector.title || null }}\"\n        >\n          {{ selector.label }}\n        </a>\n      </ng-container>\n    </span>\n\n    <a *ngIf=\"enableNext\" class=\"{{ prefixCls }}-next-month-btn\" role=\"button\" (click)=\"nextMonth()\" title=\"\u4E0B\u4E2A\u6708\"></a>\n    <a *ngIf=\"enableNext\" class=\"{{ prefixCls }}-next-year-btn\" role=\"button\" (click)=\"nextYear()\" title=\"\u4E0B\u4E00\u5E74\"></a>\n  </div>\n\n  <ng-container [ngSwitch]=\"panelMode\">\n    <ng-container *ngSwitchCase=\"'decade'\">\n      <decade-panel [value]=\"value\" (valueChange)=\"onChooseDecade($event)\"></decade-panel>\n    </ng-container>\n    <ng-container *ngSwitchCase=\"'year'\">\n      <year-panel\n        [value]=\"value\"\n        [disabledDate]=\"disabledYear\"\n        (valueChange)=\"onChooseYear($event)\"\n        (decadePanelShow)=\"changePanel('decade')\"\n      ></year-panel>\n    </ng-container>\n    <ng-container *ngSwitchCase=\"'month'\">\n      <month-panel\n        [value]=\"value\"\n        [disabledDate]=\"disabledMonth\"\n        (valueChange)=\"onChooseMonth($event)\"\n        (yearPanelShow)=\"changePanel('year')\"\n      ></month-panel>\n    </ng-container>\n  </ng-container>\n</div>\n"
            }]
    }], function () { return [{ type: DateHelperService }]; }, { enablePrev: [{
            type: i0.Input
        }], enableNext: [{
            type: i0.Input
        }], valueChange: [{
            type: i0.Output
        }], panelModeChange: [{
            type: i0.Output
        }], chooseDecade: [{
            type: i0.Output
        }], chooseYear: [{
            type: i0.Output
        }], chooseMonth: [{
            type: i0.Output
        }], value: [{
            type: i0.Input
        }], disabledMonth: [{
            type: i0.Input
        }], disabledYear: [{
            type: i0.Input
        }], panelMode: [{
            type: i0.Input
        }] }); })();
        return CalendarHeaderComponent;
    }());
    CalendarHeaderComponent.ctorParameters = function () { return [
        { type: DateHelperService }
    ]; };
    CalendarHeaderComponent.propDecorators = {
        enablePrev: [{ type: i0.Input }],
        enableNext: [{ type: i0.Input }],
        disabledMonth: [{ type: i0.Input }],
        disabledYear: [{ type: i0.Input }],
        value: [{ type: i0.Input }],
        valueChange: [{ type: i0.Output }],
        panelMode: [{ type: i0.Input }],
        panelModeChange: [{ type: i0.Output }],
        chooseDecade: [{ type: i0.Output }],
        chooseYear: [{ type: i0.Output }],
        chooseMonth: [{ type: i0.Output }]
    };

    var MAX_ROW$2 = 4;
    var MAX_COL$2 = 3;
    var DecadePanelComponent = /** @class */ (function () {
        function DecadePanelComponent() {
            this.valueChange = new i0.EventEmitter();
            this.prefixCls = 'thy-calendar-decade-panel';
        }
        Object.defineProperty(DecadePanelComponent.prototype, "startYear", {
            get: function () {
                return parseInt("" + this.value.getYear() / 100, 10) * 100;
            },
            enumerable: false,
            configurable: true
        });
        Object.defineProperty(DecadePanelComponent.prototype, "endYear", {
            get: function () {
                return this.startYear + 99;
            },
            enumerable: false,
            configurable: true
        });
        DecadePanelComponent.prototype.ngOnChanges = function (changes) {
            if (changes.value) {
                this.render();
            }
        };
        DecadePanelComponent.prototype.previousCentury = function () {
            this.gotoYear(-100);
        };
        DecadePanelComponent.prototype.nextCentury = function () {
            this.gotoYear(100);
        };
        DecadePanelComponent.prototype.trackPanelDecade = function (_index, decadeData) {
            return decadeData.content;
        };
        DecadePanelComponent.prototype.render = function () {
            if (this.value) {
                this.panelDecades = this.makePanelDecades();
            }
        };
        // Re-render panel content by the header's buttons (NOTE: Do not try to trigger final value change)
        DecadePanelComponent.prototype.gotoYear = function (amount) {
            this.value = this.value.addYears(amount);
            // this.valueChange.emit(this.value); // Do not try to trigger final value change
            this.render();
        };
        DecadePanelComponent.prototype.chooseDecade = function (startYear) {
            this.value = this.value.setYear(startYear);
            this.valueChange.emit(this.value);
        };
        DecadePanelComponent.prototype.makePanelDecades = function () {
            var _this = this;
            var decades = [];
            var currentYear = this.value.getYear();
            var startYear = this.startYear;
            var endYear = this.endYear;
            var previousYear = startYear - 10;
            var index = 0;
            for (var rowIndex = 0; rowIndex < MAX_ROW$2; rowIndex++) {
                decades[rowIndex] = [];
                var _loop_1 = function (colIndex) {
                    var _a;
                    var start = previousYear + index * 10;
                    var end = previousYear + index * 10 + 9;
                    var content = start + "-" + end;
                    var cell = (decades[rowIndex][colIndex] = {
                        content: content,
                        title: content,
                        isCurrent: currentYear >= start && currentYear <= end,
                        isLowerThanStart: end < startYear,
                        isBiggerThanEnd: start > endYear,
                        classMap: null,
                        onClick: function () { return _this.chooseDecade(start); }
                    });
                    cell.classMap = (_a = {},
                        _a[this_1.prefixCls + "-cell"] = true,
                        _a[this_1.prefixCls + "-selected-cell"] = cell.isCurrent,
                        _a[this_1.prefixCls + "-last-century-cell"] = cell.isLowerThanStart,
                        _a[this_1.prefixCls + "-next-century-cell"] = cell.isBiggerThanEnd,
                        _a);
                    index++;
                };
                var this_1 = this;
                for (var colIndex = 0; colIndex < MAX_COL$2; colIndex++) {
                    _loop_1(colIndex);
                }
            }
            return decades;
        };
DecadePanelComponent.ɵfac = function DecadePanelComponent_Factory(t) { return new (t || DecadePanelComponent)(); };
DecadePanelComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: DecadePanelComponent, selectors: [["decade-panel"]], inputs: { value: "value" }, outputs: { valueChange: "valueChange" }, exportAs: ["decadePanel"], features: [ɵngcc0.ɵɵNgOnChangesFeature], decls: 10, vars: 27, consts: [["role", "button", "title", "\u4E0A\u4E00\u4E16\u7EAA", 3, "click"], ["role", "button", "title", "\u4E0B\u4E00\u4E16\u7EAA", 3, "click"], ["cellSpacing", "0", "role", "grid"], ["role", "row", 4, "ngFor", "ngForOf"], ["role", "row"], ["role", "gridcell", 3, "title", "ngClass", "click", 4, "ngFor", "ngForOf", "ngForTrackBy"], ["role", "gridcell", 3, "title", "ngClass", "click"]], template: function DecadePanelComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "div");
        ɵngcc0.ɵɵelementStart(1, "div");
        ɵngcc0.ɵɵelementStart(2, "a", 0);
        ɵngcc0.ɵɵlistener("click", function DecadePanelComponent_Template_a_click_2_listener() { return ctx.previousCentury(); });
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(3, "div");
        ɵngcc0.ɵɵtext(4);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(5, "a", 1);
        ɵngcc0.ɵɵlistener("click", function DecadePanelComponent_Template_a_click_5_listener() { return ctx.nextCentury(); });
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(6, "div");
        ɵngcc0.ɵɵelementStart(7, "table", 2);
        ɵngcc0.ɵɵelementStart(8, "tbody");
        ɵngcc0.ɵɵtemplate(9, DecadePanelComponent_tr_9_Template, 2, 2, "tr", 3);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        ɵngcc0.ɵɵclassMap(ctx.prefixCls);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵclassMapInterpolate1("", ctx.prefixCls, "-header");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵclassMapInterpolate1("", ctx.prefixCls, "-prev-century-btn");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵclassMapInterpolate1("", ctx.prefixCls, "-century");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵtextInterpolate2("", ctx.startYear, "-", ctx.endYear, "");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵclassMapInterpolate1("", ctx.prefixCls, "-next-century-btn");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵclassMapInterpolate1("", ctx.prefixCls, "-body");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵclassMapInterpolate1("", ctx.prefixCls, "-table");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵclassMapInterpolate1("", ctx.prefixCls, "-tbody");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngForOf", ctx.panelDecades);
    } }, directives: [ɵngcc1.NgForOf, ɵngcc1.NgClass], encapsulation: 2, changeDetection: 0 });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DecadePanelComponent, [{
        type: i0.Component,
        args: [{
                changeDetection: i0.ChangeDetectionStrategy.OnPush,
                selector: 'decade-panel',
                exportAs: 'decadePanel',
                template: "<div class=\"{{ prefixCls }}\">\n  <div class=\"{{ prefixCls }}-header\">\n    <a class=\"{{ prefixCls }}-prev-century-btn\" role=\"button\" (click)=\"previousCentury()\" title=\"\u4E0A\u4E00\u4E16\u7EAA\"></a>\n\n    <div class=\"{{ prefixCls }}-century\">{{ startYear }}-{{ endYear }}</div>\n    <a class=\"{{ prefixCls }}-next-century-btn\" role=\"button\" (click)=\"nextCentury()\" title=\"\u4E0B\u4E00\u4E16\u7EAA\"></a>\n  </div>\n  <div class=\"{{ prefixCls }}-body\">\n    <table class=\"{{ prefixCls }}-table\" cellSpacing=\"0\" role=\"grid\">\n      <tbody class=\"{{ prefixCls }}-tbody\">\n        <tr *ngFor=\"let row of panelDecades\" role=\"row\">\n          <td\n            *ngFor=\"let cell of row; trackBy: trackPanelDecade\"\n            role=\"gridcell\"\n            title=\"{{ cell.title }}\"\n            (click)=\"cell.onClick()\"\n            [ngClass]=\"cell.classMap\"\n          >\n            <a class=\"{{ prefixCls }}-decade\">{{ cell.content }}</a>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</div>\n"
            }]
    }], function () { return []; }, { valueChange: [{
            type: i0.Output
        }], value: [{
            type: i0.Input
        }] }); })();
        return DecadePanelComponent;
    }());
    DecadePanelComponent.ctorParameters = function () { return []; };
    DecadePanelComponent.propDecorators = {
        value: [{ type: i0.Input }],
        valueChange: [{ type: i0.Output }]
    };

    var MonthPanelComponent = /** @class */ (function () {
        function MonthPanelComponent() {
            this.valueChange = new i0.EventEmitter();
            this.yearPanelShow = new i0.EventEmitter();
            this.prefixCls = 'thy-calendar-month-panel';
        }
        MonthPanelComponent.prototype.previousYear = function () {
            this.gotoYear(-1);
        };
        MonthPanelComponent.prototype.nextYear = function () {
            this.gotoYear(1);
        };
        MonthPanelComponent.prototype.gotoYear = function (amount) {
            this.value = this.value.addYears(amount);
        };
MonthPanelComponent.ɵfac = function MonthPanelComponent_Factory(t) { return new (t || MonthPanelComponent)(); };
MonthPanelComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: MonthPanelComponent, selectors: [["month-panel"]], inputs: { value: "value", disabledDate: "disabledDate" }, outputs: { valueChange: "valueChange", yearPanelShow: "yearPanelShow" }, exportAs: ["monthPanel"], decls: 9, vars: 25, consts: [["role", "button", "title", "\u53BB\u5E74", 3, "click"], ["role", "button", "title", "\u9009\u62E9\u5E74\u4EFD", 3, "click"], ["role", "button", "title", "\u4E0B\u4E00\u5E74", 3, "click"], [3, "prefixCls", "disabledDate", "value", "valueChange"]], template: function MonthPanelComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "div");
        ɵngcc0.ɵɵelementStart(1, "div");
        ɵngcc0.ɵɵelementStart(2, "a", 0);
        ɵngcc0.ɵɵlistener("click", function MonthPanelComponent_Template_a_click_2_listener() { return ctx.previousYear(); });
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(3, "a", 1);
        ɵngcc0.ɵɵlistener("click", function MonthPanelComponent_Template_a_click_3_listener() { return ctx.yearPanelShow.emit(); });
        ɵngcc0.ɵɵelementStart(4, "span");
        ɵngcc0.ɵɵtext(5);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(6, "a", 2);
        ɵngcc0.ɵɵlistener("click", function MonthPanelComponent_Template_a_click_6_listener() { return ctx.nextYear(); });
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(7, "div");
        ɵngcc0.ɵɵelementStart(8, "month-table", 3);
        ɵngcc0.ɵɵlistener("valueChange", function MonthPanelComponent_Template_month_table_valueChange_8_listener($event) { return ctx.valueChange.emit($event); });
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        ɵngcc0.ɵɵclassMap(ctx.prefixCls);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵclassMapInterpolate1("", ctx.prefixCls, "-header");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵclassMapInterpolate1("", ctx.prefixCls, "-prev-year-btn");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵclassMapInterpolate1("", ctx.prefixCls, "-year-select");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵclassMapInterpolate1("", ctx.prefixCls, "-year-select-content");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵtextInterpolate(ctx.value.getYear());
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵclassMapInterpolate1("", ctx.prefixCls, "-next-year-btn");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵclassMapInterpolate1("", ctx.prefixCls, "-body");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("prefixCls", "thy-calendar")("disabledDate", ctx.disabledDate)("value", ctx.value);
    } }, directives: function () { return [MonthTableComponent]; }, encapsulation: 2, changeDetection: 0 });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(MonthPanelComponent, [{
        type: i0.Component,
        args: [{
                changeDetection: i0.ChangeDetectionStrategy.OnPush,
                selector: 'month-panel',
                exportAs: 'monthPanel',
                template: "<div class=\"{{ prefixCls }}\">\n  <div class=\"{{ prefixCls }}-header\">\n    <a class=\"{{ prefixCls }}-prev-year-btn\" role=\"button\" (click)=\"previousYear()\" title=\"\u53BB\u5E74\"></a>\n\n    <a class=\"{{ prefixCls }}-year-select\" role=\"button\" (click)=\"yearPanelShow.emit()\" title=\"\u9009\u62E9\u5E74\u4EFD\">\n      <span class=\"{{ prefixCls }}-year-select-content\">{{ value.getYear() }}</span>\n    </a>\n\n    <a class=\"{{ prefixCls }}-next-year-btn\" role=\"button\" (click)=\"nextYear()\" title=\"\u4E0B\u4E00\u5E74\"></a>\n  </div>\n  <div class=\"{{ prefixCls }}-body\">\n    <month-table\n      [prefixCls]=\"'thy-calendar'\"\n      [disabledDate]=\"disabledDate\"\n      [value]=\"value\"\n      (valueChange)=\"valueChange.emit($event)\"\n    ></month-table>\n  </div>\n</div>\n"
            }]
    }], function () { return []; }, { valueChange: [{
            type: i0.Output
        }], yearPanelShow: [{
            type: i0.Output
        }], value: [{
            type: i0.Input
        }], disabledDate: [{
            type: i0.Input
        }] }); })();
        return MonthPanelComponent;
    }());
    MonthPanelComponent.propDecorators = {
        value: [{ type: i0.Input }],
        disabledDate: [{ type: i0.Input }],
        valueChange: [{ type: i0.Output }],
        yearPanelShow: [{ type: i0.Output }]
    };

    function transformDateValue(value) {
        if (!value) {
            return { value: null };
        }
        var withTime;
        if (value && typeof value === 'number') {
            value = convertDate(value);
        }
        if (value && instanceOfDateEntry(value)) {
            var date = value.date, with_time = value.with_time;
            value = date ? convertDate(date) : null;
            withTime = !!with_time;
        }
        if (value && instanceOfRangeEntry(value)) {
            var rangeValue = value;
            value = [];
            if (rangeValue.begin && rangeValue.end) {
                value[0] = convertDate(rangeValue.begin);
                value[1] = convertDate(rangeValue.end);
            }
        }
        return { value: value, withTime: withTime };
    }
    function convertDate(date) {
        if (typeof date === 'number') {
            if (date.toString().length < 13) {
                return dateFns.fromUnixTime(date);
            }
            else {
                return new Date(date);
            }
        }
        else {
            return date;
        }
    }
    function hasValue(value) {
        if (Array.isArray(value)) {
            return !!value[0] && !!value[1];
        }
        else {
            return !!value;
        }
    }
    function makeValue(value, isRange) {
        if (isRange === void 0) { isRange = false; }
        if (isRange) {
            return value ? value.map(function (val) { return new util.TinyDate(val); }) : [];
        }
        else {
            return value ? new util.TinyDate(value) : null;
        }
    }

    var DatePopupComponent = /** @class */ (function () {
        function DatePopupComponent(cdr) {
            this.cdr = cdr;
            this.panelModeChange = new i0.EventEmitter();
            this.calendarChange = new i0.EventEmitter();
            this.valueChange = new i0.EventEmitter();
            this.resultOk = new i0.EventEmitter(); // Emitted when done with date selecting
            this.showTimePickerChange = new i0.EventEmitter();
            this.prefixCls = 'thy-calendar';
            this.showTimePicker = false;
            this.partTypeMap = { left: 0, right: 1 };
        }
        DatePopupComponent.prototype.setProperty = function (key, value) {
            this[key] = value;
            this.cdr.markForCheck();
        };
        DatePopupComponent.prototype.ngOnInit = function () {
            var _this = this;
            // Initialization for range properties to prevent errors while later assignment
            if (this.isRange) {
                ['panelMode', 'selectedValue', 'hoverValue'].forEach(function (prop) { return _this.initialArray(prop); });
            }
            if (this.defaultPickerValue && !hasValue(this.value)) {
                var value = transformDateValue(this.defaultPickerValue).value;
                this.value = makeValue(value, this.isRange);
                if (this.isRange) {
                    this.reInitializeRangeRelatedValue();
                }
            }
            this.initDisabledDate();
        };
        DatePopupComponent.prototype.ngOnChanges = function (changes) {
            if (this.isRange) {
                if (changes.value) {
                    this.reInitializeRangeRelatedValue();
                }
            }
        };
        DatePopupComponent.prototype.reInitializeRangeRelatedValue = function () {
            this.clearHoverValue();
            this.selectedValue = this.value;
            this.valueForRangeShow = this.normalizeRangeValue(this.value);
        };
        DatePopupComponent.prototype.initDisabledDate = function () {
            var minDate;
            var maxDate;
            var disabledDateFn;
            if (this.minDate) {
                var value = transformDateValue(this.minDate).value;
                minDate = new util.TinyDate(value);
            }
            if (this.maxDate) {
                var value = transformDateValue(this.maxDate).value;
                maxDate = new util.TinyDate(value);
            }
            if (this.disabledDate) {
                disabledDateFn = this.disabledDate;
            }
            this.disabledDate = function (d) {
                var expression = false;
                if (minDate) {
                    expression = d < minDate.startOfDay().nativeDate;
                }
                if (maxDate && !expression) {
                    expression = d > maxDate.endOfDay().nativeDate;
                }
                if (disabledDateFn && typeof disabledDateFn === 'function' && !expression) {
                    expression = disabledDateFn(d);
                }
                return expression;
            };
        };
        DatePopupComponent.prototype.onShowTimePickerChange = function (show) {
            this.showTimePicker = show;
            this.showTimePickerChange.emit(show);
        };
        DatePopupComponent.prototype.onClickOk = function () {
            this.setValue(this.value);
            this.valueChange.emit(this.value);
            this.resultOk.emit();
        };
        DatePopupComponent.prototype.onClickRemove = function () {
            this.value = this.isRange ? [] : null;
            this.setValue(this.value);
            this.valueChange.emit(this.value);
        };
        DatePopupComponent.prototype.onDayHover = function (value) {
            if (this.isRange && this.selectedValue[0] && !this.selectedValue[1]) {
                // When right value is selected, don't do hover
                var base = this.selectedValue[0]; // Use the left of selected value as the base to decide later hoverValue
                if (base.isBeforeDay(value)) {
                    this.hoverValue = [base, value];
                }
                else {
                    this.hoverValue = [value, base];
                }
            }
        };
        DatePopupComponent.prototype.onPanelModeChange = function (mode, partType) {
            if (this.isRange) {
                this.panelMode[this.getPartTypeIndex(partType)] = mode;
            }
            else {
                this.panelMode = mode;
            }
            this.panelModeChange.emit(this.panelMode);
        };
        DatePopupComponent.prototype.onHeaderChange = function (value, partType) {
            if (this.isRange) {
                this.valueForRangeShow[this.getPartTypeIndex(partType)] = value;
                this.valueForRangeShow = this.normalizeRangeValue(this.valueForRangeShow); // Should always take care of start/end
            }
            else {
                if (this.showTimePicker) {
                    this.setValue(value);
                }
            }
        };
        DatePopupComponent.prototype.onSelectTime = function (value, partType) {
            if (this.isRange) {
                // TODO:range picker set time
            }
            else {
                this.setValue(new util.TinyDate(value.nativeDate));
            }
        };
        DatePopupComponent.prototype.changeValueFromSelect = function (value) {
            if (this.isRange) {
                var _a = __read(this.selectedValue, 2), left = _a[0], right = _a[1];
                if ((!left && !right) || (left && right)) {
                    // If totally full or empty, clean up && re-assign left first
                    this.hoverValue = this.selectedValue = [value];
                    this.selectedValue = [new util.TinyDate(dateFns.startOfDay(this.selectedValue[0].nativeDate))];
                    this.calendarChange.emit([this.selectedValue[0].clone()]);
                }
                else if (left && !right) {
                    // If one of them is empty, assign the other one and sort, then set the final values
                    this.clearHoverValue(); // Clean up
                    this.setRangeValue('right', value);
                    this.selectedValue = util.sortRangeValue(this.selectedValue); // Sort
                    this.selectedValue = [
                        new util.TinyDate(dateFns.startOfDay(this.selectedValue[0].nativeDate)),
                        new util.TinyDate(dateFns.endOfDay(this.selectedValue[1].nativeDate))
                    ];
                    this.valueForRangeShow = this.normalizeRangeValue(this.selectedValue);
                    this.setValue(this.cloneRangeDate(this.selectedValue));
                    this.calendarChange.emit(this.cloneRangeDate(this.selectedValue));
                }
            }
            else {
                this.setValue(value);
            }
        };
        DatePopupComponent.prototype.enablePrevNext = function (direction, partType) {
            if (this.isRange) {
                var _a = __read(this.valueForRangeShow, 2), start = _a[0], end = _a[1];
                var showMiddle = !start.addMonths(1).isSame(end, 'month'); // One month diff then don't show middle prev/next
                if ((partType === 'left' && direction === 'next') || (partType === 'right' && direction === 'prev')) {
                    return showMiddle;
                }
                return true;
            }
            else {
                return true;
            }
        };
        DatePopupComponent.prototype.getPanelMode = function (partType) {
            if (this.isRange) {
                return this.panelMode[this.getPartTypeIndex(partType)];
            }
            else {
                return this.panelMode;
            }
        };
        DatePopupComponent.prototype.getValueBySelector = function (partType) {
            if (this.isRange) {
                var valueShow = this.valueForRangeShow; // Use the real time value that without decorations when timepicker is shown up
                return valueShow[this.getPartTypeIndex(partType)];
            }
            else {
                return this.value;
            }
        };
        DatePopupComponent.prototype.getPartTypeIndex = function (partType) {
            return this.partTypeMap[partType];
        };
        DatePopupComponent.prototype.clearHoverValue = function () {
            this.hoverValue = [];
        };
        DatePopupComponent.prototype.setValue = function (value) {
            this.value = value;
            if (!this.showTime || !this.showTimePicker) {
                this.valueChange.emit(this.value);
            }
        };
        DatePopupComponent.prototype.normalizeRangeValue = function (value) {
            var _a = __read(value, 2), start = _a[0], end = _a[1];
            var newStart = start || new util.TinyDate();
            var newEnd = end && end.isSameMonth(newStart) ? end.addMonths(1) : end || newStart.addMonths(1);
            return [newStart, newEnd];
        };
        // Renew and set a range value to trigger sub-component's change detection
        DatePopupComponent.prototype.setRangeValue = function (partType, value) {
            var ref = (this.selectedValue = this.cloneRangeDate(this.selectedValue));
            ref[this.getPartTypeIndex(partType)] = value;
        };
        DatePopupComponent.prototype.cloneRangeDate = function (value) {
            return [value[0] && value[0].clone(), value[1] && value[1].clone()];
        };
        DatePopupComponent.prototype.initialArray = function (key) {
            if (!this[key] || !Array.isArray(this[key])) {
                this[key] = [];
            }
        };
DatePopupComponent.ɵfac = function DatePopupComponent_Factory(t) { return new (t || DatePopupComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef)); };
DatePopupComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: DatePopupComponent, selectors: [["date-popup"]], inputs: { value: "value", disabledDate: "disabledDate", panelMode: "panelMode", isRange: "isRange", showWeek: "showWeek", format: "format", minDate: "minDate", maxDate: "maxDate", showToday: "showToday", showTime: "showTime", mustShowTime: "mustShowTime", dateRender: "dateRender", className: "className", defaultPickerValue: "defaultPickerValue" }, outputs: { panelModeChange: "panelModeChange", calendarChange: "calendarChange", valueChange: "valueChange", resultOk: "resultOk", showTimePickerChange: "showTimePickerChange" }, exportAs: ["datePopup"], features: [ɵngcc0.ɵɵNgOnChangesFeature], decls: 15, vars: 19, consts: [[4, "ngIf", "ngIfElse"], [4, "ngIf"], ["tplInnerPopup", ""], ["tplFooter", ""], ["tplSinglePart", ""], ["tplRangePart", ""], [4, "ngTemplateOutlet", "ngTemplateOutletContext"], [4, "ngTemplateOutlet"], [3, "showWeek", "panelMode", "value", "disabledDate", "dateRender", "selectedValue", "hoverValue", "enablePrev", "enableNext", "panelModeChange", "dayHover", "selectDate", "headerChange"], [3, "showTime", "mustShowTime", "value", "showTimePickerChange", "selectTime", "clickOk", "clickRemove"], [2, "outline", "none"]], template: function DatePopupComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "div");
        ɵngcc0.ɵɵelementStart(1, "div");
        ɵngcc0.ɵɵelementStart(2, "div");
        ɵngcc0.ɵɵelementStart(3, "div");
        ɵngcc0.ɵɵtemplate(4, DatePopupComponent_ng_container_4_Template, 3, 6, "ng-container", 0);
        ɵngcc0.ɵɵtemplate(5, DatePopupComponent_ng_container_5_Template, 2, 1, "ng-container", 1);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵtemplate(6, DatePopupComponent_ng_container_6_Template, 2, 1, "ng-container", 1);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵtemplate(7, DatePopupComponent_ng_template_7_Template, 1, 9, "ng-template", null, 2, ɵngcc0.ɵɵtemplateRefExtractor);
        ɵngcc0.ɵɵtemplate(9, DatePopupComponent_ng_template_9_Template, 1, 3, "ng-template", null, 3, ɵngcc0.ɵɵtemplateRefExtractor);
        ɵngcc0.ɵɵtemplate(11, DatePopupComponent_ng_template_11_Template, 2, 1, "ng-template", null, 4, ɵngcc0.ɵɵtemplateRefExtractor);
        ɵngcc0.ɵɵtemplate(13, DatePopupComponent_ng_template_13_Template, 3, 9, "ng-template", null, 5, ɵngcc0.ɵɵtemplateRefExtractor);
    } if (rf & 2) {
        var _r7 = ɵngcc0.ɵɵreference(12);
        ɵngcc0.ɵɵclassMapInterpolate2("", ctx.prefixCls, "-picker-container ", ctx.className, "");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵclassMapInterpolate3("", ctx.prefixCls, " ", ctx.showWeek ? ctx.prefixCls + "-week-number" : "", "\n     ", ctx.isRange ? ctx.prefixCls + "-range" : "", "");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵclassMapInterpolate1("", ctx.prefixCls, "-panel");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵclassMapInterpolate1("", ctx.prefixCls, "-date-panel");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.isRange)("ngIfElse", _r7);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", !ctx.isRange);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.isRange);
    } }, directives: function () { return [ɵngcc1.NgIf, ɵngcc1.NgTemplateOutlet, InnerPopupComponent, CalendarFooterComponent]; }, encapsulation: 2, changeDetection: 0 });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DatePopupComponent, [{
        type: i0.Component,
        args: [{
                changeDetection: i0.ChangeDetectionStrategy.OnPush,
                selector: 'date-popup',
                exportAs: 'datePopup',
                template: "<div class=\"{{ prefixCls }}-picker-container {{ className }}\">\n  <div\n    class=\"{{ prefixCls }} {{ showWeek ? prefixCls + '-week-number' : '' }}\n     {{ isRange ? prefixCls + '-range' : '' }}\"\n  >\n    <div class=\"{{ prefixCls }}-panel\">\n      <div class=\"{{ prefixCls }}-date-panel\">\n        <ng-container *ngIf=\"isRange; else tplSinglePart\">\n          <!-- Range Selectors -->\n          <ng-container *ngTemplateOutlet=\"tplRangePart; context: { partType: 'left' }\"></ng-container>\n          <ng-container *ngTemplateOutlet=\"tplRangePart; context: { partType: 'right' }\"></ng-container>\n        </ng-container>\n\n        <ng-container *ngIf=\"!isRange\">\n          <!-- Single ONLY -->\n          <ng-container *ngTemplateOutlet=\"tplFooter\"></ng-container>\n        </ng-container>\n      </div>\n      <ng-container *ngIf=\"isRange\">\n        <!-- Range ONLY -->\n        <ng-container *ngTemplateOutlet=\"tplFooter\"></ng-container>\n      </ng-container>\n    </div>\n  </div>\n</div>\n\n<ng-template #tplInnerPopup let-partType=\"partType\">\n  <inner-popup\n    [showWeek]=\"showWeek\"\n    [panelMode]=\"getPanelMode(partType)\"\n    (panelModeChange)=\"onPanelModeChange($event, partType)\"\n    [value]=\"getValueBySelector(partType)\"\n    [disabledDate]=\"disabledDate\"\n    [dateRender]=\"dateRender\"\n    [selectedValue]=\"selectedValue\"\n    [hoverValue]=\"hoverValue\"\n    [enablePrev]=\"enablePrevNext('prev', partType)\"\n    [enableNext]=\"enablePrevNext('next', partType)\"\n    (dayHover)=\"onDayHover($event)\"\n    (selectDate)=\"changeValueFromSelect($event)\"\n    (headerChange)=\"onHeaderChange($event, partType)\"\n  ></inner-popup>\n</ng-template>\n\n<ng-template #tplFooter>\n  <calendar-footer\n    [showTime]=\"showTime\"\n    [mustShowTime]=\"mustShowTime\"\n    [value]=\"value\"\n    (showTimePickerChange)=\"onShowTimePickerChange($event)\"\n    (selectTime)=\"onSelectTime($event)\"\n    (clickOk)=\"onClickOk()\"\n    (clickRemove)=\"onClickRemove()\"\n  ></calendar-footer>\n</ng-template>\n\n<!-- Single ONLY -->\n<ng-template #tplSinglePart>\n  <div>\n    <ng-container *ngTemplateOutlet=\"tplInnerPopup\"></ng-container>\n  </div>\n</ng-template>\n\n<!-- Range ONLY -->\n<ng-template #tplRangePart let-partType=\"partType\">\n  <div class=\"{{ prefixCls }}-range-part {{ prefixCls }}-range-{{ partType }}\">\n    <div style=\"outline: none;\">\n      <ng-container *ngTemplateOutlet=\"tplInnerPopup; context: { partType: partType }\"></ng-container>\n    </div>\n  </div>\n</ng-template>\n"
            }]
    }], function () { return [{ type: ɵngcc0.ChangeDetectorRef }]; }, { panelModeChange: [{
            type: i0.Output
        }], calendarChange: [{
            type: i0.Output
        }], valueChange: [{
            type: i0.Output
        }], resultOk: [{
            type: i0.Output
        }], showTimePickerChange: [{
            type: i0.Output
        }], value: [{
            type: i0.Input
        }], disabledDate: [{
            type: i0.Input
        }], panelMode: [{
            type: i0.Input
        }], isRange: [{
            type: i0.Input
        }], showWeek: [{
            type: i0.Input
        }], format: [{
            type: i0.Input
        }], minDate: [{
            type: i0.Input
        }], maxDate: [{
            type: i0.Input
        }], showToday: [{
            type: i0.Input
        }], showTime: [{
            type: i0.Input
        }], mustShowTime: [{
            type: i0.Input
        }], dateRender: [{
            type: i0.Input
        }], className: [{
            type: i0.Input
        }], defaultPickerValue: [{
            type: i0.Input
        }] }); })();
        return DatePopupComponent;
    }());
    DatePopupComponent.ctorParameters = function () { return [
        { type: i0.ChangeDetectorRef }
    ]; };
    DatePopupComponent.propDecorators = {
        isRange: [{ type: i0.Input }],
        showWeek: [{ type: i0.Input }],
        format: [{ type: i0.Input }],
        disabledDate: [{ type: i0.Input }],
        minDate: [{ type: i0.Input }],
        maxDate: [{ type: i0.Input }],
        showToday: [{ type: i0.Input }],
        showTime: [{ type: i0.Input }],
        mustShowTime: [{ type: i0.Input }],
        dateRender: [{ type: i0.Input }],
        className: [{ type: i0.Input }],
        panelMode: [{ type: i0.Input }],
        value: [{ type: i0.Input }],
        defaultPickerValue: [{ type: i0.Input }],
        panelModeChange: [{ type: i0.Output }],
        calendarChange: [{ type: i0.Output }],
        valueChange: [{ type: i0.Output }],
        resultOk: [{ type: i0.Output }],
        showTimePickerChange: [{ type: i0.Output }]
    };

    var InnerPopupComponent = /** @class */ (function () {
        function InnerPopupComponent() {
            this.panelModeChange = new i0.EventEmitter();
            this.headerChange = new i0.EventEmitter();
            this.selectDate = new i0.EventEmitter();
            this.dayHover = new i0.EventEmitter();
            this.prefixCls = 'thy-calendar';
        }
        InnerPopupComponent.prototype.ngOnChanges = function (changes) {
            if (changes.value && !this.value) {
                this.value = new util.TinyDate();
            }
        };
        // The value real changed to outside
        InnerPopupComponent.prototype.onSelectDate = function (date) {
            var value = date instanceof util.TinyDate ? date : new util.TinyDate(date);
            this.selectDate.emit(value);
        };
InnerPopupComponent.ɵfac = function InnerPopupComponent_Factory(t) { return new (t || InnerPopupComponent)(); };
InnerPopupComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: InnerPopupComponent, selectors: [["inner-popup"]], inputs: { value: "value", showWeek: "showWeek", enablePrev: "enablePrev", enableNext: "enableNext", disabledDate: "disabledDate", dateRender: "dateRender", selectedValue: "selectedValue", hoverValue: "hoverValue", panelMode: "panelMode" }, outputs: { panelModeChange: "panelModeChange", headerChange: "headerChange", selectDate: "selectDate", dayHover: "dayHover" }, exportAs: ["innerPopup"], features: [ɵngcc0.ɵɵNgOnChangesFeature], decls: 3, vars: 13, consts: [[3, "panelMode", "value", "enablePrev", "enableNext", "panelModeChange", "valueChange"], ["showWeekNumber", "false", 3, "showWeek", "value", "disabledDate", "dateCellRender", "selectedValue", "hoverValue", "valueChange", "dayHover"]], template: function InnerPopupComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "calendar-header", 0);
        ɵngcc0.ɵɵlistener("panelModeChange", function InnerPopupComponent_Template_calendar_header_panelModeChange_0_listener($event) { return ctx.panelMode = $event; })("panelModeChange", function InnerPopupComponent_Template_calendar_header_panelModeChange_0_listener($event) { return ctx.panelModeChange.emit($event); })("valueChange", function InnerPopupComponent_Template_calendar_header_valueChange_0_listener($event) { return ctx.value = $event; })("valueChange", function InnerPopupComponent_Template_calendar_header_valueChange_0_listener($event) { return ctx.headerChange.emit($event); });
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(1, "div");
        ɵngcc0.ɵɵelementStart(2, "date-table", 1);
        ɵngcc0.ɵɵlistener("valueChange", function InnerPopupComponent_Template_date_table_valueChange_2_listener($event) { return ctx.onSelectDate($event); })("dayHover", function InnerPopupComponent_Template_date_table_dayHover_2_listener($event) { return ctx.dayHover.emit($event); });
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        ɵngcc0.ɵɵproperty("panelMode", ctx.panelMode)("value", ctx.value)("enablePrev", ctx.enablePrev)("enableNext", ctx.enableNext);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵclassMapInterpolate1("", ctx.prefixCls, "-body");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("showWeek", ctx.showWeek)("value", ctx.value)("disabledDate", ctx.disabledDate)("dateCellRender", ctx.dateRender)("selectedValue", ctx.selectedValue)("hoverValue", ctx.hoverValue);
    } }, directives: function () { return [CalendarHeaderComponent, DateTableComponent]; }, encapsulation: 2, changeDetection: 0 });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(InnerPopupComponent, [{
        type: i0.Component,
        args: [{
                changeDetection: i0.ChangeDetectionStrategy.OnPush,
                selector: 'inner-popup',
                exportAs: 'innerPopup',
                template: "<calendar-header\n  [(panelMode)]=\"panelMode\"\n  (panelModeChange)=\"panelModeChange.emit($event)\"\n  [(value)]=\"value\"\n  (valueChange)=\"headerChange.emit($event)\"\n  [enablePrev]=\"enablePrev\"\n  [enableNext]=\"enableNext\"\n></calendar-header>\n\n<div class=\"{{ prefixCls }}-body\">\n  <date-table\n    [showWeek]=\"showWeek\"\n    [value]=\"value\"\n    (valueChange)=\"onSelectDate($event)\"\n    showWeekNumber=\"false\"\n    [disabledDate]=\"disabledDate\"\n    [dateCellRender]=\"dateRender\"\n    [selectedValue]=\"selectedValue\"\n    [hoverValue]=\"hoverValue\"\n    (dayHover)=\"dayHover.emit($event)\"\n  ></date-table>\n</div>\n"
            }]
    }], function () { return []; }, { panelModeChange: [{
            type: i0.Output
        }], headerChange: [{
            type: i0.Output
        }], selectDate: [{
            type: i0.Output
        }], dayHover: [{
            type: i0.Output
        }], value: [{
            type: i0.Input
        }], showWeek: [{
            type: i0.Input
        }], enablePrev: [{
            type: i0.Input
        }], enableNext: [{
            type: i0.Input
        }], disabledDate: [{
            type: i0.Input
        }], dateRender: [{
            type: i0.Input
        }], selectedValue: [{
            type: i0.Input
        }], hoverValue: [{
            type: i0.Input
        }], panelMode: [{
            type: i0.Input
        }] }); })();
        return InnerPopupComponent;
    }());
    InnerPopupComponent.ctorParameters = function () { return []; };
    InnerPopupComponent.propDecorators = {
        showWeek: [{ type: i0.Input }],
        enablePrev: [{ type: i0.Input }],
        enableNext: [{ type: i0.Input }],
        disabledDate: [{ type: i0.Input }],
        dateRender: [{ type: i0.Input }],
        selectedValue: [{ type: i0.Input }],
        hoverValue: [{ type: i0.Input }],
        panelMode: [{ type: i0.Input }],
        panelModeChange: [{ type: i0.Output }],
        value: [{ type: i0.Input }],
        headerChange: [{ type: i0.Output }],
        selectDate: [{ type: i0.Output }],
        dayHover: [{ type: i0.Output }]
    };

    var MAX_ROW$1 = 4;
    var MAX_COL$1 = 3;
    var YearPanelComponent = /** @class */ (function () {
        function YearPanelComponent() {
            this.valueChange = new i0.EventEmitter();
            this.decadePanelShow = new i0.EventEmitter();
            this.prefixCls = 'thy-calendar-year-panel';
        }
        Object.defineProperty(YearPanelComponent.prototype, "currentYear", {
            get: function () {
                return this.value.getYear();
            },
            enumerable: false,
            configurable: true
        });
        Object.defineProperty(YearPanelComponent.prototype, "startYear", {
            get: function () {
                return parseInt("" + this.currentYear / 10, 10) * 10;
            },
            enumerable: false,
            configurable: true
        });
        Object.defineProperty(YearPanelComponent.prototype, "endYear", {
            get: function () {
                return this.startYear + 9;
            },
            enumerable: false,
            configurable: true
        });
        YearPanelComponent.prototype.ngOnChanges = function (changes) {
            if (changes.value || changes.disabledDate) {
                this.render();
            }
        };
        YearPanelComponent.prototype.previousDecade = function () {
            this.gotoYear(-10);
        };
        YearPanelComponent.prototype.nextDecade = function () {
            this.gotoYear(10);
        };
        YearPanelComponent.prototype.trackPanelYear = function (_index, yearData) {
            return yearData.content;
        };
        YearPanelComponent.prototype.render = function () {
            if (this.value) {
                this.panelYears = this.makePanelYears();
            }
        };
        // Re-render panel content by the header's buttons (NOTE: Do not try to trigger final value change)
        YearPanelComponent.prototype.gotoYear = function (amount) {
            this.value = this.value.addYears(amount);
            // this.valueChange.emit(this.value); // Do not trigger final value change
            this.render();
        };
        YearPanelComponent.prototype.chooseYear = function (year) {
            this.value = this.value.setYear(year);
            this.valueChange.emit(this.value);
            this.render();
        };
        YearPanelComponent.prototype.makePanelYears = function () {
            var _this = this;
            var years = [];
            var currentYear = this.currentYear;
            var startYear = this.startYear;
            var endYear = this.endYear;
            var previousYear = startYear - 1;
            var index = 0;
            for (var rowIndex = 0; rowIndex < MAX_ROW$1; rowIndex++) {
                years[rowIndex] = [];
                var _loop_1 = function (colIndex) {
                    var _a;
                    var year = previousYear + index;
                    var content = String(year);
                    var disabled = this_1.disabledDate ? this_1.disabledDate(this_1.value.setYear(year).nativeDate) : false;
                    var cell = (years[rowIndex][colIndex] = {
                        disabled: disabled,
                        content: content,
                        year: year,
                        title: content,
                        isCurrent: year === currentYear,
                        isLowerThanStart: year < startYear,
                        isBiggerThanEnd: year > endYear,
                        classMap: null,
                        onClick: function () { return _this.chooseYear(cell.year); }
                    });
                    cell.classMap = (_a = {},
                        _a[this_1.prefixCls + "-cell"] = true,
                        _a[this_1.prefixCls + "-selected-cell"] = cell.isCurrent,
                        _a[this_1.prefixCls + "-cell-disabled"] = disabled,
                        _a[this_1.prefixCls + "-last-decade-cell"] = cell.isLowerThanStart,
                        _a[this_1.prefixCls + "-next-decade-cell"] = cell.isBiggerThanEnd,
                        _a);
                    index++;
                };
                var this_1 = this;
                for (var colIndex = 0; colIndex < MAX_COL$1; colIndex++) {
                    _loop_1(colIndex);
                }
            }
            return years;
        };
YearPanelComponent.ɵfac = function YearPanelComponent_Factory(t) { return new (t || YearPanelComponent)(); };
YearPanelComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: YearPanelComponent, selectors: [["year-panel"]], inputs: { value: "value", disabledDate: "disabledDate" }, outputs: { valueChange: "valueChange", decadePanelShow: "decadePanelShow" }, exportAs: ["yearPanel"], features: [ɵngcc0.ɵɵNgOnChangesFeature], decls: 11, vars: 30, consts: [["role", "button", "title", "\u4E0A\u4E00\u5E74\u4EE3", 3, "click"], ["role", "button", "title", "\u9009\u62E9\u5E74\u4EE3", 3, "click"], ["title", "\u4E0B\u4E00\u5E74\u4EE3", "role", "button", 3, "click"], ["cellSpacing", "0", "role", "grid"], ["role", "row", 4, "ngFor", "ngForOf"], ["role", "row"], ["role", "gridcell", 3, "title", "ngClass", "click", 4, "ngFor", "ngForOf", "ngForTrackBy"], ["role", "gridcell", 3, "title", "ngClass", "click"]], template: function YearPanelComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "div");
        ɵngcc0.ɵɵelementStart(1, "div");
        ɵngcc0.ɵɵelementStart(2, "a", 0);
        ɵngcc0.ɵɵlistener("click", function YearPanelComponent_Template_a_click_2_listener() { return ctx.previousDecade(); });
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(3, "a", 1);
        ɵngcc0.ɵɵlistener("click", function YearPanelComponent_Template_a_click_3_listener() { return ctx.decadePanelShow.emit(); });
        ɵngcc0.ɵɵelementStart(4, "span");
        ɵngcc0.ɵɵtext(5);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(6, "a", 2);
        ɵngcc0.ɵɵlistener("click", function YearPanelComponent_Template_a_click_6_listener() { return ctx.nextDecade(); });
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(7, "div");
        ɵngcc0.ɵɵelementStart(8, "table", 3);
        ɵngcc0.ɵɵelementStart(9, "tbody");
        ɵngcc0.ɵɵtemplate(10, YearPanelComponent_tr_10_Template, 2, 2, "tr", 4);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        ɵngcc0.ɵɵclassMap(ctx.prefixCls);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵclassMapInterpolate1("", ctx.prefixCls, "-header");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵclassMapInterpolate1("", ctx.prefixCls, "-prev-decade-btn");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵclassMapInterpolate1("", ctx.prefixCls, "-decade-select");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵclassMapInterpolate1("", ctx.prefixCls, "-decade-select-content");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵtextInterpolate2(" ", ctx.startYear, "-", ctx.endYear, " ");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵclassMapInterpolate1("", ctx.prefixCls, "-next-decade-btn");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵclassMapInterpolate1("", ctx.prefixCls, "-body");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵclassMapInterpolate1("", ctx.prefixCls, "-table");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵclassMapInterpolate1("", ctx.prefixCls, "-tbody");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngForOf", ctx.panelYears);
    } }, directives: [ɵngcc1.NgForOf, ɵngcc1.NgClass], encapsulation: 2, changeDetection: 0 });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(YearPanelComponent, [{
        type: i0.Component,
        args: [{
                changeDetection: i0.ChangeDetectionStrategy.OnPush,
                selector: 'year-panel',
                exportAs: 'yearPanel',
                template: "<div class=\"{{ prefixCls }}\">\n  <div class=\"{{ prefixCls }}-header\">\n    <a class=\"{{ prefixCls }}-prev-decade-btn\" role=\"button\" (click)=\"previousDecade()\" title=\"\u4E0A\u4E00\u5E74\u4EE3\"></a>\n    <a class=\"{{ prefixCls }}-decade-select\" role=\"button\" (click)=\"decadePanelShow.emit()\" title=\"\u9009\u62E9\u5E74\u4EE3\">\n      <span class=\"{{ prefixCls }}-decade-select-content\"> {{ startYear }}-{{ endYear }} </span>\n    </a>\n\n    <a class=\"{{ prefixCls }}-next-decade-btn\" (click)=\"nextDecade()\" title=\"\u4E0B\u4E00\u5E74\u4EE3\" role=\"button\"></a>\n  </div>\n  <div class=\"{{ prefixCls }}-body\">\n    <table class=\"{{ prefixCls }}-table\" cellSpacing=\"0\" role=\"grid\">\n      <tbody class=\"{{ prefixCls }}-tbody\">\n        <tr *ngFor=\"let row of panelYears\" role=\"row\">\n          <td\n            *ngFor=\"let yearCell of row; trackBy: trackPanelYear\"\n            role=\"gridcell\"\n            title=\"{{ yearCell.title }}\"\n            (click)=\"yearCell.disabled ? null : yearCell.onClick()\"\n            [ngClass]=\"yearCell.classMap\"\n          >\n            <a class=\"{{ prefixCls }}-year\">{{ yearCell.content }}</a>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</div>\n"
            }]
    }], function () { return []; }, { valueChange: [{
            type: i0.Output
        }], decadePanelShow: [{
            type: i0.Output
        }], value: [{
            type: i0.Input
        }], disabledDate: [{
            type: i0.Input
        }] }); })();
        return YearPanelComponent;
    }());
    YearPanelComponent.ctorParameters = function () { return []; };
    YearPanelComponent.propDecorators = {
        value: [{ type: i0.Input }],
        valueChange: [{ type: i0.Output }],
        disabledDate: [{ type: i0.Input }],
        decadePanelShow: [{ type: i0.Output }]
    };

    var MAX_ROW = 4;
    var MAX_COL = 3;
    var MonthTableComponent = /** @class */ (function () {
        function MonthTableComponent(dateHelper) {
            this.dateHelper = dateHelper;
            this.value = new util.TinyDate();
            this.prefixCls = 'thy-calendar';
            this.valueChange = new i0.EventEmitter();
        }
        MonthTableComponent.prototype.ngOnChanges = function (changes) {
            if (changes.value || changes.disabledDate) {
                this.render();
            }
        };
        MonthTableComponent.prototype.trackYear = function (_index) {
            return this.value ? this.value.getYear() : _index;
        };
        MonthTableComponent.prototype.trackPanelMonth = function (_index, monthData) {
            return monthData.content;
        };
        MonthTableComponent.prototype.render = function () {
            if (this.value) {
                this.panelMonths = this.makePanelMonths();
            }
        };
        MonthTableComponent.prototype.makePanelMonths = function () {
            var _this = this;
            var months = [];
            var currentMonth = this.value.getMonth();
            var today = new util.TinyDate();
            var monthValue = 0;
            for (var rowIndex = 0; rowIndex < MAX_ROW; rowIndex++) {
                months[rowIndex] = [];
                var _loop_1 = function (colIndex) {
                    var _a;
                    var month = this_1.value.setMonth(monthValue);
                    var disabled = this_1.disabledDate ? this_1.disabledDate(this_1.value.setMonth(monthValue).nativeDate) : false;
                    var content = this_1.dateHelper.format(month.nativeDate, 'MMMM');
                    var cell = (months[rowIndex][colIndex] = {
                        value: month.nativeDate,
                        disabled: disabled,
                        content: content,
                        month: monthValue,
                        title: content,
                        classMap: null,
                        onClick: function () { return _this.chooseMonth(cell.month); } // don't use monthValue here
                    });
                    cell.classMap = (_a = {},
                        _a[this_1.prefixCls + "-month-panel-cell"] = true,
                        _a[this_1.prefixCls + "-month-panel-cell-disabled"] = disabled,
                        _a[this_1.prefixCls + "-month-panel-selected-cell"] = monthValue === currentMonth,
                        _a[this_1.prefixCls + "-month-panel-current-cell"] = today.getYear() === this_1.value.getYear() && monthValue === today.getMonth(),
                        _a);
                    monthValue++;
                };
                var this_1 = this;
                for (var colIndex = 0; colIndex < MAX_COL; colIndex++) {
                    _loop_1(colIndex);
                }
            }
            return months;
        };
        MonthTableComponent.prototype.chooseMonth = function (month) {
            this.value = this.value.setMonth(month);
            this.valueChange.emit(this.value);
            this.render();
        };
MonthTableComponent.ɵfac = function MonthTableComponent_Factory(t) { return new (t || MonthTableComponent)(ɵngcc0.ɵɵdirectiveInject(DateHelperService)); };
MonthTableComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: MonthTableComponent, selectors: [["month-table"]], inputs: { value: "value", prefixCls: "prefixCls", disabledDate: "disabledDate" }, outputs: { valueChange: "valueChange" }, exportAs: ["monthTable"], features: [ɵngcc0.ɵɵNgOnChangesFeature], decls: 3, vars: 8, consts: [["cellSpacing", "0", "role", "grid"], ["role", "row", 4, "ngFor", "ngForOf", "ngForTrackBy"], ["role", "row"], ["role", "gridcell", 3, "title", "ngClass", "click", 4, "ngFor", "ngForOf", "ngForTrackBy"], ["role", "gridcell", 3, "title", "ngClass", "click"], [3, "ngSwitch"], [4, "ngSwitchCase"]], template: function MonthTableComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "table", 0);
        ɵngcc0.ɵɵelementStart(1, "tbody");
        ɵngcc0.ɵɵtemplate(2, MonthTableComponent_tr_2_Template, 2, 2, "tr", 1);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        ɵngcc0.ɵɵclassMapInterpolate1("", ctx.prefixCls, "-month-panel-table");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵclassMapInterpolate1("", ctx.prefixCls, "-month-panel-tbody");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngForOf", ctx.panelMonths)("ngForTrackBy", ctx.trackYear);
    } }, directives: [ɵngcc1.NgForOf, ɵngcc1.NgClass, ɵngcc1.NgSwitch, ɵngcc1.NgSwitchCase], encapsulation: 2, changeDetection: 0 });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(MonthTableComponent, [{
        type: i0.Component,
        args: [{
                changeDetection: i0.ChangeDetectionStrategy.OnPush,
                selector: 'month-table',
                exportAs: 'monthTable',
                template: "<table class=\"{{ prefixCls }}-month-panel-table\" cellSpacing=\"0\" role=\"grid\">\n  <tbody class=\"{{ prefixCls }}-month-panel-tbody\">\n    <tr *ngFor=\"let row of panelMonths; trackBy: trackYear\" role=\"row\">\n      <td\n        *ngFor=\"let monthCell of row; trackBy: trackPanelMonth\"\n        role=\"gridcell\"\n        title=\"{{ monthCell.title }}\"\n        (click)=\"monthCell.disabled ? null : monthCell.onClick()\"\n        [ngClass]=\"monthCell.classMap\"\n      >\n        <ng-container [ngSwitch]=\"prefixCls\">\n          <ng-container *ngSwitchCase=\"'thy-calendar'\">\n            <a class=\"{{ prefixCls }}-month-panel-month\">{{ monthCell.content }}</a>\n          </ng-container>\n        </ng-container>\n      </td>\n    </tr>\n  </tbody>\n</table>\n"
            }]
    }], function () { return [{ type: DateHelperService }]; }, { value: [{
            type: i0.Input
        }], prefixCls: [{
            type: i0.Input
        }], valueChange: [{
            type: i0.Output
        }], disabledDate: [{
            type: i0.Input
        }] }); })();
        return MonthTableComponent;
    }());
    MonthTableComponent.ctorParameters = function () { return [
        { type: DateHelperService }
    ]; };
    MonthTableComponent.propDecorators = {
        value: [{ type: i0.Input }],
        prefixCls: [{ type: i0.Input }],
        valueChange: [{ type: i0.Output }],
        disabledDate: [{ type: i0.Input }]
    };

    var DATE_ROW_NUM = 6;
    var DATE_COL_NUM = 7;
    var DateTableComponent = /** @class */ (function () {
        function DateTableComponent(dateHelper) {
            this.dateHelper = dateHelper;
            this.prefixCls = 'thy-calendar';
            this.showWeek = false;
            this.dayHover = new i0.EventEmitter(); // Emitted when hover on a day by mouse enter
            this.valueChange = new i0.EventEmitter();
        }
        Object.defineProperty(DateTableComponent.prototype, "value", {
            get: function () {
                return this._value;
            },
            set: function (date) {
                this._value = date;
            },
            enumerable: false,
            configurable: true
        });
        DateTableComponent.prototype.ngOnChanges = function (changes) {
            if (this.isDateRealChange(changes.value) ||
                this.isDateRealChange(changes.selectedValue) ||
                this.isDateRealChange(changes.hoverValue)) {
                this.render();
            }
        };
        DateTableComponent.prototype.isDateRealChange = function (change) {
            if (change) {
                var previousValue_1 = change.previousValue;
                var currentValue = change.currentValue;
                if (Array.isArray(currentValue)) {
                    return (!Array.isArray(previousValue_1) ||
                        currentValue.length !== previousValue_1.length ||
                        currentValue.some(function (value, index) {
                            var previousTinyDate = previousValue_1[index];
                            return previousTinyDate instanceof util.TinyDate ? previousTinyDate.isSameDay(value) : previousTinyDate !== value;
                        }));
                }
                else {
                    return !this.isSameDate(previousValue_1, currentValue);
                }
            }
            return false;
        };
        DateTableComponent.prototype.isSameDate = function (left, right) {
            return (!left && !right) || (left && right && right.isSameDay(left));
        };
        DateTableComponent.prototype.render = function () {
            if (this.value) {
                this.headWeekDays = this.makeHeadWeekDays();
                this.weekRows = this.makeWeekRows();
            }
        };
        DateTableComponent.prototype.changeValueFromInside = function (value) {
            // Only change date not change time
            var newValue = this.value
                .setYear(value.getYear())
                .setMonth(value.getMonth())
                .setDate(value.getDate());
            this.valueChange.emit(newValue);
        };
        DateTableComponent.prototype.makeHeadWeekDays = function () {
            var weekDays = [];
            var start = this.value.calendarStart({ weekStartsOn: this.dateHelper.getFirstDayOfWeek() });
            for (var colIndex = 0; colIndex < DATE_COL_NUM; colIndex++) {
                var day = start.addDays(colIndex);
                weekDays[colIndex] = {
                    short: this.dateHelper.format(day.nativeDate, this.dateHelper.relyOnDatePipe ? 'E' : 'ddd'),
                    veryShort: this.dateHelper.format(day.nativeDate, this.getVeryShortWeekFormat()) // eg. 二
                };
            }
            return weekDays;
        };
        DateTableComponent.prototype.getVeryShortWeekFormat = function () {
            if (this.dateHelper.relyOnDatePipe) {
                return 'EEEEE'; // eg. 二
            }
            return 'dd';
        };
        DateTableComponent.prototype.makeWeekRows = function () {
            var _a;
            var _this = this;
            var weekRows = [];
            var firstDayOfMonth = this.value.calendarStart({ weekStartsOn: this.dateHelper.getFirstDayOfWeek() });
            for (var week = 0; week < DATE_ROW_NUM; week++) {
                var weekStart = firstDayOfMonth.addDays(week * 7);
                var row = {
                    isActive: false,
                    isCurrent: false,
                    dateCells: [],
                    year: weekStart.getYear()
                };
                var _loop_1 = function (day) {
                    var _a;
                    var date = weekStart.addDays(day);
                    var dateFormat = this_1.dateHelper.relyOnDatePipe ? 'longDate' : 'YYYY-MM-DD';
                    var title = this_1.dateHelper.format(date.nativeDate, dateFormat);
                    var label = this_1.dateHelper.format(date.nativeDate, this_1.dateHelper.relyOnDatePipe ? 'dd' : 'DD');
                    var cell = {
                        value: date.nativeDate,
                        label: label,
                        isSelected: false,
                        isDisabled: false,
                        isToday: false,
                        title: title,
                        dateCellRender: util.valueFunctionProp(this_1.dateCellRender, date),
                        content: "" + date.getDate(),
                        onClick: function () { return _this.changeValueFromInside(date); },
                        // 暂时用不到鼠标事件的交互,在html这种删除了
                        onMouseEnter: function () { return _this.dayHover.emit(date); }
                    };
                    if (this_1.showWeek && !row.weekNum) {
                        row.weekNum = this_1.dateHelper.getISOWeek(date.nativeDate);
                    }
                    if (date.isToday()) {
                        cell.isToday = true;
                        row.isCurrent = true;
                    }
                    if (Array.isArray(this_1.selectedValue)) {
                        // Range selections
                        var rangeValue = this_1.hoverValue && this_1.hoverValue.length ? this_1.hoverValue : this_1.selectedValue;
                        var start = rangeValue[0];
                        var end = rangeValue[1];
                        if (start) {
                            if (start.isSameDay(date)) {
                                cell.isSelectedStartDate = true;
                                cell.isSelected = true;
                                row.isActive = true;
                            }
                            if (end) {
                                if (end.isSameDay(date)) {
                                    cell.isSelectedEndDate = true;
                                    cell.isSelected = true;
                                    row.isActive = true;
                                }
                                else if (date.isAfterDay(start) && date.isBeforeDay(end)) {
                                    cell.isInRange = true;
                                }
                            }
                        }
                    }
                    else if (date.isSameDay(this_1.value)) {
                        cell.isSelected = true;
                        row.isActive = true;
                    }
                    if (this_1.disabledDate && this_1.disabledDate(date.nativeDate)) {
                        cell.isDisabled = true;
                    }
                    cell.classMap = (_a = {},
                        _a[this_1.prefixCls + "-cell"] = true,
                        _a[this_1.prefixCls + "-today"] = cell.isToday,
                        _a[this_1.prefixCls + "-last-month-cell"] = date.isBeforeMonth(this_1.value),
                        _a[this_1.prefixCls + "-next-month-btn-day"] = date.isAfterMonth(this_1.value),
                        _a[this_1.prefixCls + "-selected-day"] = cell.isSelected,
                        _a[this_1.prefixCls + "-disabled-cell"] = cell.isDisabled,
                        _a[this_1.prefixCls + "-selected-start-date"] = !!cell.isSelectedStartDate,
                        _a[this_1.prefixCls + "-selected-end-date"] = !!cell.isSelectedEndDate,
                        _a[this_1.prefixCls + "-in-range-cell"] = !!cell.isInRange,
                        _a);
                    row.dateCells.push(cell);
                };
                var this_1 = this;
                for (var day = 0; day < 7; day++) {
                    _loop_1(day);
                }
                row.classMap = (_a = {},
                    _a[this.prefixCls + "-current-week"] = row.isCurrent,
                    _a[this.prefixCls + "-active-week"] = row.isActive,
                    _a);
                weekRows.push(row);
            }
            return weekRows;
        };
        DateTableComponent.prototype.trackByDateFn = function (_index, item) {
            return "" + item.title;
        };
        DateTableComponent.prototype.trackByWeekFn = function (_index, item) {
            return item.year + "-" + item.weekNum;
        };
DateTableComponent.ɵfac = function DateTableComponent_Factory(t) { return new (t || DateTableComponent)(ɵngcc0.ɵɵdirectiveInject(DateHelperService)); };
DateTableComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: DateTableComponent, selectors: [["date-table"]], inputs: { prefixCls: "prefixCls", showWeek: "showWeek", value: "value", selectedValue: "selectedValue", hoverValue: "hoverValue", disabledDate: "disabledDate", dateCellRender: "dateCellRender" }, outputs: { dayHover: "dayHover", valueChange: "valueChange" }, exportAs: ["dateTable"], features: [ɵngcc0.ɵɵNgOnChangesFeature], decls: 7, vars: 10, consts: [["cellSpacing", "0", "role", "grid"], ["role", "row"], ["role", "columnheader", 3, "class", 4, "ngIf"], ["role", "columnheader", 3, "title", "class", 4, "ngFor", "ngForOf"], ["role", "row", 3, "ngClass", 4, "ngFor", "ngForOf", "ngForTrackBy"], ["role", "columnheader"], ["role", "columnheader", 3, "title"], [3, "class", 4, "ngIf"], ["role", "row", 3, "ngClass"], ["role", "gridcell", 3, "class", 4, "ngIf"], ["role", "gridcell", "date-table-cell", "", 3, "ngClass", "prefixCls", "cell", "click", 4, "ngFor", "ngForOf", "ngForTrackBy"], ["role", "gridcell"], ["role", "gridcell", "date-table-cell", "", 3, "ngClass", "prefixCls", "cell", "click"]], template: function DateTableComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "table", 0);
        ɵngcc0.ɵɵelementStart(1, "thead");
        ɵngcc0.ɵɵelementStart(2, "tr", 1);
        ɵngcc0.ɵɵtemplate(3, DateTableComponent_th_3_Template, 3, 7, "th", 2);
        ɵngcc0.ɵɵtemplate(4, DateTableComponent_th_4_Template, 3, 6, "th", 3);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(5, "tbody");
        ɵngcc0.ɵɵtemplate(6, DateTableComponent_tr_6_Template, 3, 4, "tr", 4);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        ɵngcc0.ɵɵclassMapInterpolate1("", ctx.prefixCls, "-table");
        ɵngcc0.ɵɵadvance(3);
        ɵngcc0.ɵɵproperty("ngIf", ctx.showWeek);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngForOf", ctx.headWeekDays);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵclassMapInterpolate1("", ctx.prefixCls, "-tbody");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngForOf", ctx.weekRows)("ngForTrackBy", ctx.trackByWeekFn);
    } }, directives: function () { return [ɵngcc1.NgIf, ɵngcc1.NgForOf, ɵngcc1.NgClass, DateTableCellComponent]; }, encapsulation: 2, changeDetection: 0 });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DateTableComponent, [{
        type: i0.Component,
        args: [{
                changeDetection: i0.ChangeDetectionStrategy.OnPush,
                selector: 'date-table',
                exportAs: 'dateTable',
                template: "<table class=\"{{ prefixCls }}-table\" cellSpacing=\"0\" role=\"grid\">\n  <thead>\n    <tr role=\"row\">\n      <th *ngIf=\"showWeek\" role=\"columnheader\" class=\"{{ prefixCls }}-column-header {{ prefixCls }}-week-number-header\">\n        <span class=\"{{ prefixCls }}-column-header-inner\">x</span>\n      </th>\n      <th *ngFor=\"let cell of headWeekDays\" role=\"columnheader\" title=\"{{ cell.short }}\" class=\"{{ prefixCls }}-column-header\">\n        <span *ngIf=\"prefixCls === 'thy-calendar'\" class=\"{{ prefixCls }}-column-header-inner\">{{ cell.veryShort }}</span>\n        <span *ngIf=\"prefixCls === 'thy-calendar-full'\" class=\"{{ prefixCls }}-column-header-inner\">\u5468{{ cell.veryShort }}</span>\n      </th>\n    </tr>\n  </thead>\n  <tbody class=\"{{ prefixCls }}-tbody\">\n    <tr *ngFor=\"let row of weekRows; trackBy: trackByWeekFn\" [ngClass]=\"row.classMap\" role=\"row\">\n      <td *ngIf=\"row.weekNum\" role=\"gridcell\" class=\"{{ prefixCls }}-week-number-cell\">\n        {{ row.weekNum }}\n      </td>\n      <!-- \u5728td\u4E2D\u5220\u9664\u4E86\u9F20\u6807\u4E8B\u4EF6 -->\n      <!-- \u53BB\u6389tooltip\uFF0C\u6545\u53BB\u6389title\u5C5E\u6027 -->\n      <td\n        *ngFor=\"let cell of row.dateCells; trackBy: trackByDateFn\"\n        role=\"gridcell\"\n        [ngClass]=\"cell.classMap\"\n        (click)=\"cell.isDisabled ? null : cell.onClick()\"\n        date-table-cell\n        [prefixCls]=\"prefixCls\"\n        [cell]=\"cell\"\n      ></td>\n    </tr>\n  </tbody>\n</table>\n"
            }]
    }], function () { return [{ type: DateHelperService }]; }, { prefixCls: [{
            type: i0.Input
        }], showWeek: [{
            type: i0.Input
        }], dayHover: [{
            type: i0.Output
        }], valueChange: [{
            type: i0.Output
        }], value: [{
            type: i0.Input
        }], selectedValue: [{
            type: i0.Input
        }], hoverValue: [{
            type: i0.Input
        }], disabledDate: [{
            type: i0.Input
        }], dateCellRender: [{
            type: i0.Input
        }] }); })();
        return DateTableComponent;
    }());
    DateTableComponent.ctorParameters = function () { return [
        { type: DateHelperService }
    ]; };
    DateTableComponent.propDecorators = {
        prefixCls: [{ type: i0.Input }],
        selectedValue: [{ type: i0.Input }],
        hoverValue: [{ type: i0.Input }],
        value: [{ type: i0.Input }],
        showWeek: [{ type: i0.Input }],
        disabledDate: [{ type: i0.Input }],
        dateCellRender: [{ type: i0.Input }],
        dayHover: [{ type: i0.Output }],
        valueChange: [{ type: i0.Output }]
    };

    var DateTableCellComponent = /** @class */ (function () {
        function DateTableCellComponent() {
            this.isTemplateRef = util.isTemplateRef;
            this.isNonEmptyString = function (v) { return util.isEmpty(v) && util.isString(v); };
        }
DateTableCellComponent.ɵfac = function DateTableCellComponent_Factory(t) { return new (t || DateTableCellComponent)(); };
DateTableCellComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: DateTableCellComponent, selectors: [["", "date-table-cell", ""]], inputs: { prefixCls: "prefixCls", cell: "cell" }, exportAs: ["dateTableCell"], attrs: _c3, decls: 3, vars: 3, consts: [[3, "ngSwitch"], [4, "ngSwitchCase"], [4, "ngSwitchDefault"], [4, "ngTemplateOutlet", "ngTemplateOutletContext"], [3, "innerHTML"], ["tabindex", "0"], [4, "ngIf", "ngIfElse"], ["defaultCell", ""]], template: function DateTableCellComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementContainerStart(0, 0);
        ɵngcc0.ɵɵtemplate(1, DateTableCellComponent_ng_container_1_Template, 5, 3, "ng-container", 1);
        ɵngcc0.ɵɵtemplate(2, DateTableCellComponent_ng_container_2_Template, 5, 7, "ng-container", 1);
        ɵngcc0.ɵɵelementContainerEnd();
    } if (rf & 2) {
        ɵngcc0.ɵɵproperty("ngSwitch", ctx.prefixCls);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngSwitchCase", "thy-calendar");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngSwitchCase", "thy-calendar-full");
    } }, directives: [ɵngcc1.NgSwitch, ɵngcc1.NgSwitchCase, ɵngcc1.NgSwitchDefault, ɵngcc1.NgTemplateOutlet, ɵngcc1.NgIf], encapsulation: 2 });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DateTableCellComponent, [{
        type: i0.Component,
        args: [{
                selector: '[date-table-cell]',
                exportAs: 'dateTableCell',
                template: "<ng-container [ngSwitch]=\"prefixCls\">\n  <ng-container *ngSwitchCase=\"'thy-calendar'\">\n    <ng-container [ngSwitch]=\"true\">\n      <ng-container *ngSwitchCase=\"isTemplateRef(cell.dateCellRender)\">\n        <ng-container *ngTemplateOutlet=\"cell.dateCellRender; context: { $implicit: cell.value }\"></ng-container>\n      </ng-container>\n      <ng-container *ngSwitchCase=\"isNonEmptyString(cell.dateCellRender)\">\n        <span [innerHTML]=\"cell.dateCellRender\"></span>\n      </ng-container>\n      <ng-container *ngSwitchDefault>\n        <div class=\"{{ prefixCls }}-date\" [attr.aria-selected]=\"cell.isSelected\" [attr.aria-disabled]=\"cell.isDisabled\">\n          {{ cell.content }}\n        </div>\n      </ng-container>\n    </ng-container>\n  </ng-container>\n  <ng-container *ngSwitchCase=\"'thy-calendar-full'\">\n    <div\n      tabindex=\"0\"\n      class=\"{{ prefixCls }}-date thy-calendar-full-cell-inner\"\n      [class.thy-calendar-full-calendar-date-today]=\"cell.isToday\"\n    >\n      <ng-container *ngIf=\"cell.fullCellRender; else defaultCell\">\n        <ng-container *ngTemplateOutlet=\"$any(cell.fullCellRender); context: { $implicit: cell.value }\"> </ng-container>\n      </ng-container>\n      <ng-template #defaultCell>\n        <div class=\"{{ prefixCls }}-date-value\">\n          <span class=\"{{ prefixCls }}-date-value-today-text\">\n            <span class=\"{{ prefixCls }}-date-value-text\">{{ cell.content }}</span>\n          </span>\n        </div>\n        <div class=\"{{ prefixCls }}-date-content\">\n          <ng-container *ngTemplateOutlet=\"$any(cell.dateCellRender); context: { $implicit: cell.value }\"> </ng-container>\n        </div>\n      </ng-template>\n    </div>\n  </ng-container>\n</ng-container>\n"
            }]
    }], function () { return []; }, { prefixCls: [{
            type: i0.Input
        }], cell: [{
            type: i0.Input
        }] }); })();
        return DateTableCellComponent;
    }());
    DateTableCellComponent.propDecorators = {
        prefixCls: [{ type: i0.Input }],
        cell: [{ type: i0.Input }]
    };

    var LibPackerModule = /** @class */ (function () {
        function LibPackerModule() {
        }
LibPackerModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: LibPackerModule });
LibPackerModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function LibPackerModule_Factory(t) { return new (t || LibPackerModule)(); }, imports: [[common.CommonModule, forms.FormsModule, button.ThyButtonModule, icon.ThyIconModule, timePicker.ThyTimePickerModule]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(LibPackerModule, { declarations: [CalendarHeaderComponent, CalendarFooterComponent, DateTableComponent, YearPanelComponent, MonthTableComponent, MonthPanelComponent, DecadePanelComponent, InnerPopupComponent, DatePopupComponent, DateTableCellComponent], imports: [ɵngcc1.CommonModule, ɵngcc5.FormsModule, ɵngcc2.ThyButtonModule, ɵngcc3.ThyIconModule, ɵngcc4.ThyTimePickerModule], exports: [CalendarHeaderComponent, CalendarFooterComponent, DateTableComponent, YearPanelComponent, MonthTableComponent, MonthPanelComponent, DecadePanelComponent, InnerPopupComponent, DatePopupComponent, DateTableCellComponent] }); })();
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(LibPackerModule, [{
        type: i0.NgModule,
        args: [{
                imports: [common.CommonModule, forms.FormsModule, button.ThyButtonModule, icon.ThyIconModule, timePicker.ThyTimePickerModule],
                exports: [
                    CalendarHeaderComponent,
                    CalendarFooterComponent,
                    DateTableComponent,
                    YearPanelComponent,
                    MonthTableComponent,
                    MonthPanelComponent,
                    DecadePanelComponent,
                    InnerPopupComponent,
                    DatePopupComponent,
                    DateTableCellComponent
                ],
                declarations: [
                    CalendarHeaderComponent,
                    CalendarFooterComponent,
                    DateTableComponent,
                    YearPanelComponent,
                    MonthTableComponent,
                    MonthPanelComponent,
                    DecadePanelComponent,
                    InnerPopupComponent,
                    DatePopupComponent,
                    DateTableCellComponent
                ]
            }]
    }], function () { return []; }, null); })();
        return LibPackerModule;
    }());

    var ThyPickerComponent = /** @class */ (function () {
        function ThyPickerComponent(changeDetector, dateHelper) {
            this.changeDetector = changeDetector;
            this.dateHelper = dateHelper;
            this.isRange = false;
            this.open = undefined;
            this.placement = 'bottomLeft';
            this.valueChange = new i0.EventEmitter();
            this.openChange = new i0.EventEmitter(); // Emitted when overlay's open state change
            this.prefixCls = 'thy-calendar';
            this.animationOpenState = false;
            this.overlayOpen = false; // Available when "open"=undefined
            this.overlayPositions = core.getFlexiblePositions(this.placement, 4);
        }
        Object.defineProperty(ThyPickerComponent.prototype, "realOpenState", {
            get: function () {
                // The value that really decide the open state of overlay
                return this.isOpenHandledByUser() ? !!this.open : this.overlayOpen;
            },
            enumerable: false,
            configurable: true
        });
        ThyPickerComponent.prototype.ngAfterViewInit = function () {
            this.overlayPositions = core.getFlexiblePositions(this.placement, 4);
            if (this.autoFocus) {
                this.focus();
            }
        };
        ThyPickerComponent.prototype.focus = function () {
            this.pickerInput.nativeElement.focus();
        };
        ThyPickerComponent.prototype.showOverlay = function () {
            var _this = this;
            if (!this.realOpenState) {
                this.overlayOpen = true;
                if (this.realOpenState) {
                    this.animationOpenState = true;
                }
                this.openChange.emit(this.overlayOpen);
                setTimeout(function () {
                    if (_this.cdkConnectedOverlay && _this.cdkConnectedOverlay.overlayRef) {
                        _this.cdkConnectedOverlay.overlayRef.updatePosition();
                    }
                });
            }
        };
        ThyPickerComponent.prototype.hideOverlay = function () {
            if (this.realOpenState) {
                this.overlayOpen = false;
                if (!this.realOpenState) {
                    this.animationOpenState = false;
                }
                this.openChange.emit(this.overlayOpen);
                this.focus();
            }
        };
        ThyPickerComponent.prototype.onClickInputBox = function () {
            if (!this.disabled && !this.readonly && !this.isOpenHandledByUser()) {
                this.showOverlay();
            }
        };
        ThyPickerComponent.prototype.onClickBackdrop = function () {
            this.hideOverlay();
        };
        ThyPickerComponent.prototype.onOverlayDetach = function () {
            this.hideOverlay();
        };
        ThyPickerComponent.prototype.onPositionChange = function (position) {
            this.changeDetector.detectChanges();
        };
        ThyPickerComponent.prototype.onClickClear = function (event) {
            event.preventDefault();
            event.stopPropagation();
            this.value = this.isRange ? [] : null;
            this.valueChange.emit(this.value);
        };
        ThyPickerComponent.prototype.getPartTypeIndex = function (partType) {
            return { left: 0, right: 1 }[partType];
        };
        ThyPickerComponent.prototype.isEmptyValue = function (value) {
            if (value === null) {
                return true;
            }
            else if (this.isRange) {
                return !value || !Array.isArray(value) || value.every(function (val) { return !val; });
            }
            else {
                return !value;
            }
        };
        // Whether open state is permanently controlled by user himself
        ThyPickerComponent.prototype.isOpenHandledByUser = function () {
            return this.open !== undefined;
        };
        ThyPickerComponent.prototype.getReadableValue = function () {
            var value;
            if (this.isRange) {
                var start = this.value[0] ? this.dateHelper.format(this.value[0].nativeDate, this.format) : '';
                var end = this.value[1] ? this.dateHelper.format(this.value[1].nativeDate, this.format) : '';
                return start && end ? start + " ~ " + end : null;
            }
            else {
                value = this.value;
                return value ? this.dateHelper.format(value.nativeDate, this.format) : null;
            }
        };
        ThyPickerComponent.prototype.getPlaceholder = function () {
            return this.isRange && this.placeholder && Array.isArray(this.placeholder)
                ? this.placeholder.join(' ~ ')
                : this.placeholder;
        };
ThyPickerComponent.ɵfac = function ThyPickerComponent_Factory(t) { return new (t || ThyPickerComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(DateHelperService)); };
ThyPickerComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: ThyPickerComponent, selectors: [["thy-picker"]], viewQuery: function ThyPickerComponent_Query(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵstaticViewQuery(_c5, true);
        ɵngcc0.ɵɵstaticViewQuery(overlay.CdkConnectedOverlay, true);
        ɵngcc0.ɵɵstaticViewQuery(_c6, true);
    } if (rf & 2) {
        var _t;
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.origin = _t.first);
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.cdkConnectedOverlay = _t.first);
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.pickerInput = _t.first);
    } }, inputs: { isRange: "isRange", open: "open", placement: "placement", value: "value", disabled: "disabled", placeholder: "placeholder", readonly: "readonly", allowClear: "allowClear", autoFocus: "autoFocus", className: "className", format: "format", size: "size", suffixIcon: "suffixIcon" }, outputs: { valueChange: "valueChange", openChange: "openChange" }, exportAs: ["thyPicker"], ngContentSelectors: _c7, decls: 9, vars: 22, consts: [["cdkOverlayOrigin", "", 3, "click"], ["origin", "cdkOverlayOrigin"], ["thyInput", "", "readonly", "", 3, "thySize", "disabled", "value", "placeholder"], ["pickerInput", ""], [4, "ngTemplateOutlet"], ["tplRightRest", ""], ["cdkConnectedOverlay", "", "cdkConnectedOverlayBackdropClass", "cdk-overlay-transparent-backdrop", 3, "cdkConnectedOverlayOrigin", "cdkConnectedOverlayOpen", "cdkConnectedOverlayHasBackdrop", "cdkConnectedOverlayPositions", "positionChange", "backdropClick", "detach"], ["thyIconName", "close-circle-bold-fill", 3, "ngClass", "click", 4, "ngIf"], [3, "thyIconName", "ngClass"], ["thyIconName", "close-circle-bold-fill", 3, "ngClass", "click"], [2, "position", "relative"]], template: function ThyPickerComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵprojectionDef();
        ɵngcc0.ɵɵelementStart(0, "span", 0, 1);
        ɵngcc0.ɵɵlistener("click", function ThyPickerComponent_Template_span_click_0_listener() { return ctx.onClickInputBox(); });
        ɵngcc0.ɵɵelementContainerStart(2);
        ɵngcc0.ɵɵelement(3, "input", 2, 3);
        ɵngcc0.ɵɵtemplate(5, ThyPickerComponent_ng_container_5_Template, 1, 0, "ng-container", 4);
        ɵngcc0.ɵɵelementContainerEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵtemplate(6, ThyPickerComponent_ng_template_6_Template, 4, 9, "ng-template", null, 5, ɵngcc0.ɵɵtemplateRefExtractor);
        ɵngcc0.ɵɵtemplate(8, ThyPickerComponent_ng_template_8_Template, 2, 0, "ng-template", 6);
        ɵngcc0.ɵɵlistener("positionChange", function ThyPickerComponent_Template_ng_template_positionChange_8_listener($event) { return ctx.onPositionChange($event); })("backdropClick", function ThyPickerComponent_Template_ng_template_backdropClick_8_listener() { return ctx.onClickBackdrop(); })("detach", function ThyPickerComponent_Template_ng_template_detach_8_listener() { return ctx.onOverlayDetach(); });
    } if (rf & 2) {
        var _r0 = ɵngcc0.ɵɵreference(1);
        var _r3 = ɵngcc0.ɵɵreference(7);
        ɵngcc0.ɵɵclassMapInterpolate3("", ctx.prefixCls, "-picker ", ctx.size ? ctx.prefixCls + "-picker-" + ctx.size : "", " ", ctx.className, "");
        ɵngcc0.ɵɵadvance(3);
        ɵngcc0.ɵɵclassMapInterpolate2("form-control-", ctx.size, " form-control ", ctx.prefixCls, "-picker-input");
        ɵngcc0.ɵɵclassProp("thy-input-disabled", ctx.disabled)("thy-input-readonly", ctx.readonly);
        ɵngcc0.ɵɵpropertyInterpolate("value", ctx.getReadableValue());
        ɵngcc0.ɵɵpropertyInterpolate("placeholder", ctx.getPlaceholder());
        ɵngcc0.ɵɵproperty("thySize", ctx.size)("disabled", ctx.disabled);
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngTemplateOutlet", _r3);
        ɵngcc0.ɵɵadvance(3);
        ɵngcc0.ɵɵproperty("cdkConnectedOverlayOrigin", _r0)("cdkConnectedOverlayOpen", ctx.realOpenState)("cdkConnectedOverlayHasBackdrop", !ctx.isOpenHandledByUser())("cdkConnectedOverlayPositions", ctx.overlayPositions);
    } }, directives: [ɵngcc6.CdkOverlayOrigin, ɵngcc7.ThyInputDirective, ɵngcc1.NgTemplateOutlet, ɵngcc6.CdkConnectedOverlay, ɵngcc1.NgIf, ɵngcc3.ThyIconComponent, ɵngcc1.NgClass], encapsulation: 2, changeDetection: 0 });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ThyPickerComponent, [{
        type: i0.Component,
        args: [{
                selector: 'thy-picker',
                exportAs: 'thyPicker',
                template: "<span\n  cdkOverlayOrigin\n  #origin=\"cdkOverlayOrigin\"\n  class=\"{{ prefixCls }}-picker {{ size ? prefixCls + '-picker-' + size : '' }} {{ className }}\"\n  (click)=\"onClickInputBox()\"\n>\n  <ng-container>\n    <input\n      #pickerInput\n      thyInput\n      class=\"form-control-{{ size }} form-control {{ prefixCls }}-picker-input\"\n      [thySize]=\"size\"\n      [class.thy-input-disabled]=\"disabled\"\n      [class.thy-input-readonly]=\"readonly\"\n      [disabled]=\"disabled\"\n      readonly\n      value=\"{{ getReadableValue() }}\"\n      placeholder=\"{{ getPlaceholder() }}\"\n    />\n    <ng-container *ngTemplateOutlet=\"tplRightRest\"></ng-container>\n  </ng-container>\n</span>\n\n<!-- Right operator icons -->\n<ng-template #tplRightRest>\n  <span class=\"{{ prefixCls }}-picker-clear\">\n    <thy-icon\n      thyIconName=\"close-circle-bold-fill\"\n      *ngIf=\"!disabled && !isEmptyValue(value) && allowClear && !readonly\"\n      (click)=\"onClickClear($event)\"\n      ngClass=\"remove-link remove-link-{{ size }}\"\n    ></thy-icon>\n  </span>\n  <span class=\"{{ prefixCls }}-picker-icon\">\n    <thy-icon [thyIconName]=\"suffixIcon\" ngClass=\"remove-link-{{ size }}\"></thy-icon>\n  </span>\n</ng-template>\n\n<!-- Overlay -->\n<ng-template\n  cdkConnectedOverlay\n  [cdkConnectedOverlayOrigin]=\"origin\"\n  [cdkConnectedOverlayOpen]=\"realOpenState\"\n  [cdkConnectedOverlayHasBackdrop]=\"!isOpenHandledByUser()\"\n  [cdkConnectedOverlayPositions]=\"overlayPositions\"\n  cdkConnectedOverlayBackdropClass=\"cdk-overlay-transparent-backdrop\"\n  (positionChange)=\"onPositionChange($event)\"\n  (backdropClick)=\"onClickBackdrop()\"\n  (detach)=\"onOverlayDetach()\"\n>\n  <div style=\"position: relative;\">\n    <!-- Compatible for overlay that not support offset dynamically and immediately -->\n    <ng-content></ng-content>\n  </div>\n</ng-template>\n",
                changeDetection: i0.ChangeDetectionStrategy.OnPush
            }]
    }], function () { return [{ type: ɵngcc0.ChangeDetectorRef }, { type: DateHelperService }]; }, { isRange: [{
            type: i0.Input
        }], open: [{
            type: i0.Input
        }], placement: [{
            type: i0.Input
        }], valueChange: [{
            type: i0.Output
        }], openChange: [{
            type: i0.Output
        }], value: [{
            type: i0.Input
        }], disabled: [{
            type: i0.Input
        }], placeholder: [{
            type: i0.Input
        }], readonly: [{
            type: i0.Input
        }], allowClear: [{
            type: i0.Input
        }], autoFocus: [{
            type: i0.Input
        }], className: [{
            type: i0.Input
        }], format: [{
            type: i0.Input
        }], size: [{
            type: i0.Input
        }], suffixIcon: [{
            type: i0.Input
        }], origin: [{
            type: i0.ViewChild,
            args: ['origin', { static: true }]
        }], cdkConnectedOverlay: [{
            type: i0.ViewChild,
            args: [overlay.CdkConnectedOverlay, { static: true }]
        }], pickerInput: [{
            type: i0.ViewChild,
            args: ['pickerInput', { static: true }]
        }] }); })();
        return ThyPickerComponent;
    }());
    ThyPickerComponent.ctorParameters = function () { return [
        { type: i0.ChangeDetectorRef },
        { type: DateHelperService }
    ]; };
    ThyPickerComponent.propDecorators = {
        isRange: [{ type: i0.Input }],
        open: [{ type: i0.Input }],
        disabled: [{ type: i0.Input }],
        placeholder: [{ type: i0.Input }],
        readonly: [{ type: i0.Input }],
        allowClear: [{ type: i0.Input }],
        autoFocus: [{ type: i0.Input }],
        className: [{ type: i0.Input }],
        format: [{ type: i0.Input }],
        size: [{ type: i0.Input }],
        value: [{ type: i0.Input }],
        suffixIcon: [{ type: i0.Input }],
        placement: [{ type: i0.Input }],
        valueChange: [{ type: i0.Output }],
        openChange: [{ type: i0.Output }],
        origin: [{ type: i0.ViewChild, args: ['origin', { static: true },] }],
        cdkConnectedOverlay: [{ type: i0.ViewChild, args: [overlay.CdkConnectedOverlay, { static: true },] }],
        pickerInput: [{ type: i0.ViewChild, args: ['pickerInput', { static: true },] }]
    };

    var AbstractPickerComponent = /** @class */ (function () {
        function AbstractPickerComponent(cdr) {
            this.cdr = cdr;
            this.thyAllowClear = true;
            this.thyAutoFocus = false;
            this.thyDisabled = false;
            this.thySize = 'default';
            // tslint:disable-next-line: max-line-length
            this.thyAutoStartAndEnd = false; // only for range picker, Whether to automatically take the beginning and ending unixTime of the day
            this.thyDefaultPickerValue = null;
            this.thySuffixIcon = 'calendar';
            this.thyOpenChange = new i0.EventEmitter();
            this.isRange = false;
            this.destroyed$ = new rxjs.Subject();
            this.isCustomPlaceHolder = false;
            this.onlyEmitDate = false;
            this.onChangeFn = function () { return void 0; };
            this.onTouchedFn = function () { return void 0; };
        }
        Object.defineProperty(AbstractPickerComponent.prototype, "realOpenState", {
            get: function () {
                return this.picker.realOpenState;
            },
            enumerable: false,
            configurable: true
        });
        AbstractPickerComponent.prototype.initValue = function () {
            this.thyValue = this.isRange ? [] : null;
        };
        AbstractPickerComponent.prototype.ngOnInit = function () {
            this.setDefaultPlaceHolder();
            this.initValue();
        };
        AbstractPickerComponent.prototype.ngOnChanges = function (changes) {
            if (changes.thyPlaceHolder && changes.thyPlaceHolder.firstChange && typeof this.thyPlaceHolder !== 'undefined') {
                this.isCustomPlaceHolder = true;
            }
        };
        AbstractPickerComponent.prototype.ngOnDestroy = function () {
            this.destroyed$.next();
            this.destroyed$.complete();
        };
        AbstractPickerComponent.prototype.closeOverlay = function () {
            this.picker.hideOverlay();
        };
        AbstractPickerComponent.prototype.onValueChange = function (originalValue) {
            this.setFormatRule();
            this.thyValue = originalValue;
            if (this.isRange) {
                var vAsRange = this.thyValue;
                var value = { begin: null, end: null };
                if (vAsRange.length) {
                    var _a = __read(vAsRange, 2), begin = _a[0], end = _a[1];
                    if (this.thyAutoStartAndEnd) {
                        value = {
                            begin: begin.startOfDay().getUnixTime(),
                            end: end.endOfDay().getUnixTime()
                        };
                    }
                    else {
                        value = {
                            begin: begin.getUnixTime(),
                            end: end.getUnixTime()
                        };
                    }
                }
                this.onChangeFn(value);
            }
            else {
                var value = { date: null, with_time: this.withTime ? 1 : 0 };
                if (this.thyValue) {
                    value.date = this.thyValue.getUnixTime();
                }
                if (this.onlyEmitDate) {
                    this.onChangeFn(value.date);
                }
                else {
                    this.onChangeFn(value);
                }
            }
            this.onTouchedFn();
        };
        AbstractPickerComponent.prototype.setFormatRule = function () {
            if (!this.thyFormat) {
                if (this.withTime) {
                    this.thyFormat = 'yyyy-MM-dd HH:mm';
                }
                else {
                    if (!this.onlyEmitDate) {
                        this.thyFormat = 'yyyy-MM-dd';
                    }
                }
            }
        };
        AbstractPickerComponent.prototype.onOpenChange = function (open) {
            this.thyOpen = open;
            this.thyOpenChange.emit(open);
        };
        AbstractPickerComponent.prototype.writeValue = function (originalValue) {
            var _a = transformDateValue(originalValue), value = _a.value, withTime = _a.withTime;
            this.setValue(value);
            this.setTimePickerState(withTime);
            this.onlyEmitDate = typeof withTime === 'undefined';
            this.originWithTime = withTime;
            this.setFormatRule();
            this.cdr.markForCheck();
        };
        AbstractPickerComponent.prototype.registerOnChange = function (fn) {
            this.onChangeFn = fn;
        };
        AbstractPickerComponent.prototype.registerOnTouched = function (fn) {
            this.onTouchedFn = fn;
        };
        AbstractPickerComponent.prototype.setTimePickerState = function (withTime) {
            this.withTime = withTime;
        };
        AbstractPickerComponent.prototype.setDisabledState = function (disabled) {
            this.thyDisabled = disabled;
            this.cdr.markForCheck();
        };
        AbstractPickerComponent.prototype.setDefaultPlaceHolder = function () {
            if (!this.isCustomPlaceHolder) {
                this.thyPlaceHolder = this.isRange ? ['开始日期', '结束日期'] : '请选择日期';
            }
            this.cdr.markForCheck();
        };
        AbstractPickerComponent.prototype.setValue = function (value) {
            this.thyValue = makeValue(value, this.isRange);
        };
AbstractPickerComponent.ɵfac = function AbstractPickerComponent_Factory(t) { return new (t || AbstractPickerComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef)); };
AbstractPickerComponent.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: AbstractPickerComponent, viewQuery: function AbstractPickerComponent_Query(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵstaticViewQuery(ThyPickerComponent, true);
    } if (rf & 2) {
        var _t;
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.picker = _t.first);
    } }, inputs: { thyAllowClear: "thyAllowClear", thyAutoFocus: "thyAutoFocus", thyDisabled: "thyDisabled", thySize: "thySize", thyAutoStartAndEnd: "thyAutoStartAndEnd", thyDefaultPickerValue: "thyDefaultPickerValue", thySuffixIcon: "thySuffixIcon", thyFormat: "thyFormat", thyOpen: "thyOpen", thyPlaceHolder: "thyPlaceHolder", thyDisabledDate: "thyDisabledDate", thyMinDate: "thyMinDate", thyMaxDate: "thyMaxDate", thyReadonly: "thyReadonly", thyOriginClassName: "thyOriginClassName", thyPanelClassName: "thyPanelClassName" }, outputs: { thyOpenChange: "thyOpenChange" }, features: [ɵngcc0.ɵɵNgOnChangesFeature] });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(AbstractPickerComponent, [{
        type: i0.Directive
    }], function () { return [{ type: ɵngcc0.ChangeDetectorRef }]; }, { thyAllowClear: [{
            type: i0.Input
        }], thyAutoFocus: [{
            type: i0.Input
        }], thyDisabled: [{
            type: i0.Input
        }], thySize: [{
            type: i0.Input
        }], thyAutoStartAndEnd: [{
            type: i0.Input
        }], thyDefaultPickerValue: [{
            type: i0.Input
        }], thySuffixIcon: [{
            type: i0.Input
        }], thyOpenChange: [{
            type: i0.Output
        }], thyFormat: [{
            type: i0.Input
        }], thyOpen: [{
            type: i0.Input
        }], thyPlaceHolder: [{
            type: i0.Input
        }], thyDisabledDate: [{
            type: i0.Input
        }], thyMinDate: [{
            type: i0.Input
        }], thyMaxDate: [{
            type: i0.Input
        }], thyReadonly: [{
            type: i0.Input
        }], thyOriginClassName: [{
            type: i0.Input
        }], thyPanelClassName: [{
            type: i0.Input
        }], picker: [{
            type: i0.ViewChild,
            args: [ThyPickerComponent, { static: true }]
        }] }); })();
        return AbstractPickerComponent;
    }());
    AbstractPickerComponent.ctorParameters = function () { return [
        { type: i0.ChangeDetectorRef }
    ]; };
    AbstractPickerComponent.propDecorators = {
        thyAllowClear: [{ type: i0.Input }],
        thyAutoFocus: [{ type: i0.Input }],
        thyDisabled: [{ type: i0.Input }],
        thyOpen: [{ type: i0.Input }],
        thyDisabledDate: [{ type: i0.Input }],
        thyMinDate: [{ type: i0.Input }],
        thyMaxDate: [{ type: i0.Input }],
        thyPlaceHolder: [{ type: i0.Input }],
        thyReadonly: [{ type: i0.Input }],
        thyOriginClassName: [{ type: i0.Input }],
        thyPanelClassName: [{ type: i0.Input }],
        thySize: [{ type: i0.Input }],
        thyFormat: [{ type: i0.Input }],
        thyAutoStartAndEnd: [{ type: i0.Input }],
        thyDefaultPickerValue: [{ type: i0.Input }],
        thySuffixIcon: [{ type: i0.Input }],
        thyOpenChange: [{ type: i0.Output }],
        picker: [{ type: i0.ViewChild, args: [ThyPickerComponent, { static: true },] }]
    };
    __decorate([
        core.InputBoolean(),
        __metadata("design:type", Object)
    ], AbstractPickerComponent.prototype, "thyAllowClear", void 0);
    __decorate([
        core.InputBoolean(),
        __metadata("design:type", Object)
    ], AbstractPickerComponent.prototype, "thyAutoFocus", void 0);
    __decorate([
        core.InputBoolean(),
        __metadata("design:type", Object)
    ], AbstractPickerComponent.prototype, "thyDisabled", void 0);
    __decorate([
        core.InputBoolean(),
        __metadata("design:type", Boolean)
    ], AbstractPickerComponent.prototype, "thyOpen", void 0);
    __decorate([
        core.InputBoolean(),
        __metadata("design:type", Boolean)
    ], AbstractPickerComponent.prototype, "thyReadonly", void 0);

    var BasePickerComponent = /** @class */ (function (_super) {
        __extends(BasePickerComponent, _super);
        function BasePickerComponent(cdr) {
            var _this = _super.call(this, cdr) || this;
            _this.showWeek = false;
            _this.thyOnPanelChange = new i0.EventEmitter();
            _this.thyOnCalendarChange = new i0.EventEmitter();
            _this.thyMustShowTime = false;
            _this.thyPlacement = 'bottomLeft';
            _this.thyOnOk = new i0.EventEmitter();
            return _this;
        }
        Object.defineProperty(BasePickerComponent.prototype, "thyShowTime", {
            get: function () {
                return this._showTime;
            },
            set: function (value) {
                this._showTime = typeof value === 'object' ? value : util.coerceBooleanProperty(value);
            },
            enumerable: false,
            configurable: true
        });
        BasePickerComponent.prototype.ngOnInit = function () {
            _super.prototype.ngOnInit.call(this);
            if (!this.thyFormat) {
                if (this.showWeek) {
                    this.thyFormat = 'yyyy-ww';
                }
                else {
                    this.thyFormat = this.thyShowTime ? 'yyyy-MM-dd HH:mm' : 'yyyy-MM-dd';
                }
            }
            this.setDefaultTimePickerState();
        };
        BasePickerComponent.prototype.onValueChange = function (value) {
            this.restoreTimePickerState(value);
            _super.prototype.onValueChange.call(this, value);
            this.closeOverlay();
        };
        // Displays the time directly when the time must be displayed by default
        BasePickerComponent.prototype.setDefaultTimePickerState = function () {
            this.withTime = this.thyMustShowTime;
        };
        // Restore after clearing time to select whether the original picker time is displayed or not
        BasePickerComponent.prototype.restoreTimePickerState = function (value) {
            if (!value) {
                this.withTime = this.thyMustShowTime || this.originWithTime;
            }
        };
        // Emit thyOnCalendarChange when select date by thy-range-picker
        BasePickerComponent.prototype.onCalendarChange = function (value) {
            if (this.isRange) {
                var rangeValue = value.map(function (x) { return x.nativeDate; });
                this.thyOnCalendarChange.emit(rangeValue);
            }
        };
        BasePickerComponent.prototype.onShowTimePickerChange = function (show) {
            this.withTime = show;
        };
        BasePickerComponent.prototype.onResultOk = function () {
            if (this.isRange) {
                var value = this.thyValue;
                if (value.length) {
                    this.thyOnOk.emit([value[0].nativeDate, value[1].nativeDate]);
                }
                else {
                    this.thyOnOk.emit([]);
                }
            }
            else {
                if (this.thyValue) {
                    this.thyOnOk.emit(this.thyValue.nativeDate);
                }
                else {
                    this.thyOnOk.emit(null);
                }
            }
            this.closeOverlay();
        };
        BasePickerComponent.prototype.onOpenChange = function (open) {
            this.thyOpenChange.emit(open);
        };
BasePickerComponent.ɵfac = function BasePickerComponent_Factory(t) { return new (t || BasePickerComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef)); };
BasePickerComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: BasePickerComponent, selectors: [["ng-component"]], inputs: { thyShowTime: "thyShowTime", thyDateRender: "thyDateRender", thyMode: "thyMode", thyMustShowTime: "thyMustShowTime", thyPlacement: "thyPlacement" }, outputs: { thyOnPanelChange: "thyOnPanelChange", thyOnCalendarChange: "thyOnCalendarChange", thyOnOk: "thyOnOk" }, features: [ɵngcc0.ɵɵInheritDefinitionFeature], decls: 0, vars: 0, template: function BasePickerComponent_Template(rf, ctx) { }, encapsulation: 2 });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(BasePickerComponent, [{
        type: i0.Component,
        args: [{
                template: ""
            }]
    }], function () { return [{ type: ɵngcc0.ChangeDetectorRef }]; }, { thyShowTime: [{
            type: i0.Input
        }], thyDateRender: [{
            type: i0.Input
        }], thyMode: [{
            type: i0.Input
        }], thyOnPanelChange: [{
            type: i0.Output
        }], thyOnCalendarChange: [{
            type: i0.Output
        }], thyMustShowTime: [{
            type: i0.Input
        }], thyPlacement: [{
            type: i0.Input
        }], thyOnOk: [{
            type: i0.Output
        }] }); })();
        return BasePickerComponent;
    }(AbstractPickerComponent));
    BasePickerComponent.ctorParameters = function () { return [
        { type: i0.ChangeDetectorRef }
    ]; };
    BasePickerComponent.propDecorators = {
        thyDateRender: [{ type: i0.Input }],
        thyMode: [{ type: i0.Input }],
        thyOnPanelChange: [{ type: i0.Output }],
        thyOnCalendarChange: [{ type: i0.Output }],
        thyShowTime: [{ type: i0.Input }],
        thyMustShowTime: [{ type: i0.Input }],
        thyPlacement: [{ type: i0.Input }],
        thyOnOk: [{ type: i0.Output }]
    };

    var HeaderPickerComponent = /** @class */ (function (_super) {
        __extends(HeaderPickerComponent, _super);
        function HeaderPickerComponent(cdr) {
            return _super.call(this, cdr) || this;
        }
        HeaderPickerComponent.prototype.ngOnInit = function () {
            _super.prototype.ngOnInit.call(this);
            this.panelMode = this.endPanelMode;
            var allHeaderPanels = ['decade', 'year', 'month'];
            this.supportPanels = allHeaderPanels.slice(0, allHeaderPanels.indexOf(this.endPanelMode) + 1);
        };
        HeaderPickerComponent.prototype.onPanelModeChange = function (mode) {
            if (this.supportPanels.indexOf(mode) > -1) {
                this.panelMode = mode;
            }
            else {
                // Since the default "click year" logic can be "year panel" -> "date panel", we need force to the end panel otherwise
                this.panelMode = this.endPanelMode;
            }
        };
        HeaderPickerComponent.prototype.onChooseValue = function (mode, value) {
            if (this.endPanelMode === mode) {
                _super.prototype.onValueChange.call(this, value);
                this.closeOverlay();
            }
        };
        HeaderPickerComponent.prototype.onOpenChange = function (open) {
            if (!open) {
                this.cleanUp();
            }
            this.thyOpenChange.emit(open);
        };
        // Restore some initial props to let open as new in next time
        HeaderPickerComponent.prototype.cleanUp = function () {
            this.panelMode = this.endPanelMode;
        };
HeaderPickerComponent.ɵfac = function HeaderPickerComponent_Factory(t) { return new (t || HeaderPickerComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef)); };
HeaderPickerComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: HeaderPickerComponent, selectors: [["ng-component"]], inputs: { thyPlaceHolder: "thyPlaceHolder", thyDefaultValue: "thyDefaultValue", thyFormat: "thyFormat" }, features: [ɵngcc0.ɵɵInheritDefinitionFeature], decls: 0, vars: 0, template: function HeaderPickerComponent_Template(rf, ctx) { }, encapsulation: 2 });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(HeaderPickerComponent, [{
        type: i0.Component,
        args: [{
                template: ""
            }]
    }], function () { return [{ type: ɵngcc0.ChangeDetectorRef }]; }, { thyPlaceHolder: [{
            type: i0.Input
        }], thyDefaultValue: [{
            type: i0.Input
        }], thyFormat: [{
            type: i0.Input
        }] }); })();
        return HeaderPickerComponent;
    }(AbstractPickerComponent));
    HeaderPickerComponent.ctorParameters = function () { return [
        { type: i0.ChangeDetectorRef }
    ]; };
    HeaderPickerComponent.propDecorators = {
        thyPlaceHolder: [{ type: i0.Input }],
        thyDefaultValue: [{ type: i0.Input }],
        thyFormat: [{ type: i0.Input }]
    };

    var ThyDatePickerComponent = /** @class */ (function (_super) {
        __extends(ThyDatePickerComponent, _super);
        function ThyDatePickerComponent(cdr, renderer, elementRef) {
            var _this = _super.call(this, cdr) || this;
            _this.renderer = renderer;
            _this.elementRef = elementRef;
            _this.isRange = false;
            renderer.addClass(elementRef.nativeElement, 'thy-calendar-picker');
            return _this;
        }
ThyDatePickerComponent.ɵfac = function ThyDatePickerComponent_Factory(t) { return new (t || ThyDatePickerComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef)); };
ThyDatePickerComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: ThyDatePickerComponent, selectors: [["thy-date-picker"]], exportAs: ["thyDatePicker"], features: [ɵngcc0.ɵɵProvidersFeature([
            {
                provide: forms.NG_VALUE_ACCESSOR,
                multi: true,
                useExisting: i0.forwardRef(function () { return ThyDatePickerComponent; })
            }
        ]), ɵngcc0.ɵɵInheritDefinitionFeature], decls: 2, vars: 14, consts: [[3, "isRange", "value", "open", "disabled", "format", "allowClear", "className", "autoFocus", "placeholder", "readonly", "size", "suffixIcon", "placement", "valueChange", "openChange"], [3, "isRange", "showWeek", "panelMode", "defaultPickerValue", "value", "showTime", "mustShowTime", "format", "dateRender", "disabledDate", "minDate", "maxDate", "className", "panelModeChange", "showTimePickerChange", "valueChange", "calendarChange", "resultOk", 4, "ngIf"], [3, "isRange", "showWeek", "panelMode", "defaultPickerValue", "value", "showTime", "mustShowTime", "format", "dateRender", "disabledDate", "minDate", "maxDate", "className", "panelModeChange", "showTimePickerChange", "valueChange", "calendarChange", "resultOk"]], template: function ThyDatePickerComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "thy-picker", 0);
        ɵngcc0.ɵɵlistener("valueChange", function ThyDatePickerComponent_Template_thy_picker_valueChange_0_listener($event) { return ctx.onValueChange($event); })("openChange", function ThyDatePickerComponent_Template_thy_picker_openChange_0_listener($event) { return ctx.onOpenChange($event); });
        ɵngcc0.ɵɵtemplate(1, ThyDatePickerComponent_date_popup_1_Template, 1, 13, "date-popup", 1);
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        ɵngcc0.ɵɵproperty("isRange", ctx.isRange)("value", ctx.thyValue)("open", ctx.thyOpen)("disabled", ctx.thyDisabled)("format", ctx.thyFormat)("allowClear", ctx.thyAllowClear)("className", ctx.thyOriginClassName)("autoFocus", ctx.thyAutoFocus)("placeholder", ctx.thyPlaceHolder)("readonly", ctx.thyReadonly)("size", ctx.thySize)("suffixIcon", ctx.thySuffixIcon)("placement", ctx.thyPlacement);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.realOpenState);
    } }, directives: [ThyPickerComponent, ɵngcc1.NgIf, DatePopupComponent], encapsulation: 2, changeDetection: 0 });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ThyDatePickerComponent, [{
        type: i0.Component,
        args: [{
                changeDetection: i0.ChangeDetectionStrategy.OnPush,
                selector: 'thy-date-picker',
                exportAs: 'thyDatePicker',
                template: "<thy-picker\n  [isRange]=\"isRange\"\n  [value]=\"thyValue\"\n  (valueChange)=\"onValueChange($event)\"\n  [open]=\"thyOpen\"\n  [disabled]=\"thyDisabled\"\n  [format]=\"thyFormat\"\n  [allowClear]=\"thyAllowClear\"\n  [className]=\"thyOriginClassName\"\n  [autoFocus]=\"thyAutoFocus\"\n  [placeholder]=\"thyPlaceHolder\"\n  [readonly]=\"thyReadonly\"\n  [size]=\"thySize\"\n  [suffixIcon]=\"thySuffixIcon\"\n  [placement]=\"thyPlacement\"\n  (openChange)=\"onOpenChange($event)\"\n>\n  <date-popup\n    *ngIf=\"realOpenState\"\n    [isRange]=\"isRange\"\n    [showWeek]=\"showWeek\"\n    [panelMode]=\"thyMode\"\n    [defaultPickerValue]=\"thyDefaultPickerValue\"\n    (panelModeChange)=\"thyOnPanelChange.emit($event)\"\n    (showTimePickerChange)=\"onShowTimePickerChange($event)\"\n    [value]=\"thyValue\"\n    (valueChange)=\"onValueChange($event)\"\n    (calendarChange)=\"onCalendarChange($event)\"\n    [showTime]=\"thyShowTime\"\n    [mustShowTime]=\"withTime\"\n    [format]=\"thyFormat\"\n    [dateRender]=\"thyDateRender\"\n    [disabledDate]=\"thyDisabledDate\"\n    [minDate]=\"thyMinDate\"\n    [maxDate]=\"thyMaxDate\"\n    [className]=\"thyPanelClassName\"\n    (resultOk)=\"onResultOk()\"\n  ></date-popup>\n</thy-picker>\n",
                providers: [
                    {
                        provide: forms.NG_VALUE_ACCESSOR,
                        multi: true,
                        useExisting: i0.forwardRef(function () { return ThyDatePickerComponent; })
                    }
                ]
            }]
    }], function () { return [{ type: ɵngcc0.ChangeDetectorRef }, { type: ɵngcc0.Renderer2 }, { type: ɵngcc0.ElementRef }]; }, null); })();
        return ThyDatePickerComponent;
    }(BasePickerComponent));
    ThyDatePickerComponent.ctorParameters = function () { return [
        { type: i0.ChangeDetectorRef },
        { type: i0.Renderer2 },
        { type: i0.ElementRef }
    ]; };

    var ThyMonthPickerComponent = /** @class */ (function (_super) {
        __extends(ThyMonthPickerComponent, _super);
        function ThyMonthPickerComponent(cdr, renderer, elementRef) {
            var _this = _super.call(this, cdr) || this;
            _this.thyFormat = 'yyyy-MM';
            _this.endPanelMode = 'month';
            renderer.addClass(elementRef.nativeElement, 'thy-calendar-picker');
            return _this;
        }
ThyMonthPickerComponent.ɵfac = function ThyMonthPickerComponent_Factory(t) { return new (t || ThyMonthPickerComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef)); };
ThyMonthPickerComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: ThyMonthPickerComponent, selectors: [["thy-month-picker"]], inputs: { thyFormat: "thyFormat" }, exportAs: ["thyMonthPicker"], features: [ɵngcc0.ɵɵProvidersFeature([
            {
                provide: forms.NG_VALUE_ACCESSOR,
                multi: true,
                useExisting: i0.forwardRef(function () { return ThyMonthPickerComponent; })
            }
        ]), ɵngcc0.ɵɵInheritDefinitionFeature], decls: 2, vars: 13, consts: [[3, "isRange", "value", "open", "disabled", "format", "allowClear", "className", "autoFocus", "placeholder", "readonly", "size", "suffixIcon", "valueChange", "openChange"], [4, "ngIf"], [1, "thy-calendar-header-wrap"], [3, "disabledMonth", "disabledYear", "panelMode", "value", "enablePrev", "enableNext", "panelModeChange", "chooseYear", "chooseMonth"]], template: function ThyMonthPickerComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "thy-picker", 0);
        ɵngcc0.ɵɵlistener("valueChange", function ThyMonthPickerComponent_Template_thy_picker_valueChange_0_listener($event) { return ctx.onValueChange($event); })("openChange", function ThyMonthPickerComponent_Template_thy_picker_openChange_0_listener($event) { return ctx.onOpenChange($event); });
        ɵngcc0.ɵɵtemplate(1, ThyMonthPickerComponent_div_1_Template, 4, 9, "div", 1);
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        ɵngcc0.ɵɵproperty("isRange", false)("value", ctx.thyValue)("open", ctx.thyOpen)("disabled", ctx.thyDisabled)("format", ctx.thyFormat)("allowClear", ctx.thyAllowClear)("className", ctx.thyOriginClassName)("autoFocus", ctx.thyAutoFocus)("placeholder", ctx.thyPlaceHolder)("readonly", ctx.thyReadonly)("size", ctx.thySize)("suffixIcon", ctx.thySuffixIcon);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.realOpenState);
    } }, directives: [ThyPickerComponent, ɵngcc1.NgIf, CalendarHeaderComponent], encapsulation: 2, changeDetection: 0 });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ThyMonthPickerComponent, [{
        type: i0.Component,
        args: [{
                changeDetection: i0.ChangeDetectionStrategy.OnPush,
                selector: 'thy-month-picker',
                exportAs: 'thyMonthPicker',
                template: "<thy-picker\n  [isRange]=\"false\"\n  [value]=\"thyValue\"\n  (valueChange)=\"onValueChange($event)\"\n  [open]=\"thyOpen\"\n  [disabled]=\"thyDisabled\"\n  [format]=\"thyFormat\"\n  [allowClear]=\"thyAllowClear\"\n  [className]=\"thyOriginClassName\"\n  [autoFocus]=\"thyAutoFocus\"\n  [placeholder]=\"thyPlaceHolder\"\n  [readonly]=\"thyReadonly\"\n  [size]=\"thySize\"\n  [suffixIcon]=\"thySuffixIcon\"\n  (openChange)=\"onOpenChange($event)\"\n>\n  <div *ngIf=\"realOpenState\">\n    <div class=\"thy-calendar-picker-container thy-calendar thy-calendar-month {{ thyPanelClassName }}\">\n      <div class=\"thy-calendar-header-wrap\">\n        <calendar-header\n          [disabledMonth]=\"thyDisabledDate\"\n          [disabledYear]=\"thyDisabledDate\"\n          [panelMode]=\"panelMode\"\n          (panelModeChange)=\"onPanelModeChange($event)\"\n          [value]=\"thyValue\"\n          (chooseYear)=\"onChooseValue('year', $event)\"\n          (chooseMonth)=\"onChooseValue('month', $event)\"\n          [enablePrev]=\"true\"\n          [enableNext]=\"true\"\n        ></calendar-header>\n      </div>\n    </div>\n  </div>\n</thy-picker>\n",
                providers: [
                    {
                        provide: forms.NG_VALUE_ACCESSOR,
                        multi: true,
                        useExisting: i0.forwardRef(function () { return ThyMonthPickerComponent; })
                    }
                ]
            }]
    }], function () { return [{ type: ɵngcc0.ChangeDetectorRef }, { type: ɵngcc0.Renderer2 }, { type: ɵngcc0.ElementRef }]; }, { thyFormat: [{
            type: i0.Input
        }] }); })();
        return ThyMonthPickerComponent;
    }(HeaderPickerComponent));
    ThyMonthPickerComponent.ctorParameters = function () { return [
        { type: i0.ChangeDetectorRef },
        { type: i0.Renderer2 },
        { type: i0.ElementRef }
    ]; };
    ThyMonthPickerComponent.propDecorators = {
        thyFormat: [{ type: i0.Input }]
    };

    var ThyRangePickerComponent = /** @class */ (function (_super) {
        __extends(ThyRangePickerComponent, _super);
        function ThyRangePickerComponent(cdr, renderer, elementRef) {
            var _this = _super.call(this, cdr) || this;
            _this.renderer = renderer;
            _this.elementRef = elementRef;
            _this.isRange = true;
            renderer.addClass(elementRef.nativeElement, 'thy-calendar-picker');
            return _this;
        }
ThyRangePickerComponent.ɵfac = function ThyRangePickerComponent_Factory(t) { return new (t || ThyRangePickerComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef)); };
ThyRangePickerComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: ThyRangePickerComponent, selectors: [["thy-range-picker"]], exportAs: ["thyRangePicker"], features: [ɵngcc0.ɵɵProvidersFeature([
            {
                provide: forms.NG_VALUE_ACCESSOR,
                multi: true,
                useExisting: i0.forwardRef(function () { return ThyRangePickerComponent; })
            }
        ]), ɵngcc0.ɵɵInheritDefinitionFeature], decls: 2, vars: 14, consts: [[3, "isRange", "value", "open", "disabled", "format", "allowClear", "className", "autoFocus", "placeholder", "readonly", "size", "suffixIcon", "placement", "valueChange", "openChange"], [3, "isRange", "showWeek", "panelMode", "defaultPickerValue", "value", "showTime", "mustShowTime", "format", "dateRender", "disabledDate", "minDate", "maxDate", "className", "panelModeChange", "showTimePickerChange", "valueChange", "calendarChange", "resultOk", 4, "ngIf"], [3, "isRange", "showWeek", "panelMode", "defaultPickerValue", "value", "showTime", "mustShowTime", "format", "dateRender", "disabledDate", "minDate", "maxDate", "className", "panelModeChange", "showTimePickerChange", "valueChange", "calendarChange", "resultOk"]], template: function ThyRangePickerComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "thy-picker", 0);
        ɵngcc0.ɵɵlistener("valueChange", function ThyRangePickerComponent_Template_thy_picker_valueChange_0_listener($event) { return ctx.onValueChange($event); })("openChange", function ThyRangePickerComponent_Template_thy_picker_openChange_0_listener($event) { return ctx.onOpenChange($event); });
        ɵngcc0.ɵɵtemplate(1, ThyRangePickerComponent_date_popup_1_Template, 1, 13, "date-popup", 1);
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        ɵngcc0.ɵɵproperty("isRange", ctx.isRange)("value", ctx.thyValue)("open", ctx.thyOpen)("disabled", ctx.thyDisabled)("format", ctx.thyFormat)("allowClear", ctx.thyAllowClear)("className", ctx.thyOriginClassName)("autoFocus", ctx.thyAutoFocus)("placeholder", ctx.thyPlaceHolder)("readonly", ctx.thyReadonly)("size", ctx.thySize)("suffixIcon", ctx.thySuffixIcon)("placement", ctx.thyPlacement);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.realOpenState);
    } }, directives: [ThyPickerComponent, ɵngcc1.NgIf, DatePopupComponent], encapsulation: 2, changeDetection: 0 });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ThyRangePickerComponent, [{
        type: i0.Component,
        args: [{
                changeDetection: i0.ChangeDetectionStrategy.OnPush,
                selector: 'thy-range-picker',
                exportAs: 'thyRangePicker',
                template: "<thy-picker\n  [isRange]=\"isRange\"\n  [value]=\"thyValue\"\n  (valueChange)=\"onValueChange($event)\"\n  [open]=\"thyOpen\"\n  [disabled]=\"thyDisabled\"\n  [format]=\"thyFormat\"\n  [allowClear]=\"thyAllowClear\"\n  [className]=\"thyOriginClassName\"\n  [autoFocus]=\"thyAutoFocus\"\n  [placeholder]=\"thyPlaceHolder\"\n  [readonly]=\"thyReadonly\"\n  [size]=\"thySize\"\n  [suffixIcon]=\"thySuffixIcon\"\n  [placement]=\"thyPlacement\"\n  (openChange)=\"onOpenChange($event)\"\n>\n  <date-popup\n    *ngIf=\"realOpenState\"\n    [isRange]=\"isRange\"\n    [showWeek]=\"showWeek\"\n    [panelMode]=\"thyMode\"\n    [defaultPickerValue]=\"thyDefaultPickerValue\"\n    (panelModeChange)=\"thyOnPanelChange.emit($event)\"\n    (showTimePickerChange)=\"onShowTimePickerChange($event)\"\n    [value]=\"thyValue\"\n    (valueChange)=\"onValueChange($event)\"\n    (calendarChange)=\"onCalendarChange($event)\"\n    [showTime]=\"thyShowTime\"\n    [mustShowTime]=\"withTime\"\n    [format]=\"thyFormat\"\n    [dateRender]=\"thyDateRender\"\n    [disabledDate]=\"thyDisabledDate\"\n    [minDate]=\"thyMinDate\"\n    [maxDate]=\"thyMaxDate\"\n    [className]=\"thyPanelClassName\"\n    (resultOk)=\"onResultOk()\"\n  ></date-popup>\n</thy-picker>\n",
                providers: [
                    {
                        provide: forms.NG_VALUE_ACCESSOR,
                        multi: true,
                        useExisting: i0.forwardRef(function () { return ThyRangePickerComponent; })
                    }
                ]
            }]
    }], function () { return [{ type: ɵngcc0.ChangeDetectorRef }, { type: ɵngcc0.Renderer2 }, { type: ɵngcc0.ElementRef }]; }, null); })();
        return ThyRangePickerComponent;
    }(BasePickerComponent));
    ThyRangePickerComponent.ctorParameters = function () { return [
        { type: i0.ChangeDetectorRef },
        { type: i0.Renderer2 },
        { type: i0.ElementRef }
    ]; };

    var ThyWeekPickerComponent = /** @class */ (function (_super) {
        __extends(ThyWeekPickerComponent, _super);
        function ThyWeekPickerComponent(cdr, renderer, elementRef) {
            var _this = _super.call(this, cdr) || this;
            _this.showWeek = true;
            renderer.addClass(elementRef.nativeElement, 'thy-calendar-picker');
            return _this;
        }
ThyWeekPickerComponent.ɵfac = function ThyWeekPickerComponent_Factory(t) { return new (t || ThyWeekPickerComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef)); };
ThyWeekPickerComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: ThyWeekPickerComponent, selectors: [["thy-week-picker"]], exportAs: ["thyWeekPicker"], features: [ɵngcc0.ɵɵProvidersFeature([
            {
                provide: forms.NG_VALUE_ACCESSOR,
                multi: true,
                useExisting: i0.forwardRef(function () { return ThyWeekPickerComponent; })
            }
        ]), ɵngcc0.ɵɵInheritDefinitionFeature], decls: 2, vars: 14, consts: [[3, "isRange", "value", "open", "disabled", "format", "allowClear", "className", "autoFocus", "placeholder", "readonly", "size", "suffixIcon", "placement", "valueChange", "openChange"], [3, "isRange", "showWeek", "panelMode", "defaultPickerValue", "value", "showTime", "mustShowTime", "format", "dateRender", "disabledDate", "minDate", "maxDate", "className", "panelModeChange", "showTimePickerChange", "valueChange", "calendarChange", "resultOk", 4, "ngIf"], [3, "isRange", "showWeek", "panelMode", "defaultPickerValue", "value", "showTime", "mustShowTime", "format", "dateRender", "disabledDate", "minDate", "maxDate", "className", "panelModeChange", "showTimePickerChange", "valueChange", "calendarChange", "resultOk"]], template: function ThyWeekPickerComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "thy-picker", 0);
        ɵngcc0.ɵɵlistener("valueChange", function ThyWeekPickerComponent_Template_thy_picker_valueChange_0_listener($event) { return ctx.onValueChange($event); })("openChange", function ThyWeekPickerComponent_Template_thy_picker_openChange_0_listener($event) { return ctx.onOpenChange($event); });
        ɵngcc0.ɵɵtemplate(1, ThyWeekPickerComponent_date_popup_1_Template, 1, 13, "date-popup", 1);
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        ɵngcc0.ɵɵproperty("isRange", ctx.isRange)("value", ctx.thyValue)("open", ctx.thyOpen)("disabled", ctx.thyDisabled)("format", ctx.thyFormat)("allowClear", ctx.thyAllowClear)("className", ctx.thyOriginClassName)("autoFocus", ctx.thyAutoFocus)("placeholder", ctx.thyPlaceHolder)("readonly", ctx.thyReadonly)("size", ctx.thySize)("suffixIcon", ctx.thySuffixIcon)("placement", ctx.thyPlacement);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.realOpenState);
    } }, directives: [ThyPickerComponent, ɵngcc1.NgIf, DatePopupComponent], encapsulation: 2, changeDetection: 0 });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ThyWeekPickerComponent, [{
        type: i0.Component,
        args: [{
                changeDetection: i0.ChangeDetectionStrategy.OnPush,
                selector: 'thy-week-picker',
                exportAs: 'thyWeekPicker',
                template: "<thy-picker\n  [isRange]=\"isRange\"\n  [value]=\"thyValue\"\n  (valueChange)=\"onValueChange($event)\"\n  [open]=\"thyOpen\"\n  [disabled]=\"thyDisabled\"\n  [format]=\"thyFormat\"\n  [allowClear]=\"thyAllowClear\"\n  [className]=\"thyOriginClassName\"\n  [autoFocus]=\"thyAutoFocus\"\n  [placeholder]=\"thyPlaceHolder\"\n  [readonly]=\"thyReadonly\"\n  [size]=\"thySize\"\n  [suffixIcon]=\"thySuffixIcon\"\n  [placement]=\"thyPlacement\"\n  (openChange)=\"onOpenChange($event)\"\n>\n  <date-popup\n    *ngIf=\"realOpenState\"\n    [isRange]=\"isRange\"\n    [showWeek]=\"showWeek\"\n    [panelMode]=\"thyMode\"\n    [defaultPickerValue]=\"thyDefaultPickerValue\"\n    (panelModeChange)=\"thyOnPanelChange.emit($event)\"\n    (showTimePickerChange)=\"onShowTimePickerChange($event)\"\n    [value]=\"thyValue\"\n    (valueChange)=\"onValueChange($event)\"\n    (calendarChange)=\"onCalendarChange($event)\"\n    [showTime]=\"thyShowTime\"\n    [mustShowTime]=\"withTime\"\n    [format]=\"thyFormat\"\n    [dateRender]=\"thyDateRender\"\n    [disabledDate]=\"thyDisabledDate\"\n    [minDate]=\"thyMinDate\"\n    [maxDate]=\"thyMaxDate\"\n    [className]=\"thyPanelClassName\"\n    (resultOk)=\"onResultOk()\"\n  ></date-popup>\n</thy-picker>\n",
                providers: [
                    {
                        provide: forms.NG_VALUE_ACCESSOR,
                        multi: true,
                        useExisting: i0.forwardRef(function () { return ThyWeekPickerComponent; })
                    }
                ]
            }]
    }], function () { return [{ type: ɵngcc0.ChangeDetectorRef }, { type: ɵngcc0.Renderer2 }, { type: ɵngcc0.ElementRef }]; }, null); })();
        return ThyWeekPickerComponent;
    }(BasePickerComponent));
    ThyWeekPickerComponent.ctorParameters = function () { return [
        { type: i0.ChangeDetectorRef },
        { type: i0.Renderer2 },
        { type: i0.ElementRef }
    ]; };

    var ThyYearPickerComponent = /** @class */ (function (_super) {
        __extends(ThyYearPickerComponent, _super);
        function ThyYearPickerComponent(cdr, renderer, elementRef) {
            var _this = _super.call(this, cdr) || this;
            _this.thyFormat = 'yyyy';
            _this.endPanelMode = 'year';
            renderer.addClass(elementRef.nativeElement, 'thy-calendar-picker');
            return _this;
        }
ThyYearPickerComponent.ɵfac = function ThyYearPickerComponent_Factory(t) { return new (t || ThyYearPickerComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef)); };
ThyYearPickerComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: ThyYearPickerComponent, selectors: [["thy-year-picker"]], inputs: { thyFormat: "thyFormat" }, exportAs: ["thyYearPicker"], features: [ɵngcc0.ɵɵProvidersFeature([
            {
                provide: forms.NG_VALUE_ACCESSOR,
                multi: true,
                useExisting: i0.forwardRef(function () { return ThyYearPickerComponent; })
            }
        ]), ɵngcc0.ɵɵInheritDefinitionFeature], decls: 2, vars: 13, consts: [[3, "isRange", "value", "open", "disabled", "format", "allowClear", "className", "autoFocus", "placeholder", "readonly", "size", "suffixIcon", "valueChange", "openChange"], [4, "ngIf"], [1, "thy-calendar-header-wrap"], [3, "disabledMonth", "disabledYear", "panelMode", "value", "enablePrev", "enableNext", "panelModeChange", "chooseYear", "chooseMonth"]], template: function ThyYearPickerComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "thy-picker", 0);
        ɵngcc0.ɵɵlistener("valueChange", function ThyYearPickerComponent_Template_thy_picker_valueChange_0_listener($event) { return ctx.onValueChange($event); })("openChange", function ThyYearPickerComponent_Template_thy_picker_openChange_0_listener($event) { return ctx.onOpenChange($event); });
        ɵngcc0.ɵɵtemplate(1, ThyYearPickerComponent_div_1_Template, 4, 9, "div", 1);
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        ɵngcc0.ɵɵproperty("isRange", false)("value", ctx.thyValue)("open", ctx.thyOpen)("disabled", ctx.thyDisabled)("format", ctx.thyFormat)("allowClear", ctx.thyAllowClear)("className", ctx.thyOriginClassName)("autoFocus", ctx.thyAutoFocus)("placeholder", ctx.thyPlaceHolder)("readonly", ctx.thyReadonly)("size", ctx.thySize)("suffixIcon", ctx.thySuffixIcon);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.realOpenState);
    } }, directives: [ThyPickerComponent, ɵngcc1.NgIf, CalendarHeaderComponent], encapsulation: 2, changeDetection: 0 });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ThyYearPickerComponent, [{
        type: i0.Component,
        args: [{
                changeDetection: i0.ChangeDetectionStrategy.OnPush,
                selector: 'thy-year-picker',
                exportAs: 'thyYearPicker',
                template: "<thy-picker\n  [isRange]=\"false\"\n  [value]=\"thyValue\"\n  (valueChange)=\"onValueChange($event)\"\n  [open]=\"thyOpen\"\n  [disabled]=\"thyDisabled\"\n  [format]=\"thyFormat\"\n  [allowClear]=\"thyAllowClear\"\n  [className]=\"thyOriginClassName\"\n  [autoFocus]=\"thyAutoFocus\"\n  [placeholder]=\"thyPlaceHolder\"\n  [readonly]=\"thyReadonly\"\n  [size]=\"thySize\"\n  [suffixIcon]=\"thySuffixIcon\"\n  (openChange)=\"onOpenChange($event)\"\n>\n  <div *ngIf=\"realOpenState\">\n    <div class=\"thy-calendar-picker-container thy-calendar thy-calendar-month {{ thyPanelClassName }}\">\n      <div class=\"thy-calendar-header-wrap\">\n        <calendar-header\n          [disabledMonth]=\"thyDisabledDate\"\n          [disabledYear]=\"thyDisabledDate\"\n          [panelMode]=\"panelMode\"\n          (panelModeChange)=\"onPanelModeChange($event)\"\n          [value]=\"thyValue\"\n          (chooseYear)=\"onChooseValue('year', $event)\"\n          (chooseMonth)=\"onChooseValue('month', $event)\"\n          [enablePrev]=\"true\"\n          [enableNext]=\"true\"\n        ></calendar-header>\n      </div>\n    </div>\n  </div>\n</thy-picker>\n",
                providers: [
                    {
                        provide: forms.NG_VALUE_ACCESSOR,
                        multi: true,
                        useExisting: i0.forwardRef(function () { return ThyYearPickerComponent; })
                    }
                ]
            }]
    }], function () { return [{ type: ɵngcc0.ChangeDetectorRef }, { type: ɵngcc0.Renderer2 }, { type: ɵngcc0.ElementRef }]; }, { thyFormat: [{
            type: i0.Input
        }] }); })();
        return ThyYearPickerComponent;
    }(HeaderPickerComponent));
    ThyYearPickerComponent.ctorParameters = function () { return [
        { type: i0.ChangeDetectorRef },
        { type: i0.Renderer2 },
        { type: i0.ElementRef }
    ]; };
    ThyYearPickerComponent.propDecorators = {
        thyFormat: [{ type: i0.Input }]
    };

    var DATE_PICKER_REQUIRED_VALIDATOR = {
        provide: forms.NG_VALIDATORS,
        // tslint:disable-next-line: no-use-before-declare
        useExisting: i0.forwardRef(function () { return DatePickerRequiredValidator; }),
        multi: true
    };
    var DatePickerRequiredValidator = /** @class */ (function () {
        function DatePickerRequiredValidator() {
        }
        Object.defineProperty(DatePickerRequiredValidator.prototype, "required", {
            get: function () {
                return this._required;
            },
            set: function (value) {
                this._required = value != null && value !== false && "" + value !== 'false';
            },
            enumerable: false,
            configurable: true
        });
        DatePickerRequiredValidator.prototype.validate = function (control) {
            return this.required ? this.validateRequired(control) : null;
        };
        DatePickerRequiredValidator.prototype.validateRequired = function (control) {
            return isEmptyInputDateValue(control.value) ? { required: true } : null;
        };
DatePickerRequiredValidator.ɵfac = function DatePickerRequiredValidator_Factory(t) { return new (t || DatePickerRequiredValidator)(); };
DatePickerRequiredValidator.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: DatePickerRequiredValidator, selectors: [["", "thyDatePicker", "", "required", "", "formControlName", ""], ["", "thyDatePicker", "", "required", "", "formControl", ""], ["", "thyDatePicker", "", "required", "", "ngModel", ""], ["thy-date-picker", "required", "", "formControlName", ""], ["thy-date-picker", "required", "", "formControl", ""], ["thy-date-picker", "required", "", "ngModel", ""]], inputs: { required: "required" }, features: [ɵngcc0.ɵɵProvidersFeature([DATE_PICKER_REQUIRED_VALIDATOR])] });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DatePickerRequiredValidator, [{
        type: i0.Directive,
        args: [{
                selector: '[thyDatePicker][required][formControlName],[thyDatePicker][required][formControl],[thyDatePicker][required][ngModel],thy-date-picker[required][formControlName],thy-date-picker[required][formControl],thy-date-picker[required][ngModel]',
                providers: [DATE_PICKER_REQUIRED_VALIDATOR]
            }]
    }], function () { return []; }, { required: [{
            type: i0.Input
        }] }); })();
        return DatePickerRequiredValidator;
    }());
    DatePickerRequiredValidator.propDecorators = {
        required: [{ type: i0.Input }]
    };
    var RANGE_PICKER_REQUIRED_VALIDATOR = {
        provide: forms.NG_VALIDATORS,
        // tslint:disable-next-line: no-use-before-declare
        useExisting: i0.forwardRef(function () { return RangePickerRequiredValidator; }),
        multi: true
    };
    var RangePickerRequiredValidator = /** @class */ (function () {
        function RangePickerRequiredValidator() {
        }
        Object.defineProperty(RangePickerRequiredValidator.prototype, "required", {
            get: function () {
                return this._required;
            },
            set: function (value) {
                this._required = value != null && value !== false && "" + value !== 'false';
            },
            enumerable: false,
            configurable: true
        });
        RangePickerRequiredValidator.prototype.validate = function (control) {
            return this.required ? this.validateRequired(control) : null;
        };
        RangePickerRequiredValidator.prototype.validateRequired = function (control) {
            return isEmptyInputRangeValue(control.value) ? { required: true } : null;
        };
RangePickerRequiredValidator.ɵfac = function RangePickerRequiredValidator_Factory(t) { return new (t || RangePickerRequiredValidator)(); };
RangePickerRequiredValidator.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: RangePickerRequiredValidator, selectors: [["", "thyRangePicker", "", "required", "", "formControlName", ""], ["", "thyRangePicker", "", "required", "", "formControl", ""], ["", "thyRangePicker", "", "required", "", "ngModel", ""], ["thy-range-picker", "required", "", "formControlName", ""], ["thy-range-picker", "required", "", "formControl", ""], ["thy-range-picker", "required", "", "ngModel", ""]], inputs: { required: "required" }, features: [ɵngcc0.ɵɵProvidersFeature([RANGE_PICKER_REQUIRED_VALIDATOR])] });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(RangePickerRequiredValidator, [{
        type: i0.Directive,
        args: [{
                selector: '[thyRangePicker][required][formControlName],[thyRangePicker][required][formControl],[thyRangePicker][required][ngModel],thy-range-picker[required][formControlName],thy-range-picker[required][formControl],thy-range-picker[required][ngModel]',
                providers: [RANGE_PICKER_REQUIRED_VALIDATOR]
            }]
    }], function () { return []; }, { required: [{
            type: i0.Input
        }] }); })();
        return RangePickerRequiredValidator;
    }());
    RangePickerRequiredValidator.propDecorators = {
        required: [{ type: i0.Input }]
    };
    function isEmptyInputRangeValue(value) {
        return value == null || (instanceOfRangeEntry(value) && (value.begin == null || value.end == null));
    }
    function isEmptyInputDateValue(value) {
        return value == null || (instanceOfDateEntry(value) && value.date == null);
    }

    var ThyDatePickerFormatPipe = /** @class */ (function () {
        function ThyDatePickerFormatPipe(dateHelper) {
            this.dateHelper = dateHelper;
        }
        ThyDatePickerFormatPipe.prototype.transform = function (originalValue, formatStr) {
            var _this = this;
            var _a = transformDateValue(originalValue), value = _a.value, withTime = _a.withTime;
            if (!formatStr) {
                formatStr = withTime ? 'yyyy-MM-dd HH:mm' : 'yyyy-MM-dd';
            }
            if (!Array.isArray(value)) {
                return this.dateHelper.format(value, formatStr);
            }
            else {
                return value.map(function (date) { return _this.dateHelper.format(date, formatStr); }).join(' ~ ');
            }
        };
ThyDatePickerFormatPipe.ɵfac = function ThyDatePickerFormatPipe_Factory(t) { return new (t || ThyDatePickerFormatPipe)(ɵngcc0.ɵɵdirectiveInject(DateHelperService)); };
ThyDatePickerFormatPipe.ɵpipe = ɵngcc0.ɵɵdefinePipe({ name: "thyDatePickerFormat", type: ThyDatePickerFormatPipe, pure: true });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ThyDatePickerFormatPipe, [{
        type: i0.Pipe,
        args: [{ name: 'thyDatePickerFormat' }]
    }], function () { return [{ type: DateHelperService }]; }, null); })();
        return ThyDatePickerFormatPipe;
    }());
    ThyDatePickerFormatPipe.ctorParameters = function () { return [
        { type: DateHelperService }
    ]; };
    var ThyDatePickerFormatStringPipe = /** @class */ (function () {
        function ThyDatePickerFormatStringPipe(dateHelper) {
            this.dateHelper = dateHelper;
        }
        ThyDatePickerFormatStringPipe.prototype.transform = function (originalValue) {
            var withTime = transformDateValue(originalValue).withTime;
            return withTime ? 'yyyy-MM-dd HH:mm' : 'yyyy-MM-dd';
        };
ThyDatePickerFormatStringPipe.ɵfac = function ThyDatePickerFormatStringPipe_Factory(t) { return new (t || ThyDatePickerFormatStringPipe)(ɵngcc0.ɵɵdirectiveInject(DateHelperService)); };
ThyDatePickerFormatStringPipe.ɵpipe = ɵngcc0.ɵɵdefinePipe({ name: "thyDatePickerFormatString", type: ThyDatePickerFormatStringPipe, pure: true });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ThyDatePickerFormatStringPipe, [{
        type: i0.Pipe,
        args: [{ name: 'thyDatePickerFormatString' }]
    }], function () { return [{ type: DateHelperService }]; }, null); })();
        return ThyDatePickerFormatStringPipe;
    }());
    ThyDatePickerFormatStringPipe.ctorParameters = function () { return [
        { type: DateHelperService }
    ]; };

    var PickerDirective = /** @class */ (function (_super) {
        __extends(PickerDirective, _super);
        function PickerDirective(elementRef, cdr, thyPopover) {
            var _this = _super.call(this, cdr) || this;
            _this.elementRef = elementRef;
            _this.cdr = cdr;
            _this.thyPopover = thyPopover;
            _this.showWeek = false;
            _this.thyOnPanelChange = new i0.EventEmitter();
            _this.thyOnCalendarChange = new i0.EventEmitter();
            _this.thyMustShowTime = false;
            _this.thyPlacement = 'bottom';
            _this.offset = 4;
            _this.hasBackdrop = true;
            _this.thyStopPropagation = true;
            _this.destroy$ = new rxjs.Subject();
            _this.el = _this.elementRef.nativeElement;
            _this.$click = rxjs.fromEvent(_this.el, 'click').pipe(operators.tap(function (e) {
                if (_this.thyStopPropagation) {
                    e.stopPropagation();
                }
            }), operators.mapTo(true));
            return _this;
        }
        Object.defineProperty(PickerDirective.prototype, "thyShowTime", {
            get: function () {
                return this._showTime;
            },
            set: function (value) {
                this._showTime = typeof value === 'object' ? value : util.coerceBooleanProperty(value);
            },
            enumerable: false,
            configurable: true
        });
        Object.defineProperty(PickerDirective.prototype, "thyOffset", {
            set: function (value) {
                util.warnDeprecation("thyOffset parameter will be deprecated, please use thyPopoverOptions instead.");
                this.offset = value;
            },
            enumerable: false,
            configurable: true
        });
        Object.defineProperty(PickerDirective.prototype, "thyHasBackdrop", {
            set: function (value) {
                util.warnDeprecation("thyHasBackdrop parameter will be deprecated, please use thyPopoverOptions instead.");
                this.hasBackdrop = value;
            },
            enumerable: false,
            configurable: true
        });
        PickerDirective.prototype.openOverlay = function () {
            var _this = this;
            var popoverRef = this.thyPopover.open(DatePopupComponent, Object.assign({
                origin: this.el,
                hasBackdrop: this.hasBackdrop,
                backdropClass: 'thy-overlay-transparent-backdrop',
                offset: this.offset,
                initialState: {
                    isRange: this.isRange,
                    showWeek: this.showWeek,
                    value: this.thyValue,
                    showTime: this.thyShowTime,
                    mustShowTime: this.withTime,
                    format: this.thyFormat,
                    dateRender: this.thyDateRender,
                    disabledDate: this.thyDisabledDate,
                    placeholder: this.thyPlaceHolder,
                    className: this.thyPanelClassName,
                    defaultPickerValue: this.thyDefaultPickerValue,
                    minDate: this.thyMinDate,
                    maxDate: this.thyMaxDate
                },
                placement: this.thyPlacement
            }, this.thyPopoverOptions));
            if (popoverRef) {
                var componentInstance = popoverRef.componentInstance;
                componentInstance.valueChange.pipe(operators.takeUntil(this.destroy$)).subscribe(function (event) { return _this.onValueChange(event); });
                componentInstance.calendarChange.pipe(operators.takeUntil(this.destroy$)).subscribe(function (event) {
                    var rangeValue = coercion.coerceArray(event).map(function (x) { return x.nativeDate; });
                    _this.thyOnCalendarChange.emit(rangeValue);
                });
                componentInstance.showTimePickerChange
                    .pipe(operators.takeUntil(this.destroy$))
                    .subscribe(function (event) { return _this.onShowTimePickerChange(event); });
                // tslint:disable-next-line: max-line-length
                componentInstance.ngOnChanges({ value: {} }); // dynamically created components don't call ngOnChanges, manual call
                popoverRef
                    .afterOpened()
                    .pipe(operators.takeUntil(this.destroy$))
                    .subscribe(function () { return _this.thyOpenChange.emit(true); });
                popoverRef
                    .afterClosed()
                    .pipe(operators.takeUntil(this.destroy$))
                    .subscribe(function () { return _this.thyOpenChange.emit(false); });
            }
        };
        PickerDirective.prototype.closeOverlay = function () {
            this.thyPopover.close();
        };
        PickerDirective.prototype.initActionSubscribe = function () {
            var _this = this;
            this.$click.pipe(operators.debounceTime(50), operators.takeUntil(this.destroy$)).subscribe(function () {
                if (!_this.thyDisabled && !_this.thyReadonly) {
                    _this.openOverlay();
                }
            });
        };
        PickerDirective.prototype.ngAfterViewInit = function () {
            this.setDefaultTimePickerState();
            this.initActionSubscribe();
        };
        PickerDirective.prototype.ngOnDestroy = function () {
            this.destroy$.next();
            this.destroy$.complete();
        };
        PickerDirective.prototype.onValueChange = function (value) {
            this.restoreTimePickerState(value);
            _super.prototype.onValueChange.call(this, value);
            this.closeOverlay();
        };
        // Displays the time directly when the time must be displayed by default
        PickerDirective.prototype.setDefaultTimePickerState = function () {
            this.withTime = this.thyMustShowTime;
        };
        // Restore after clearing time to select whether the original picker time is displayed or not
        PickerDirective.prototype.restoreTimePickerState = function (value) {
            if (!value) {
                this.withTime = this.thyMustShowTime || this.originWithTime;
            }
        };
        PickerDirective.prototype.onShowTimePickerChange = function (show) {
            this.withTime = show;
        };
PickerDirective.ɵfac = function PickerDirective_Factory(t) { return new (t || PickerDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc8.ThyPopover)); };
PickerDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: PickerDirective, inputs: { thyShowTime: "thyShowTime", thyOffset: "thyOffset", thyHasBackdrop: "thyHasBackdrop", thyDateRender: "thyDateRender", thyMode: "thyMode", thyMustShowTime: "thyMustShowTime", thyPlacement: "thyPlacement", thyPopoverOptions: "thyPopoverOptions", thyStopPropagation: "thyStopPropagation" }, outputs: { thyOnPanelChange: "thyOnPanelChange", thyOnCalendarChange: "thyOnCalendarChange" }, features: [ɵngcc0.ɵɵInheritDefinitionFeature] });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(PickerDirective, [{
        type: i0.Directive
    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc0.ChangeDetectorRef }, { type: ɵngcc8.ThyPopover }]; }, { thyShowTime: [{
            type: i0.Input
        }], thyOffset: [{
            type: i0.Input
        }], thyHasBackdrop: [{
            type: i0.Input
        }], thyDateRender: [{
            type: i0.Input
        }], thyMode: [{
            type: i0.Input
        }], thyOnPanelChange: [{
            type: i0.Output
        }], thyOnCalendarChange: [{
            type: i0.Output
        }], thyMustShowTime: [{
            type: i0.Input
        }], thyPlacement: [{
            type: i0.Input
        }], thyPopoverOptions: [{
            type: i0.Input
        }], thyStopPropagation: [{
            type: i0.Input
        }] }); })();
        return PickerDirective;
    }(AbstractPickerComponent));
    PickerDirective.ctorParameters = function () { return [
        { type: i0.ElementRef },
        { type: i0.ChangeDetectorRef },
        { type: popover.ThyPopover }
    ]; };
    PickerDirective.propDecorators = {
        thyDateRender: [{ type: i0.Input }],
        thyMode: [{ type: i0.Input }],
        thyOnPanelChange: [{ type: i0.Output }],
        thyOnCalendarChange: [{ type: i0.Output }],
        thyShowTime: [{ type: i0.Input }],
        thyMustShowTime: [{ type: i0.Input }],
        thyPlacement: [{ type: i0.Input }],
        thyOffset: [{ type: i0.Input }],
        thyHasBackdrop: [{ type: i0.Input }],
        thyPopoverOptions: [{ type: i0.Input }],
        thyStopPropagation: [{ type: i0.Input }]
    };

    var ThyDatePickerDirective = /** @class */ (function (_super) {
        __extends(ThyDatePickerDirective, _super);
        function ThyDatePickerDirective(elementRef, cdr, thyPopover) {
            var _this = _super.call(this, elementRef, cdr, thyPopover) || this;
            _this.isRange = false;
            return _this;
        }
ThyDatePickerDirective.ɵfac = function ThyDatePickerDirective_Factory(t) { return new (t || ThyDatePickerDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc8.ThyPopover)); };
ThyDatePickerDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: ThyDatePickerDirective, selectors: [["", "thyDatePicker", ""]], exportAs: ["thyDatePicker"], features: [ɵngcc0.ɵɵProvidersFeature([
            {
                provide: forms.NG_VALUE_ACCESSOR,
                multi: true,
                useExisting: i0.forwardRef(function () { return ThyDatePickerDirective; })
            }
        ]), ɵngcc0.ɵɵInheritDefinitionFeature] });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ThyDatePickerDirective, [{
        type: i0.Directive,
        args: [{
                selector: '[thyDatePicker]',
                exportAs: 'thyDatePicker',
                providers: [
                    {
                        provide: forms.NG_VALUE_ACCESSOR,
                        multi: true,
                        useExisting: i0.forwardRef(function () { return ThyDatePickerDirective; })
                    }
                ]
            }]
    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc0.ChangeDetectorRef }, { type: ɵngcc8.ThyPopover }]; }, null); })();
        return ThyDatePickerDirective;
    }(PickerDirective));
    ThyDatePickerDirective.ctorParameters = function () { return [
        { type: i0.ElementRef },
        { type: i0.ChangeDetectorRef },
        { type: popover.ThyPopover }
    ]; };

    var ThyRangePickerDirective = /** @class */ (function (_super) {
        __extends(ThyRangePickerDirective, _super);
        function ThyRangePickerDirective(elementRef, cdr, thyPopover) {
            var _this = _super.call(this, elementRef, cdr, thyPopover) || this;
            _this.isRange = true;
            return _this;
        }
ThyRangePickerDirective.ɵfac = function ThyRangePickerDirective_Factory(t) { return new (t || ThyRangePickerDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc8.ThyPopover)); };
ThyRangePickerDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: ThyRangePickerDirective, selectors: [["", "thyRangePicker", ""]], exportAs: ["thyRangePicker"], features: [ɵngcc0.ɵɵProvidersFeature([
            {
                provide: forms.NG_VALUE_ACCESSOR,
                multi: true,
                useExisting: i0.forwardRef(function () { return ThyRangePickerDirective; })
            }
        ]), ɵngcc0.ɵɵInheritDefinitionFeature] });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ThyRangePickerDirective, [{
        type: i0.Directive,
        args: [{
                selector: '[thyRangePicker]',
                exportAs: 'thyRangePicker',
                providers: [
                    {
                        provide: forms.NG_VALUE_ACCESSOR,
                        multi: true,
                        useExisting: i0.forwardRef(function () { return ThyRangePickerDirective; })
                    }
                ]
            }]
    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc0.ChangeDetectorRef }, { type: ɵngcc8.ThyPopover }]; }, null); })();
        return ThyRangePickerDirective;
    }(PickerDirective));
    ThyRangePickerDirective.ctorParameters = function () { return [
        { type: i0.ElementRef },
        { type: i0.ChangeDetectorRef },
        { type: popover.ThyPopover }
    ]; };

    common.registerLocaleData(localeZhHans__default['default'], 'zh-Hans');
    var ThyDatePickerModule = /** @class */ (function () {
        function ThyDatePickerModule() {
        }
ThyDatePickerModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: ThyDatePickerModule });
ThyDatePickerModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function ThyDatePickerModule_Factory(t) { return new (t || ThyDatePickerModule)(); }, imports: [[common.CommonModule, overlay.OverlayModule, LibPackerModule, icon.ThyIconModule, input.ThyInputModule, popover.ThyPopoverModule]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(ThyDatePickerModule, { declarations: [HeaderPickerComponent, BasePickerComponent, ThyPickerComponent, ThyDatePickerComponent, ThyMonthPickerComponent, ThyYearPickerComponent, ThyWeekPickerComponent, ThyRangePickerComponent, DatePickerRequiredValidator, RangePickerRequiredValidator, ThyDatePickerFormatPipe, ThyDatePickerFormatStringPipe, ThyDatePickerDirective, ThyRangePickerDirective], imports: [ɵngcc1.CommonModule, ɵngcc6.OverlayModule, LibPackerModule, ɵngcc3.ThyIconModule, ɵngcc7.ThyInputModule, ɵngcc8.ThyPopoverModule], exports: [ThyDatePickerComponent, ThyRangePickerComponent, ThyMonthPickerComponent, ThyYearPickerComponent, ThyWeekPickerComponent, DatePickerRequiredValidator, RangePickerRequiredValidator, ThyDatePickerFormatPipe, ThyDatePickerFormatStringPipe, ThyDatePickerDirective, ThyRangePickerDirective] }); })();
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ThyDatePickerModule, [{
        type: i0.NgModule,
        args: [{
                imports: [common.CommonModule, overlay.OverlayModule, LibPackerModule, icon.ThyIconModule, input.ThyInputModule, popover.ThyPopoverModule],
                exports: [
                    ThyDatePickerComponent,
                    ThyRangePickerComponent,
                    ThyMonthPickerComponent,
                    ThyYearPickerComponent,
                    ThyWeekPickerComponent,
                    DatePickerRequiredValidator,
                    RangePickerRequiredValidator,
                    ThyDatePickerFormatPipe,
                    ThyDatePickerFormatStringPipe,
                    ThyDatePickerDirective,
                    ThyRangePickerDirective
                ],
                declarations: [
                    HeaderPickerComponent,
                    BasePickerComponent,
                    ThyPickerComponent,
                    ThyDatePickerComponent,
                    ThyMonthPickerComponent,
                    ThyYearPickerComponent,
                    ThyWeekPickerComponent,
                    ThyRangePickerComponent,
                    DatePickerRequiredValidator,
                    RangePickerRequiredValidator,
                    ThyDatePickerFormatPipe,
                    ThyDatePickerFormatStringPipe,
                    ThyDatePickerDirective,
                    ThyRangePickerDirective
                ],
                entryComponents: [DatePopupComponent]
            }]
    }], function () { return []; }, null); })();
        return ThyDatePickerModule;
    }());

    /**
     * Generated bundle index. Do not edit.
     */

    exports.AbstractPickerComponent = AbstractPickerComponent;
    exports.BasePickerComponent = BasePickerComponent;
    exports.CalendarFooterComponent = CalendarFooterComponent;
    exports.CalendarHeaderComponent = CalendarHeaderComponent;
    exports.DATE_HELPER_SERVICE_FACTORY = DATE_HELPER_SERVICE_FACTORY;
    exports.DateHelperByDatePipe = DateHelperByDatePipe;
    exports.DateHelperService = DateHelperService;
    exports.DatePickerRequiredValidator = DatePickerRequiredValidator;
    exports.DatePopupComponent = DatePopupComponent;
    exports.DateTableCellComponent = DateTableCellComponent;
    exports.DateTableComponent = DateTableComponent;
    exports.DecadePanelComponent = DecadePanelComponent;
    exports.HeaderPickerComponent = HeaderPickerComponent;
    exports.InnerPopupComponent = InnerPopupComponent;
    exports.LibPackerModule = LibPackerModule;
    exports.MonthPanelComponent = MonthPanelComponent;
    exports.MonthTableComponent = MonthTableComponent;
    exports.PickerDirective = PickerDirective;
    exports.RangePickerRequiredValidator = RangePickerRequiredValidator;
    exports.ThyDatePickerComponent = ThyDatePickerComponent;
    exports.ThyDatePickerDirective = ThyDatePickerDirective;
    exports.ThyDatePickerFormatPipe = ThyDatePickerFormatPipe;
    exports.ThyDatePickerFormatStringPipe = ThyDatePickerFormatStringPipe;
    exports.ThyDatePickerModule = ThyDatePickerModule;
    exports.ThyMonthPickerComponent = ThyMonthPickerComponent;
    exports.ThyPickerComponent = ThyPickerComponent;
    exports.ThyRangePickerComponent = ThyRangePickerComponent;
    exports.ThyRangePickerDirective = ThyRangePickerDirective;
    exports.ThyWeekPickerComponent = ThyWeekPickerComponent;
    exports.ThyYearPickerComponent = ThyYearPickerComponent;
    exports.YearPanelComponent = YearPanelComponent;
    exports.instanceOfDateEntry = instanceOfDateEntry;
    exports.instanceOfRangeEntry = instanceOfRangeEntry;

    Object.defineProperty(exports, '__esModule', { value: true });

})));

//# sourceMappingURL=ngx-tethys-date-picker.umd.js.map