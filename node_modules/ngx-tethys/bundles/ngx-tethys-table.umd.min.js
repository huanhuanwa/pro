!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("ngx-tethys/core"),require("ngx-tethys/util"),require("rxjs"),require("rxjs/operators"),require("@angular/cdk/drag-drop"),require("@angular/cdk/overlay"),require("@angular/common"),require("@angular/core"),require("@angular/forms"),require("ngx-tethys/pagination"),require("ngx-tethys/switch"),require("ngx-tethys/loading"),require("ngx-tethys/empty"),require("ngx-tethys/shared"),require("ngx-tethys/icon")):"function"==typeof define&&define.amd?define("ngx-tethys/table",["exports","ngx-tethys/core","ngx-tethys/util","rxjs","rxjs/operators","@angular/cdk/drag-drop","@angular/cdk/overlay","@angular/common","@angular/core","@angular/forms","ngx-tethys/pagination","ngx-tethys/switch","ngx-tethys/loading","ngx-tethys/empty","ngx-tethys/shared","ngx-tethys/icon"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self)["ngx-tethys"]=e["ngx-tethys"]||{},e["ngx-tethys"].table={}),e["ngx-tethys"].core,e["ngx-tethys"].util,e.rxjs,e.rxjs.operators,e.ng.cdk.dragDrop,e.ng.cdk.overlay,e.ng.common,e.ng.core,e.ng.forms,e["ngx-tethys"].pagination,e["ngx-tethys"].switch,e["ngx-tethys"].loading,e["ngx-tethys"].empty,e["ngx-tethys"].shared,e["ngx-tethys"].icon)}(this,(function(e,t,n,o,i,a,r,l,s,p,h,c,u,d,y,g){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var m=function(e,t){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};Object.create;Object.create;var f=new s.InjectionToken("THY_TABLE_COLUMN_PARENT_COMPONENT"),C=f,b=function(){function e(e,t){this.el=e,this.parent=t,this.thyModelKey="",this.thyTitle="",this.thyType="",this.thyWidth="",this.thyClassName="",this.thyHeaderClassName="",this.thyDisabled=!1,this.thyDefaultText="",this.thyExpand=!1,this.selections=[],this._firstChange=!0,this.expand=!1}return Object.defineProperty(e.prototype,"thySelections",{set:function(e){e&&(Array.isArray(e)?this.selections=e:this.selections=[e],this._firstChange||this.parent.updateColumnSelections(this.key,this.selections))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"templateRef",{set:function(e){e&&(this.headerTemplateRef||this.cellTemplateRef||(this.cellTemplateRef=e))},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){this.key=this._generateKey(),this.model=this.thyModelKey,this.title=this.thyTitle,this.type=this.thyType,this.width=this.thyWidth,this.className=this.thyClassName,this.headerClassName=this.thyHeaderClassName,this.disabled=this.thyDisabled,this.defaultText=this.thyDefaultText,this._firstChange=!1,this.expand=this.thyExpand},e.prototype._generateKey=function(){return"[$$column]"+Math.random().toString(16).substr(2,8)},e}();b.decorators=[{type:s.Component,args:[{selector:"thy-grid-column,thy-table-column",template:"<ng-content></ng-content>",encapsulation:s.ViewEncapsulation.None}]}],b.ctorParameters=function(){return[{type:s.ElementRef},{type:void 0,decorators:[{type:s.Optional},{type:s.Inject,args:[C]}]}]},b.propDecorators={thyModelKey:[{type:s.Input}],thyTitle:[{type:s.Input}],thyType:[{type:s.Input}],thyWidth:[{type:s.Input}],thyClassName:[{type:s.Input}],thyHeaderClassName:[{type:s.Input}],thyDisabled:[{type:s.Input}],thySelections:[{type:s.Input}],thyDefaultText:[{type:s.Input}],thyExpand:[{type:s.Input}],headerTemplateRef:[{type:s.ContentChild,args:["header",{static:!0}]}],cellTemplateRef:[{type:s.ContentChild,args:["cell",{static:!0}]}],templateRef:[{type:s.ContentChild,args:[s.TemplateRef,{static:!0}]}]};var x=b,w={default:"table-default",bordered:"table-bordered"},T={sm:"table-sm"},v={index:"index",checkbox:"checkbox",radio:"radio",switch:"switch"},O=function(e){function t(t,n,o,i,a){var r=e.call(this)||this;return r.elementRef=t,r._differs=n,r.viewportRuler=o,r.updateHostClassService=i,r.document=a,r.customType=v,r.model=[],r.groups=[],r.rowKey="_id",r.mode="list",r.columns=[],r.theme="default",r.className="",r.size="default",r.loadingDone=!0,r.emptyOptions={},r.draggable=!1,r.selectedRadioRow=null,r.pagination={index:1,size:20,total:0},r.wholeRowSelect=!1,r._filter=null,r.initialized=!1,r._oldThyClassName="",r.thyShowHeader=!0,r.showTotal=!1,r.thyIndent=20,r.thyChildrenKey="children",r.thyOnSwitchChange=new s.EventEmitter,r.thyOnPageChange=new s.EventEmitter,r.thyOnPageIndexChange=new s.EventEmitter,r.thyOnMultiSelectChange=new s.EventEmitter,r.thyOnRadioSelectChange=new s.EventEmitter,r.thyOnDraggableChange=new s.EventEmitter,r.thyOnRowClick=new s.EventEmitter,r.thyOnRowContextMenu=new s.EventEmitter,r.isTableClass=!0,r.expandStatusMap={},r._bindTrackFn(),r}return function(e,t){function n(){this.constructor=e}m(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),Object.defineProperty(t.prototype,"thyMode",{set:function(e){this.mode=e||this.mode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"thyGroupBy",{set:function(e){this.groupBy=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"thyRowKey",{set:function(e){this.rowKey=e||this.rowKey},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"thyGroups",{set:function(e){"group"===this.mode&&this.buildGroups(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"thyModel",{set:function(e){this.model=e||[],this._diff=this._differs.find(this.model).create(),this._initializeDataModel(),"group"===this.mode&&this.buildModel()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"thyTheme",{set:function(e){this.theme=e||this.theme,this._setClass()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"thySize",{set:function(e){this.size=e||this.size,this._setClass()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"thyClassName",{set:function(e){var t=this,n=this.className.split(" ").filter((function(e){return e.trim()})),o=n.findIndex((function(e){return e===t._oldThyClassName}));-1!==o?n.splice(o,1,e):n.push(e),this._oldThyClassName=e,this.className=n.join(" ")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"thyRowClassName",{set:function(e){this.rowClassName=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"thyLoadingDone",{set:function(e){this.loadingDone=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"thyLoadingText",{set:function(e){this.loadingText=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"thyEmptyOptions",{set:function(e){this.emptyOptions=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"thyDraggable",{set:function(e){if(this.draggable=n.coerceBooleanProperty(e),"list"!==this.mode&&this.draggable)throw new Error("Only list mode sorting is supported")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"thyFilter",{set:function(e){this._filter=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"thyPageIndex",{set:function(e){this.pagination.index=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"thyPageSize",{set:function(e){this.pagination.size=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"thyPageTotal",{set:function(e){this.pagination.total=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"thyWholeRowSelect",{set:function(e){e&&(this.className+=" table-hover"),this.wholeRowSelect=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"listOfColumnComponents",{set:function(e){e&&(this._listOfColumnComponents=e,this._initializeColumns(),this._initializeDataModel())},enumerable:!1,configurable:!0}),t.prototype._getSelectionKeys=function(e){var t=this;return e.map((function(e){return"number"==typeof e||"string"==typeof e?e:e[t.rowKey]}))},t.prototype._initializeColumns=function(){var e=this,t=this._listOfColumnComponents?this._listOfColumnComponents.toArray():[],n=t.some((function(e){return!0===e.expand}));this.columns=t.map((function(t,o){var i=e._getSelectionKeys(t.selections);return{key:t.key,model:t.model,title:t.title,type:t.type,selections:i,width:t.width,className:t.className,headerClassName:t.headerClassName,disabled:t.disabled,defaultText:t.defaultText,expand:n?t.expand:0===o,templateRef:t.cellTemplateRef,headerTemplateRef:t.headerTemplateRef}}))},t.prototype._initializeDataModel=function(){var e=this;this.model.forEach((function(t){e.columns.forEach((function(n){e._initialSelections(t,n),e._initialCustomModelValue(t,n)}))}))},t.prototype._initialSelections=function(e,t){t.selections&&("checkbox"===t.type&&(e[t.key]=t.selections.includes(e[this.rowKey]),this.onModelChange(e,t)),"radio"===t.type&&t.selections.includes(e[this.rowKey])&&(this.selectedRadioRow=e))},t.prototype._initialCustomModelValue=function(e,t){t.type===v.switch&&(e[t.key]=n.get(e,t.model))},t.prototype._refreshCustomModelValue=function(e){var t=this;this.columns.forEach((function(n){t._initialCustomModelValue(e,n)}))},t.prototype._applyDiffChanges=function(e){var t=this;e&&e.forEachAddedItem((function(e){t._refreshCustomModelValue(e.item)}))},t.prototype._bindTrackFn=function(){this.trackByFn=function(e,t){return t&&this.rowKey?t[this.rowKey]:e}.bind(this)},t.prototype._destroyInvalidAttribute=function(){this.model.forEach((function(e){for(var t in e)t.includes("[$$column]")&&delete e[t]}))},t.prototype._setClass=function(e){if(void 0===e&&(e=!1),e||this.initialized){var t=[];T[this.size]&&t.push(T[this.size]),w[this.theme]&&t.push(w[this.theme]),T[this.size]===T.sm&&w[this.theme]===w.default&&t.push("table-default-sm-bottom-padding"),this.updateHostClassService.updateClass(t)}},t.prototype._filterModel=function(){this.model&&this.model.length>0&&this._filter},t.prototype.updateColumnSelections=function(e,t){var n=this,o=this.columns.find((function(t){return t.key===e}));o.selections=this._getSelectionKeys(t),this.model.forEach((function(e){n._initialSelections(e,o)}))},t.prototype.isTemplateRef=function(e){return e instanceof s.TemplateRef},t.prototype.getModelValue=function(e,t){return n.get(e,t)},t.prototype.renderRowClassName=function(e,t){return this.rowClassName?n.isString(this.rowClassName)?this.rowClassName:this.rowClassName(e,t):null},t.prototype.onModelChange=function(e,t){t.model&&n.set(e,t.model,e[t.key])},t.prototype.onStopPropagation=function(e){this.wholeRowSelect&&e.stopPropagation()},t.prototype.onPageChange=function(e){this.thyOnPageChange.emit(e)},t.prototype.onPageIndexChange=function(e){this.thyOnPageIndexChange.emit(e)},t.prototype.onCheckboxChange=function(e,t){this.onModelChange(e,t),this.onMultiSelectChange(null,e,t)},t.prototype.onMultiSelectChange=function(e,t,n){var o={event:e,row:t,rows:this.model.filter((function(e){return e[n.key]}))};this.thyOnMultiSelectChange.emit(o)},t.prototype.onRadioSelectChange=function(e,t){var n={event:e,row:t};this.thyOnRadioSelectChange.emit(n)},t.prototype.onSwitchChange=function(e,t,o){var i={event:e,row:t,refresh:function(e){e=e||t,setTimeout((function(){e[o.key]=n.get(e,o.model)}))}};this.thyOnSwitchChange.emit(i)},t.prototype.showExpand=function(e){return e[this.thyChildrenKey]&&e[this.thyChildrenKey].length>0},t.prototype.isExpanded=function(e){return this.expandStatusMap[e[this.rowKey]]},t.prototype.iconIndentComputed=function(e){if("tree"===this.mode)return e*this.thyIndent-10},t.prototype.tdIndentComputed=function(e){return{position:"relative",paddingLeft:(e+1)*this.thyIndent-10+"px"}},t.prototype.expandChildren=function(e,t){e.stopPropagation(),this.isExpanded(t)?this.expandStatusMap[t[this.rowKey]]=!1:this.expandStatusMap[t[this.rowKey]]=!0},t.prototype.onDragStarted=function(){var e=this;setTimeout((function(){var t=e.document.getElementsByClassName("cdk-drag-preview")[0];t&&t.classList.add("thy-table-drag-preview")}))},t.prototype.onDragDropped=function(e){var t={model:e.item,models:this.model,oldIndex:e.previousIndex,newIndex:e.currentIndex};a.moveItemInArray(this.model,e.previousIndex,e.currentIndex),this.thyOnDraggableChange.emit(t)},t.prototype.onRowClick=function(e,t){if(this.wholeRowSelect){var n=this.columns.find((function(e){return e.type===v.checkbox||e.type===v.radio}));n.disabled||(n.type===v.checkbox&&(t[n.key]=!t[n.key],this.onModelChange(t,n),this.onMultiSelectChange(e,t,n)),n.type===v.radio&&(this.selectedRadioRow=t,this.onRadioSelectChange(e,t)))}var o={event:e,row:t};this.thyOnRowClick.emit(o)},t.prototype.onRowContextMenu=function(e,t){var n={event:e,row:t};this.thyOnRowContextMenu.emit(n)},t.prototype.draggableStopPropagation=function(e){this.draggable||e.stopPropagation()},t.prototype._refreshColumns=function(){var e=(this._listOfColumnComponents?this._listOfColumnComponents.toArray():[]).map((function(e){return{width:e.width,className:e.className}}));this.columns.forEach((function(t,n){Object.assign(t,e[n])}))},t.prototype.buildGroups=function(e){var t=this,n=this.groups.filter((function(e){return!e.expand})).map((function(e){return e.id}));this.groups=[],e.forEach((function(e){var o={id:e[t.rowKey],children:[],origin:e};o.expand=!n.includes(o.id),t.groups.push(o)}))},t.prototype.buildModel=function(){var e=this,t=n.keyBy(this.groups,"id");this.model.forEach((function(n){var o=t[n[e.groupBy]];o&&o.children.push(n)}))},t.prototype.expandGroup=function(e){e.expand=!e.expand},t.prototype.ngOnInit=function(){var e=this;this.updateHostClassService.initializeElement(this.tableElementRef.nativeElement),this._setClass(!0),this.initialized=!0,o.merge(this.viewportRuler.change(200),o.of(null).pipe(i.delay(200))).pipe(i.takeUntil(this.ngUnsubscribe$)).subscribe((function(){e._refreshColumns()}))},t.prototype.ngOnChanges=function(e){var t=e.thyMode,n=e.thyGroups;t&&"group"===t.currentValue&&n&&n.firstChange&&(this.buildGroups(n.currentValue),this.buildModel())},t.prototype.ngDoCheck=function(){if(this._diff){var e=this._diff.diff(this.model);this._applyDiffChanges(e)}},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this),this._destroyInvalidAttribute()},t}(t.mixinUnsubscribe(t.MixinBase));O.decorators=[{type:s.Component,args:[{selector:"thy-grid,thy-table",template:'<table #table class="table" [ngClass]="[className]" [class.table-draggable]="draggable" [class.table-group]="mode === \'group\'">\n  <colgroup>\n    <col *ngFor="let column of columns" [width]="column.width" />\n  </colgroup>\n\n  <thead *ngIf="thyShowHeader">\n    <tr>\n      <th *ngFor="let column of columns" [ngClass]="column.headerClassName">\n        <ng-container *ngIf="!column.headerTemplateRef">\n          {{ column.title }}\n        </ng-container>\n        <ng-container *ngIf="column.headerTemplateRef">\n          <ng-template [ngTemplateOutlet]="column.headerTemplateRef" [ngTemplateOutletContext]="{ $implicit: column }"></ng-template>\n        </ng-container>\n      </th>\n    </tr>\n  </thead>\n\n  <tbody *ngIf="loadingDone" thyDragDrop cdkDropList [cdkDropListDisabled]="!draggable" (cdkDropListDropped)="onDragDropped($event)">\n    \x3c!-- group --\x3e\n    <ng-container *ngIf="mode === \'group\'">\n      <ng-container *ngFor="let group of groups">\n        <tr class="thy-table-group" (click)="expandGroup(group)">\n          <td [attr.colspan]="columns.length">\n            <div class="thy-table-group-container">\n              <thy-icon class="expand-icon" [thyIconName]="group.expand ? \'angle-down\' : \'angle-right\'"></thy-icon>\n              <ng-container *ngIf="groupTemplate">\n                <ng-template\n                  [ngTemplateOutlet]="groupTemplate"\n                  [ngTemplateOutletContext]="{ $implicit: group.origin, group: group.origin }"\n                ></ng-template>\n              </ng-container>\n            </div>\n          </td>\n        </tr>\n        <ng-container *ngIf="group.children?.length && group.expand">\n          <ng-container *ngFor="let row of group.children; trackBy: trackByFn; let i = index">\n            <ng-template [ngTemplateOutlet]="trTemplate" [ngTemplateOutletContext]="{ row: row, index: i, level: 0 }"></ng-template>\n          </ng-container>\n        </ng-container>\n      </ng-container>\n    </ng-container>\n\n    \x3c!-- list模式下没有直接使用item模板，是因为使用了模板影响了Angular的依赖树，导致CdkDragDrop排序失效，目前这样修改可以暂时解决线上不能排序的问题，Tree模式的排序暂时不支持 --\x3e\n    <ng-container *ngIf="mode === \'list\'">\n      <tr\n        *ngFor="let row of model; trackBy: trackByFn; let i = index"\n        class="thy-sortable-item"\n        cdkDrag\n        [cdkDragData]="row"\n        (cdkDragStarted)="onDragStarted()"\n        [ngClass]="renderRowClassName(row, i)"\n        (mousedown)="draggableStopPropagation($event)"\n        (touchstart)="draggableStopPropagation($event)"\n        (pointerdown)="draggableStopPropagation($event)"\n        (click)="onRowClick($event, row)"\n        (thyContextMenu)="onRowContextMenu($event, row)"\n      >\n        <ng-template [ngTemplateOutlet]="tdsTemplate" [ngTemplateOutletContext]="{ row: row, index: i, level: 0 }"></ng-template>\n      </tr>\n    </ng-container>\n\n    <ng-container *ngIf="mode === \'tree\'">\n      <ng-container *ngFor="let row of model; trackBy: trackByFn; let i = index">\n        <ng-template [ngTemplateOutlet]="trTemplate" [ngTemplateOutletContext]="{ row: row, index: i, level: 0 }"></ng-template>\n      </ng-container>\n    </ng-container>\n\n    <ng-template #trTemplate let-row="row" let-i="index" let-level="level">\n      <tr\n        class="thy-sortable-item"\n        cdkDrag\n        [cdkDragData]="row"\n        (cdkDragStarted)="onDragStarted()"\n        [ngClass]="renderRowClassName(row, i)"\n        (mousedown)="draggableStopPropagation($event)"\n        (touchstart)="draggableStopPropagation($event)"\n        (pointerdown)="draggableStopPropagation($event)"\n        (click)="onRowClick($event, row)"\n        (thyContextMenu)="onRowContextMenu($event, row)"\n      >\n        <ng-template [ngTemplateOutlet]="tdsTemplate" [ngTemplateOutletContext]="{ row: row, index: i, level: level + 1 }"></ng-template>\n      </tr>\n\n      <ng-container *ngIf="mode === \'tree\' && isExpanded(row)">\n        <ng-template\n          *ngFor="let child of row[thyChildrenKey]; trackBy: trackByFn; let j = index"\n          [ngTemplateOutlet]="trTemplate"\n          [ngTemplateOutletContext]="{ row: child, index: j, level: level + 1 }"\n        ></ng-template>\n      </ng-container>\n    </ng-template>\n\n    <ng-template #tdsTemplate let-row="row" let-i="index" let-level="level">\n      <td\n        *ngFor="let column of columns; let j = index"\n        [ngClass]="column.className"\n        [class.thy-table-checkbox-column]="column.type === customType.checkbox"\n        [ngStyle]="mode === \'tree\' && column.expand ? tdIndentComputed(level) : null"\n      >\n        <ng-container *ngIf="j === 0 && draggable">\n          <thy-icon class="table-draggable-icon" thyIconName="drag"></thy-icon>\n        </ng-container>\n\n        \x3c!--template--\x3e\n        <ng-container *ngIf="isTemplateRef(column.templateRef)">\n          <thy-icon\n            class="tree-expand-icon cursor-pointer"\n            *ngIf="mode === \'tree\' && column.expand"\n            [thyIconName]="isExpanded(row) ? \'angle-down\' : \'angle-right\'"\n            [style.visibility]="showExpand(row) ? \'visible\' : \'hidden\'"\n            [style.left.px]="iconIndentComputed(level)"\n            (click)="expandChildren($event, row)"\n          ></thy-icon>\n          <ng-template [ngTemplateOutlet]="column.templateRef" [ngTemplateOutletContext]="{ $implicit: row }"></ng-template>\n        </ng-container>\n\n        \x3c!--not template--\x3e\n        <ng-container *ngIf="!isTemplateRef(column.templateRef)">\n          \x3c!-- default --\x3e\n          <ng-container *ngIf="column.model && !column.type">\n            <thy-icon\n              class="tree-expand-icon cursor-pointer"\n              *ngIf="mode === \'tree\' && column.expand"\n              [thyIconName]="isExpanded(row) ? \'angle-down\' : \'angle-right\'"\n              [style.visibility]="showExpand(row) ? \'visible\' : \'hidden\'"\n              [style.marginLeft.px]="iconIndentComputed(level)"\n              (click)="expandChildren($event, row)"\n            ></thy-icon>\n            <ng-container *ngIf="getModelValue(row, column.model) | isValidModelValue; else default">\n              {{ getModelValue(row, column.model) }}\n            </ng-container>\n            <ng-template #default>\n              <div class="text-desc">\n                {{ column.defaultText }}\n              </div>\n            </ng-template>\n          </ng-container>\n\n          \x3c!-- index --\x3e\n          <ng-container *ngIf="column.type === customType.index">\n            {{ i + 1 }}\n          </ng-container>\n\n          \x3c!-- checkbox --\x3e\n          <ng-container *ngIf="column.type === customType.checkbox">\n            <input\n              type="checkbox"\n              [(ngModel)]="row[column.key]"\n              (ngModelChange)="onCheckboxChange(row, column)"\n              (click)="onStopPropagation($event)"\n              [disabled]="column.disabled"\n            />\n          </ng-container>\n\n          \x3c!-- radio --\x3e\n          <ng-container *ngIf="column.type === customType.radio">\n            <input\n              type="radio"\n              [(ngModel)]="selectedRadioRow"\n              [value]="row"\n              [disabled]="column.disabled"\n              (click)="onStopPropagation($event)"\n              (change)="onRadioSelectChange($event, row)"\n            />\n          </ng-container>\n\n          \x3c!-- switch --\x3e\n          <ng-container *ngIf="column.type === customType.switch">\n            <thy-switch\n              [(ngModel)]="row[column.key]"\n              (ngModelChange)="onModelChange(row, column)"\n              [disabled]="column.disabled"\n              (thyChange)="onSwitchChange($event, row, column)"\n            ></thy-switch>\n          </ng-container>\n        </ng-container>\n      </td>\n    </ng-template>\n  </tbody>\n</table>\n\n<div *ngIf="loadingDone && model.length === 0 && groups.length === 0" class="thy-table-empty clear-hover">\n  <ng-container *ngIf="emptyTemplate; else defaultEmpty">\n    <ng-template [ngTemplateOutlet]="emptyTemplate"></ng-template>\n  </ng-container>\n  <ng-template #defaultEmpty>\n    <thy-empty\n      [thyMessage]="emptyOptions.message"\n      [thyTranslationKey]="emptyOptions.translationKey"\n      [thyTranslationValues]="emptyOptions.translationValues"\n      [thyEntityName]="emptyOptions.entityName"\n      [thyEntityNameTranslateKey]="emptyOptions.entityNameTranslateKey"\n      [thyIconName]="emptyOptions.iconName"\n      [thySize]="emptyOptions.size"\n      [thyMarginTop]="emptyOptions.marginTop"\n      [thyTopAuto]="emptyOptions.topAuto"\n      [thyContainer]="emptyOptions.container"\n    ></thy-empty>\n  </ng-template>\n</div>\n\n<thy-loading [thyDone]="loadingDone" [thyTip]="loadingText"></thy-loading>\n\n<div class="thy-table-footer" *ngIf="pagination.total > pagination.size" [class.thy-table-footer-has-padding]="theme === \'default\'">\n  <thy-pagination\n    [thyPageIndex]="pagination.index"\n    [thyTotal]="pagination.total"\n    [thyPageSize]="pagination.size"\n    [thyShowTotal]="showTotal"\n    (thyPageChanged)="onPageChange($event)"\n    (thyPageIndexChange)="onPageIndexChange($event)"\n  ></thy-pagination>\n</div>\n\n<ng-template>\n  <ng-content></ng-content>\n</ng-template>\n',providers:[{provide:f,useExisting:O},t.UpdateHostClassService],encapsulation:s.ViewEncapsulation.None}]}],O.ctorParameters=function(){return[{type:s.ElementRef},{type:s.IterableDiffers},{type:r.ViewportRuler},{type:t.UpdateHostClassService},{type:void 0,decorators:[{type:s.Inject,args:[l.DOCUMENT]}]}]},O.propDecorators={emptyTemplate:[{type:s.ContentChild,args:["empty"]}],tableElementRef:[{type:s.ViewChild,args:["table",{static:!0}]}],thyMode:[{type:s.Input}],thyGroupBy:[{type:s.Input}],thyRowKey:[{type:s.Input}],thyGroups:[{type:s.Input}],thyModel:[{type:s.Input}],thyTheme:[{type:s.Input}],thySize:[{type:s.Input}],thyClassName:[{type:s.Input}],thyRowClassName:[{type:s.Input}],thyLoadingDone:[{type:s.Input}],thyLoadingText:[{type:s.Input}],thyEmptyOptions:[{type:s.Input}],thyDraggable:[{type:s.Input}],thyFilter:[{type:s.Input}],thyPageIndex:[{type:s.Input}],thyPageSize:[{type:s.Input}],thyPageTotal:[{type:s.Input}],thyWholeRowSelect:[{type:s.Input}],thyShowHeader:[{type:s.Input}],showTotal:[{type:s.Input,args:["thyShowTotal"]}],thyIndent:[{type:s.Input}],thyChildrenKey:[{type:s.Input}],thyHoverDisplayOperation:[{type:s.HostBinding,args:["class.thy-table-hover-display-operation"]},{type:s.Input}],thyOnSwitchChange:[{type:s.Output}],thyOnPageChange:[{type:s.Output}],thyOnPageIndexChange:[{type:s.Output}],thyOnMultiSelectChange:[{type:s.Output}],thyOnRadioSelectChange:[{type:s.Output}],thyOnDraggableChange:[{type:s.Output}],thyOnRowClick:[{type:s.Output}],thyOnRowContextMenu:[{type:s.Output}],groupTemplate:[{type:s.ContentChild,args:["group",{static:!0}]}],listOfColumnComponents:[{type:s.ContentChildren,args:[b]}],isTableClass:[{type:s.HostBinding,args:["class.thy-table"]}]};var I=O,M=function(){function e(){}return e.prototype.transform=function(e){return""!==e&&null!=e},e}();M.decorators=[{type:s.Pipe,args:[{name:"isValidModelValue"}]}];var R=function(){};R.decorators=[{type:s.NgModule,args:[{declarations:[O,b,M],imports:[l.CommonModule,p.FormsModule,h.ThyPaginationModule,c.ThySwitchModule,u.ThyLoadingModule,d.ThyEmptyModule,y.ThySharedModule,g.ThyIconModule,a.DragDropModule],exports:[O,b]}]}],e.THY_GRID_COLUMN_PARENT_COMPONENT=C,e.THY_TABLE_COLUMN_PARENT_COMPONENT=f,e.TableIsValidModelValuePipe=M,e.ThyGridColumnComponent=x,e.ThyGridComponent=I,e.ThyTableColumnComponent=b,e.ThyTableComponent=O,e.ThyTableModule=R,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-tethys-table.umd.min.js.map