!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("ngx-tethys/util")):"function"==typeof define&&define.amd?define("ngx-tethys/positioning",["exports","@angular/core","ngx-tethys/util"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self)["ngx-tethys"]=t["ngx-tethys"]||{},t["ngx-tethys"].positioning={}),t.ng.core,t["ngx-tethys"].util)}(this,(function(t,e,o){"use strict";function i(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach((function(o){if("default"!==o){var i=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:function(){return t[o]}})}})),e.default=t,Object.freeze(e)}var n,r=i(e);t.PlacementTypes=void 0,(n=t.PlacementTypes||(t.PlacementTypes={})).left="left",n.right="right",n.center="center",n.top="top",n.bottom="bottom";var l=function(){function i(t){this.ngZone=t}return i.getHTMLElement=function(t){return"string"==typeof t?document.querySelector(t):t instanceof e.ElementRef?t.nativeElement:t},i.prototype.autoPosition=function(t,e,o,i){return(!i||"right"===i)&&t.left+e.left-o.offsetWidth<0?"right":(!i||"top"===i)&&t.bottom+e.bottom+o.offsetHeight>window.innerHeight?"top":(!i||"bottom"===i)&&t.top+e.top-o.offsetHeight<0?"bottom":(!i||"left"===i)&&t.right+e.right+o.offsetWidth>window.innerWidth?"left":null},i.prototype.getAllStyles=function(t){return window.getComputedStyle(t)},i.prototype.getStyle=function(t,e){return this.getAllStyles(t)[e]},i.prototype.isStaticPositioned=function(t){return"static"===(this.getStyle(t,"position")||"static")},i.prototype.offsetParent=function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement},i.prototype.calculateTopBottomPosition=function(e,o,i,n){var r=document.documentElement.clientHeight;return e===t.PlacementTypes.top?(i.top=o.top,i.bottom=null,i.top+i.height>r&&(i.top=r-i.height)):e===t.PlacementTypes.bottom?(i.bottom=r-o.top-o.height,i.top=null,i.bottom+i.height>r&&(i.bottom=r-i.height)):(i.top=o.top+o.height/2-i.height/2,i.top<0?i.top=n:i.top+i.height>r&&(i.top=r-i.height+n),i.bottom=null),i},i.prototype.calculateLeftRightPosition=function(e,o,i,n){var r=document.documentElement.clientWidth;return e===t.PlacementTypes.right?(i.right=document.documentElement.clientWidth-o.left-o.width,i.left=null,i.right+i.width>r&&(i.right=r-i.width-n)):e===t.PlacementTypes.left?(i.left=o.left,i.left+i.width>r&&(i.left=r-i.width-n)):(i.left=o.left+o.width/2-i.width/2,i.left<0?i.left=n:i.left+i.width>r&&(i.left=r-i.width-n)),i},i.prototype.autoAdaptTopBottom=function(t,e,o,i,n){if(void 0===n&&(n=!0),n){var r=document.documentElement.clientHeight;if("top"===t&&e.originBottom-e.height-o.height<0&&(r-e.originBottom>=o.height?o.bottom=o.bottom-o.height-e.height-i:(o.bottom=null,o.top=e.top-e.originTop)),"bottom"===t&&e.originBottom+o.height>r){var l=e.top-o.height-i;l>e.top-e.originTop?o.top=l:o.top=e.top-e.originTop}}},i.prototype.position=function(t,e){var o;void 0===e&&(e=!0);var i={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position")){var n=t.getBoundingClientRect();o={width:n.width,height:n.height,top:n.top,bottom:n.bottom,left:n.left,right:n.right,originTop:n.top,originBottom:n.bottom,originLeft:n.left,originRight:n.right}}else{var r=this.offsetParent(t);o=this.offset(t,!1),r!==document.documentElement&&(i=this.offset(r,!1)),i.top+=r.clientTop,i.left+=r.clientLeft}return o.top-=i.top,o.bottom-=i.top,o.left-=i.left,o.right-=i.left,e&&(o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o},i.prototype.offset=function(t,e){void 0===e&&(e=!0);var o=t.getBoundingClientRect(),i=window.pageYOffset-document.documentElement.clientTop,n=window.pageXOffset-document.documentElement.clientLeft,r={height:o.height||t.offsetHeight,width:o.width||t.offsetWidth,top:o.top+i,bottom:o.bottom+i,left:o.left+n,right:o.right+n,originTop:o.top,originBottom:o.bottom,originLeft:o.left,originRight:o.right};return e&&(r.height=Math.round(r.height),r.width=Math.round(r.width),r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r},i.prototype.calculatePosition=function(t,e,o){var i=o.placement,n=o.appendToBody,r=o.offset,l=o.position,h=o.autoAdapt,f=null;f=l?{top:l.top||0,left:l.left||0,bottom:0,right:0,width:0,height:0}:n?this.offset(t,!1):this.position(t,!1);this.getAllStyles(e);var p=document.documentElement.clientWidth,u=document.documentElement.clientHeight,g=i.split(" ")[0]||"top",c=i.split(" ")[1]||"center",s=e.getBoundingClientRect(),a={height:s.height||e.offsetHeight,width:s.width||e.offsetWidth,top:null,bottom:null,left:null,right:null,originTop:s.top,originBottom:s.bottom,originLeft:s.left,originRight:s.right};if("auto"===g){var d=this.autoPosition(a,f,e,c);d||(d=this.autoPosition(a,f,e)),d&&(g=d),e.classList.add(g)}switch(g){case"top":a.bottom=u-f.top+r,a.top=null,this.autoAdaptTopBottom(g,f,a,r,h),this.calculateLeftRightPosition(c,f,a,r);break;case"bottom":a.top=f.top+f.height+r,this.autoAdaptTopBottom(g,f,a,r,h),this.calculateLeftRightPosition(c,f,a,r);break;case"left":a.right=p-f.left+r,a.left=null,this.calculateTopBottomPosition(c,f,a,r);break;case"right":a.left=f.left+f.width+r,a.right=null,this.calculateTopBottomPosition(c,f,a,r)}return a},i.prototype.setPosition=function(t){var e=this,n=t.attach,r=t.target,l=i.getHTMLElement(n),h=i.getHTMLElement(r);setTimeout((function(){e.ngZone.runOutsideAngular((function(){var i=e.calculatePosition(l,h,t);o.isNumber(i.top)?h.style.top=i.top+"px":o.isNumber(i.bottom)&&(h.style.bottom=i.bottom+"px"),o.isNumber(i.left)?h.style.left=i.left+"px":o.isNumber(i.right)&&(h.style.right=i.right+"px")}))}))},i}();l.ɵprov=r.ɵɵdefineInjectable({factory:function(){return new l(r.ɵɵinject(r.NgZone))},token:l,providedIn:"root"}),l.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],l.ctorParameters=function(){return[{type:e.NgZone}]},t.ThyPositioningService=l,t.defaultPositioningOptions={offset:10,appendToBody:!0,placement:"bottom center"},Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-tethys-positioning.umd.min.js.map