{"version":3,"file":"ngx-tethys-empty.umd.js","sources":["../../src/empty/empty.config.ts","../../src/empty/empty.component.ts","../../src/empty/empty.module.ts","../../src/empty/ngx-tethys-empty.ts"],"names":["Injectable","coerceBooleanProperty","Component","ThyTranslate","ElementRef","Renderer2","NgZone","HostBinding","Input","ContentChild","NgModule","CommonModule","ThySharedModule","ThyIconModule"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QAEA;AACc,YACV,yBAAoB,GAAG,uBAAuB,CAAC;AACnD,YAAI,mCAA8B,GAAG,8BAA8B,CAAC;AACpE;;;;;gDAAC;AACD;AAA+B,SAJzB;AAAC;AAAC,ICeR,IAAM,YAAY,GAAQ;wBDhBzBA,eAAU,vCCiBX,QAAI,EAAE,EAAE,CAAC,iBAAiB,EAAE,qBAAqB,CAAC;AAClD,QAAI,EAAE,EAAE,CAAC,iBAAiB,CAAC;AAC3B,QAAI,EAAE,EAAE,CAAC,iBAAiB,EAAE,qBAAqB,CAAC;AAClD,KAAC,CAAC;AACF,IAAA,IAAM,OAAO,GAAQ;AACrB,QAAI,EAAE,EAAE;AACR,YAAQ,MAAM,EAAE,GAAG;AAAE,YACb,SAAS,EAAE,EAAE;AAAE,YACf,gBAAgB,EAAE,GAAG;AAC7B,SAAK;AACL,QAAI,EAAE,EAAE;AACR,YAAQ,MAAM,EAAE,GAAG;AACnB,YAAQ,SAAS,EAAE,EAAE;AACrB,YAAQ,gBAAgB,EAAE,EAAE;AAC5B,SAAK;AACL,QAAI,EAAE,EAAE;AACR,YAAQ,MAAM,EAAE,EAAE;AAClB,YAAQ,SAAS,EAAE,EAAE;AACrB,YAAQ,gBAAgB,EAAE,EAAE;AAC5B,SAAK;AACL,KAAC,CAAC;AACF;AAGgB,QAwFZ,2BACY,YAA0B,EAC1B,cAA8B,EAC9B,UAAsB,EACtB,QAAmB,EACnB,MAAc;AAC3B,YALa,iBAAY,GAAZ,YAAY,CAAc;AAAC,YAC3B,mBAAc,GAAd,cAAc,CAAgB;AAAC,YAC/B,eAAU,GAAV,UAAU,CAAY;AAAC,YACvB,aAAQ,GAAR,QAAQ,CAAW;AAAC,YACpB,WAAM,GAAN,MAAM,CAAQ;AAC9B,YA3F0B,cAAS,GAAG,YAAY,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACnE,SA0FQ;AACR,QA1EI,sBACI,sCAAO;AAAI,iBADf,UACY,KAAa;AAC7B,gBAAQ,IAAM,SAAS,GAAG,YAAY,CAAC,KAAK,IAAI,IAAI,CAAC,CAAC;AACtD,gBAAQ,IAAI,SAAS,EAAE;AACvB,oBAAY,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACjD,iBAAS;AACT,aAAK;AAEL;AAA+B;AAEd,WAJZ;AACL,QAaI,sBAAI,0CAAW;AAAI,iBAAnB;AAAc,gBACV,IAAI,IAAI,CAAC,UAAU,EAAE;AAC7B,oBAAY,OAAO,IAAI,CAAC,UAAU,CAAC;AACnC,iBAAS;AAAC,qBAAK,IAAI,IAAI,CAAC,iBAAiB,EAAE;AAC3C,oBAAY,OAAO,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,oBAAoB,CAAC,CAAC;AAChG,iBAAS;AAAC,qBAAK,IAAI,IAAI,CAAC,aAAa,EAAE;AACvC,oBAAY,OAAO,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,8BAA8B,EAAE;AACjG,wBAAgB,MAAM,EAAE,IAAI,CAAC,aAAa;AAC1C,qBAAa,CAAC,CAAC;AACf,iBAAS;AAAC,qBAAK,IAAI,IAAI,CAAC,yBAAyB,EAAE;AACnD,oBAAY,OAAO,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,8BAA8B,EAAE;AACjG,wBAAgB,MAAM,EAAE,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,yBAAyB,CAAC;AACjF,qBAAa,CAAC,CAAC;AACf,iBAAS;AAAC,qBAAK;AACf,oBAAY,OAAO,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,oBAAoB,CAAC,CAAC;AACvF,iBAAS;AACT,aAAK;AAEL;AACI;AAA+B,WAH9B;AACL,QACI,8CAAkB,GAAlB;AAAc,YACV,IAAM,WAAW,GAAG,OAAO,CAAC,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,CAAC;AAC1D,YAAQ,IAAM,OAAO,GAAGC,0BAAqB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;AAC/D,YAAQ,IAAI,SAAS,GAAG,IAAI,CAAC;AAC7B,YAAQ,IAAI,OAAO,EAAE;AACrB;AACI,gBAAQ,IAAM,gBAAgB,GAAG,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,aAAa,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,aAAa,CAAC;AACvI;AACI,gBAAQ,IAAI,gBAAgB,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,YAAY,CAAC;AAC9E;AACI,gBAAQ,IAAI,gBAAgB,IAAI,EAAE,EAAE;AACxC,oBAAgB,gBAAgB,GAAG,WAAW,CAAC,MAAM,CAAC;AACtD,iBAAa;AACb,gBAAY,SAAS,GAAG,CAAC,gBAAgB,CAAC,YAAY,GAAG,gBAAgB,IAAI,CAAC,GAAG,WAAW,CAAC,SAAS,CAAC;AACvG;AACI,gBAAQ,IAAI,SAAS,GAAG,CAAC,EAAE;AAC/B,oBAAgB,SAAS,GAAG,CAAC,CAAC;AAC9B,iBAAa;AACb,aAAS;AAAC,iBAAK;AACf,gBAAY,IAAI,IAAI,CAAC,YAAY,EAAE;AACnC,oBAAgB,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC;AAC9C,iBAAa;AAAC,qBAAK;AACnB,oBAAgB,SAAS,GAAG,CAAC,CAAC;AAC9B,iBAAa;AACb,aAAS;AACT,YAAQ,IAAI,SAAS,EAAE;AACvB,gBAAY,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,WAAW,EAAE,SAAS,GAAG,IAAI,CAAC,CAAC;AACjG,aAAS;AACT,SAAK;AACJ,QAQG,oCAAQ,GAAR,eAAa;AAEjB,QAAI,2CAAe,GAAf;AAAc,YAAd,iBAMC;AACL,YANQ,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC;AAChC,gBAAM,UAAU,CAAC;AACjB,oBAAU,KAAI,CAAC,kBAAkB,EAAE,CAAC;AAC1C,iBAAa,EAAE,EAAE,CAAC,CAAC;AACnB,aAAS,CAAC,CAAC;AACX,SAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;oBACL;AAAC;AACgC,SAxGxB;qDAJRC,rDAIS;KAJA,SAAC,sBACP,pCAIE,gBA9CGC,mBAAY;KA0CT,EAAE,WAAW,lBA1CA,gBAgBhB,cAAc;MA2BnB,NA3BuB,gBATvBC,eAAU;AACZ,gBAIEC,cAAS;AACX,gBAHEC,WAAM;AACT;AAAU;AAGF,4BAgCJC,gBAAW,SAAC,OAAO;AAAO,6BAG1BC,UAAK;AAAK,oCAGVA,UAAK;AAAK,uCAEVA,UAAK;AAAK,gCAGVA,UAAK;AAAK,4CAGVA,UAAK;AAAK,8BAEVA,UAAK;AAAK,0BAEVA,UAAK;AACR,+BAOGA,UAAK;AAAK,6BAEVA,UAAK;AAAK,+BAEVA,UAAK;AAAK,8BAEVA,UAAK;AAAK,iCAEVA,UAAK;AAAK,mCAEVC,iBAAY,SAAC,OAAO;AAAM;AAAO;AAAC;AAGlC,QCtEL;AAA4B;;;;;;;;;;;;gDACtB;AAAC;AAA+B,SAD7B;AAAC;AAAC,ICfX;yCDSCC,zCCRD;AAEA;AACO;CDKE,SAAC,sBACN,YAAY,EAAE,CAAC,/CCNX;aDM4B,CAAC,sBACjC,OAAO,3CCNuB;ADMrB,CAACC,mBAAY,EAAEC,sBAAe,5CCNoC;AAA6C;ADM/EC,kBAAa,CAAC,sBACvD,OAAO,EAAE,CAAC,nDCP+G;AAAmE;ADOjK,CAAC,DCPiK;q8EFsCxJ,kBACxC,t8EC/BG,SAAS,EAAE,CAAC,cAAc,CAAC,kBAC9B,9DCTsM","sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class ThyEmptyConfig {\n    noResultTranslateKey = 'common.tips.NO_RESULT';\n    noResultWithTargetTranslateKey = 'common.tips.NO_RESULT_TARGET';\n}\n","import { ThyTranslate } from 'ngx-tethys/core';\nimport { coerceBooleanProperty } from 'ngx-tethys/util';\n\nimport {\n    AfterViewInit,\n    Component,\n    ContentChild,\n    ElementRef,\n    HostBinding,\n    Input,\n    NgZone,\n    OnInit,\n    Renderer2,\n    TemplateRef\n} from '@angular/core';\n\nimport { ThyEmptyConfig } from './empty.config';\n\nconst sizeClassMap: any = {\n    lg: ['thy-empty-state', 'thy-empty-state--lg'],\n    md: ['thy-empty-state'],\n    sm: ['thy-empty-state', 'thy-empty-state--sm']\n};\nconst sizeMap: any = {\n    lg: {\n        height: 168, // 空提示的高度\n        offsetTop: 30, // 空提示图标和大小之间的空白距离，需要除去，否则会不居中\n        defaultMarginTop: 120 // 不自动计算默认的 top 距离\n    },\n    md: {\n        height: 118,\n        offsetTop: 20,\n        defaultMarginTop: 10\n    },\n    sm: {\n        height: 78,\n        offsetTop: 10,\n        defaultMarginTop: 10\n    }\n};\n\n@Component({\n    selector: 'thy-empty',\n    templateUrl: './empty.component.html'\n})\nexport class ThyEmptyComponent implements OnInit, AfterViewInit {\n    @HostBinding('class') sizeClass = sizeClassMap['md'].join(' ');\n\n    // 显示的文本，优先级 100 最高\n    @Input() thyMessage: string;\n\n    // 显示文本的多语言 Key 优先级 99\n    @Input() thyTranslationKey: string;\n\n    @Input() thyTranslationValues: any;\n\n    // 显示默认提示信息，替换目标名称\n    @Input() thyEntityName: string;\n\n    // 显示默认提示信息，替换目标名称的 translateKey\n    @Input() thyEntityNameTranslateKey: string;\n\n    @Input() thyIconName: string;\n\n    @Input()\n    set thySize(value: string) {\n        const classList = sizeClassMap[value || 'md'];\n        if (classList) {\n            this.sizeClass = classList.join(' ');\n        }\n    }\n\n    @Input() thyMarginTop: number | string;\n\n    @Input() thyTopAuto: boolean;\n\n    @Input() thyContainer: ElementRef;\n\n    @Input() thyImageUrl: string;\n\n    @Input() thyDescription: string;\n\n    @ContentChild('extra') extraTemplateRef: TemplateRef<any>;\n\n    get displayText() {\n        if (this.thyMessage) {\n            return this.thyMessage;\n        } else if (this.thyTranslationKey) {\n            return this.thyTranslate.instant(this.thyTranslationKey, this.thyTranslationValues);\n        } else if (this.thyEntityName) {\n            return this.thyTranslate.instant(this.thyEmptyConfig.noResultWithTargetTranslateKey, {\n                target: this.thyEntityName\n            });\n        } else if (this.thyEntityNameTranslateKey) {\n            return this.thyTranslate.instant(this.thyEmptyConfig.noResultWithTargetTranslateKey, {\n                target: this.thyTranslate.instant(this.thyEntityNameTranslateKey)\n            });\n        } else {\n            return this.thyTranslate.instant(this.thyEmptyConfig.noResultTranslateKey);\n        }\n    }\n\n    _calculatePosition() {\n        const sizeOptions = sizeMap[this.thySize || 'md'];\n        const topAuto = coerceBooleanProperty(this.thyTopAuto);\n        let marginTop = null;\n        if (topAuto) {\n            // 选择参考父容器居中\n            const containerElement = this.thyContainer ? this.thyContainer.nativeElement : this.elementRef.nativeElement.parentElement;\n            // containerElement.height;\n            let emptyStateHeight = this.elementRef.nativeElement.offsetHeight;\n            // 高度没有自动计算出来使用默认值\n            if (emptyStateHeight <= 10) {\n                emptyStateHeight = sizeOptions.height;\n            }\n            marginTop = (containerElement.offsetHeight - emptyStateHeight) / 2 - sizeOptions.offsetTop;\n            // marginTop = (containerElement.offsetHeight - emptyStateHeight) / 2;\n            if (marginTop < 0) {\n                marginTop = 0; // sizeOptions.defaultMarginTop;\n            }\n        } else {\n            if (this.thyMarginTop) {\n                marginTop = this.thyMarginTop;\n            } else {\n                marginTop = 0; // sizeOptions.defaultMarginTop;\n            }\n        }\n        if (marginTop) {\n            this.renderer.setStyle(this.elementRef.nativeElement, 'marginTop', marginTop + 'px');\n        }\n    }\n    constructor(\n        private thyTranslate: ThyTranslate,\n        private thyEmptyConfig: ThyEmptyConfig,\n        private elementRef: ElementRef,\n        private renderer: Renderer2,\n        private ngZone: NgZone\n    ) {}\n\n    ngOnInit() {}\n\n    ngAfterViewInit() {\n        this.ngZone.runOutsideAngular(() => {\n            setTimeout(() => {\n                this._calculatePosition();\n            }, 50);\n        });\n    }\n}\n","import { ThyIconModule } from 'ngx-tethys/icon';\nimport { ThySharedModule } from 'ngx-tethys/shared';\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { ThyEmptyComponent } from './empty.component';\nimport { ThyEmptyConfig } from './empty.config';\n\n@NgModule({\n    declarations: [ThyEmptyComponent],\n    imports: [CommonModule, ThySharedModule, ThyIconModule],\n    exports: [ThyEmptyComponent],\n    providers: [ThyEmptyConfig]\n})\nexport class ThyEmptyModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"]}