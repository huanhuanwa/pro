{"version":3,"sources":["../../src/property-operation/group/property-operation-group.component.ts","../../src/property-operation/property-operation.component.ts","../../src/property-operation/module.ts"],"names":["this","_isPropertyOperationGroup","Component","args","selector","template","HostBinding","ThyPropertyOperationComponent","thyTranslate","updateHostClassService","elementRef","initialized","onlyHasTips","showClose","labelHideWhenHasValue","thyOnRemove","EventEmitter","thyClick","_isPropertyOperation","Object","defineProperty","prototype","value","labelText","setOnlyHasTips","instant","icon","coerceBooleanProperty","type","setHostClass","first","updateClass","htmlElementIsEmpty","contentElement","nativeElement","ngOnInit","initializeElement","onclick","event","disabled","emit","ngAfterContentInit","remove","$event","stopPropagation","providers","UpdateHostClassService","ThyTranslate","ElementRef","Output","ContentChild","ViewChild","static","Input","HostListener","NgModule","declarations","ThyPropertyOperationGroupComponent","imports","CommonModule","ThyButtonModule","ThyIconModule","ThyFlexibleTextModule","exports"],"mappings":"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","sourcesContent":["import { Component, HostBinding } from '@angular/core';\n\n@Component({\n    selector: 'thy-property-operation-group',\n    templateUrl: './property-operation-group.component.html'\n})\nexport class ThyPropertyOperationGroupComponent {\n    @HostBinding('class.thy-property-operation-group') _isPropertyOperationGroup = true;\n\n    constructor() {}\n}\n","import {\n    AfterContentInit,\n    Component,\n    ContentChild,\n    ElementRef,\n    EventEmitter,\n    HostBinding,\n    Input,\n    OnInit,\n    Output,\n    TemplateRef,\n    ViewChild,\n    HostListener\n} from '@angular/core';\nimport { UpdateHostClassService, ThyTranslate } from 'ngx-tethys/core';\nimport { htmlElementIsEmpty, coerceBooleanProperty } from 'ngx-tethys/util';\n\ntype ThyPropertyOperationTypes = 'primary' | 'success' | 'warning' | 'danger';\n\n@Component({\n    selector: 'thy-property-operation',\n    templateUrl: './property-operation.component.html',\n    providers: [UpdateHostClassService]\n})\nexport class ThyPropertyOperationComponent implements OnInit, AfterContentInit {\n    private initialized = false;\n\n    labelText: string;\n\n    onlyHasTips = false;\n\n    showClose = false;\n\n    type: ThyPropertyOperationTypes;\n\n    icon: string;\n\n    value: string;\n\n    labelHideWhenHasValue = false;\n\n    @Output() thyOnRemove = new EventEmitter();\n\n    @Output() thyClick = new EventEmitter<Event>();\n\n    @HostBinding('class.thy-property-operation') _isPropertyOperation = true;\n\n    @ContentChild('operationIcon') operationIcon: TemplateRef<any>;\n\n    @ViewChild('contentElement', { static: true }) contentElement: ElementRef;\n\n    @Input()\n    set thyLabelText(value: string) {\n        this.labelText = value;\n    }\n\n    @Input()\n    set thyValue(value: string) {\n        this.value = value;\n        this.setOnlyHasTips();\n    }\n\n    @Input()\n    set thyLabelTextTranslateKey(value: string) {\n        this.labelText = this.thyTranslate.instant(value);\n    }\n\n    @Input()\n    set thyIcon(value: string) {\n        this.icon = value;\n    }\n\n    @Input()\n    set thyShowClose(value: boolean) {\n        this.showClose = coerceBooleanProperty(value);\n    }\n\n    // 支持有值时，label不显示\n    @Input() set thyLabelHasValue(value: boolean) {\n        this.labelHideWhenHasValue = !coerceBooleanProperty(value);\n    }\n\n    @Input() set thyLabelHideWhenHasValue(value: boolean) {\n        this.labelHideWhenHasValue = coerceBooleanProperty(value);\n    }\n\n    @Input()\n    set thyType(value: ThyPropertyOperationTypes) {\n        this.type = value;\n        this.setHostClass();\n    }\n\n    @HostBinding('class.active')\n    @Input('thyActive')\n    active: boolean;\n\n    @HostBinding('class.thy-property-operation-disabled')\n    @Input('thyDisabled')\n    disabled: boolean;\n\n    private setHostClass(first = false) {\n        if (!this.initialized && !first) {\n            return;\n        }\n        this.updateHostClassService.updateClass(this.type ? [`thy-property-operation-${this.type}`] : []);\n    }\n\n    private setOnlyHasTips(first = false) {\n        if (!this.initialized && !first) {\n            return;\n        }\n        if (this.value) {\n            this.onlyHasTips = false;\n        } else if (htmlElementIsEmpty(this.contentElement.nativeElement)) {\n            this.onlyHasTips = true;\n        } else {\n            this.onlyHasTips = false;\n        }\n    }\n\n    constructor(\n        private thyTranslate: ThyTranslate,\n        private updateHostClassService: UpdateHostClassService,\n        private elementRef: ElementRef\n    ) {}\n\n    ngOnInit() {\n        this.updateHostClassService.initializeElement(this.elementRef.nativeElement);\n        this.setHostClass(true);\n    }\n\n    @HostListener('click', ['$event'])\n    onclick(event: Event) {\n        if (!this.disabled) {\n            this.thyClick.emit(event);\n        }\n    }\n\n    ngAfterContentInit() {\n        this.setOnlyHasTips(true);\n        this.initialized = true;\n    }\n\n    remove($event: Event) {\n        $event.stopPropagation();\n        this.thyOnRemove.emit($event);\n    }\n}\n","import { ThyButtonModule } from 'ngx-tethys/button';\nimport { ThyFlexibleTextModule } from 'ngx-tethys/flexible-text';\nimport { ThyIconModule } from 'ngx-tethys/icon';\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { ThyPropertyOperationGroupComponent } from './group/property-operation-group.component';\nimport { ThyPropertyOperationComponent } from './property-operation.component';\n\n@NgModule({\n    declarations: [ThyPropertyOperationComponent, ThyPropertyOperationGroupComponent],\n    imports: [CommonModule, ThyButtonModule, ThyIconModule, ThyFlexibleTextModule],\n    exports: [ThyPropertyOperationComponent, ThyPropertyOperationGroupComponent]\n})\nexport class ThyPropertyOperationModule {}\n"]}