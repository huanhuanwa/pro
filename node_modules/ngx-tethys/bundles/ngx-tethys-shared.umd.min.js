!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("ngx-tethys/util"),require("rxjs"),require("rxjs/operators"),require("@angular/cdk/drag-drop"),require("ngx-tethys/core"),require("@angular/common"),require("@angular/forms"),require("ngx-tethys/icon")):"function"==typeof define&&define.amd?define("ngx-tethys/shared",["exports","@angular/core","ngx-tethys/util","rxjs","rxjs/operators","@angular/cdk/drag-drop","ngx-tethys/core","@angular/common","@angular/forms","ngx-tethys/icon"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self)["ngx-tethys"]=e["ngx-tethys"]||{},e["ngx-tethys"].shared={}),e.ng.core,e["ngx-tethys"].util,e.rxjs,e.rxjs.operators,e.ng.cdk.dragDrop,e["ngx-tethys"].core,e.ng.common,e.ng.forms,e["ngx-tethys"].icon)}(this,(function(e,t,n,i,o,r,s,a,l,c){"use strict";var p=function(){function e(e){this.viewRef=e}return Object.defineProperty(e.prototype,"thyTransclude",{get:function(){return this._ngTransclude},set:function(e){this._ngTransclude=e,e&&this.viewRef.createEmbeddedView(e)},enumerable:!1,configurable:!0}),e}();p.decorators=[{type:t.Directive,args:[{selector:"[thyTransclude]"}]}],p.ctorParameters=function(){return[{type:t.ViewContainerRef}]},p.propDecorators={thyTransclude:[{type:t.Input}]};var h=function(){function e(e){this.elementRef=e,this._autoSelect=!1}return Object.defineProperty(e.prototype,"thyAutoSelect",{set:function(e){this._autoSelect=n.coerceBooleanProperty(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thyAutofocus",{set:function(e){var t=this;!1!==n.coerceBooleanProperty(e)&&setTimeout((function(){t.elementRef.nativeElement.focus(),t._autoSelect&&t.elementRef.nativeElement.select&&t.elementRef.nativeElement.select()}))},enumerable:!1,configurable:!0}),e}();h.decorators=[{type:t.Directive,args:[{selector:"input[thyAutofocus],textarea[thyAutofocus]"}]}],h.ctorParameters=function(){return[{type:t.ElementRef}]},h.propDecorators={thyAutoSelect:[{type:t.Input}],thyAutofocus:[{type:t.Input}]};var u=function(){function e(e,n,i){this.ngZone=e,this.elementRef=n,this.renderer=i,this.thyEnter=new t.EventEmitter}return e.prototype.onKeydown=function(e){var t=this;(e.which||e.keyCode)===n.keycodes.ENTER&&this.ngZone.run((function(){t.thyEnter.emit(e)}))},e.prototype.ngOnInit=function(){var e=this;this.ngZone.runOutsideAngular((function(){e.renderer.listen(e.elementRef.nativeElement,"keydown",e.onKeydown.bind(e))}))},e}();u.decorators=[{type:t.Directive,args:[{selector:"[thyEnter]"}]}],u.ctorParameters=function(){return[{type:t.NgZone},{type:t.ElementRef},{type:t.Renderer2}]},u.propDecorators={thyEnter:[{type:t.Output}]};var y=function(){function e(e,n,i){this.ngZone=e,this.elementRef=n,this.renderer=i,this.thyCtrlEnter=new t.EventEmitter}return e.prototype.onKeydown=function(e){var t=this,i=e.which||e.keyCode;(e.ctrlKey||e.metaKey)&&i===n.keycodes.ENTER&&(e.preventDefault(),this.ngZone.run((function(){t.thyCtrlEnter.emit(e)})))},e.prototype.ngOnInit=function(){var e=this;this.ngZone.runOutsideAngular((function(){e.renderer.listen(e.elementRef.nativeElement,"keydown",e.onKeydown.bind(e))}))},e}();y.decorators=[{type:t.Directive,args:[{selector:"[thyCtrlEnter]"}]}],y.ctorParameters=function(){return[{type:t.NgZone},{type:t.ElementRef},{type:t.Renderer2}]},y.propDecorators={thyCtrlEnter:[{type:t.Output}]};var d=function(){function e(e,n){this.elementRef=e,this.renderer=n,this.thyShowChange=new t.EventEmitter}return e.prototype.unListenDocument=function(){this.unListenEvent&&(this.unListenEvent(),this.unListenEvent=null)},Object.defineProperty(e.prototype,"thyShow",{set:function(e){var t=this;e?(this.renderer.setStyle(this.elementRef.nativeElement,"display","block"),setTimeout((function(){t.unListenDocument=t.renderer.listen("document","click",(function(e){t.elementRef.nativeElement.contains(e.target)||(t.thyShowChange.emit(!1),t.unListenDocument())}))}))):(this.renderer.setStyle(this.elementRef.nativeElement,"display","none"),this.unListenDocument())},enumerable:!1,configurable:!0}),e.prototype.ngOnDestroy=function(){this.unListenDocument()},e}();d.decorators=[{type:t.Directive,args:[{selector:"[thyShow]"}]}],d.ctorParameters=function(){return[{type:t.ElementRef},{type:t.Renderer2}]},d.propDecorators={thyShowChange:[{type:t.Output}],thyShow:[{type:t.Input}]};var f=function(){function e(e,t){this._elementRef=e,this._renderer=t,this._eventName="click",this.isStopPropagation=!0}return Object.defineProperty(e.prototype,"thyStopPropagation",{set:function(e){!1===e||"false"===e?this.isStopPropagation=!1:(this.isStopPropagation=!0,this._eventName=e||"click")},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){this.isStopPropagation&&(this._listener=this._renderer.listen(this._elementRef.nativeElement,this._eventName,(function(e){e.stopPropagation()})))},e.prototype.ngOnDestroy=function(){this._listener&&this._listener()},e}();f.decorators=[{type:t.Directive,args:[{selector:"[thyStopPropagation]"}]}],f.ctorParameters=function(){return[{type:t.ElementRef},{type:t.Renderer2}]},f.propDecorators={thyStopPropagation:[{type:t.Input}]};var g=function(){function e(e,n,i){this.ngZone=e,this.elementRef=n,this.renderer=i,this.thyContextMenu=new t.EventEmitter}return e.prototype.rightClick=function(e){var t=this;e.preventDefault(),this.ngZone.run((function(){t.thyContextMenu.emit(e)}))},e.prototype.ngOnInit=function(){var e=this;this.ngZone.runOutsideAngular((function(){e.renderer.listen(e.elementRef.nativeElement,"contextmenu",e.rightClick.bind(e))}))},e}();g.decorators=[{type:t.Directive,args:[{selector:"[thyContextMenu]"}]}],g.ctorParameters=function(){return[{type:t.NgZone},{type:t.ElementRef},{type:t.Renderer2}]},g.propDecorators={thyContextMenu:[{type:t.Output}]};var m=function(){function e(e,n){var r=this;this.elementRef=e,this.ngZone=n,this._destroyed=new i.Subject,this._enable=!0,this._initialled=!1,this._elementScrolled=new i.Observable((function(e){return r.ngZone.runOutsideAngular((function(){return i.fromEvent(r.elementRef.nativeElement,"scroll").pipe(o.takeUntil(r._destroyed)).subscribe(e)}))})),this.thyOnScrolled=new t.EventEmitter}return Object.defineProperty(e.prototype,"thyEnable",{set:function(e){var t=this;this._enable=n.coerceBooleanProperty(e),this._initialled&&(this._enable&&null===this._subscription?this._subscription=this._elementScrolled.subscribe((function(){return t.thyOnScrolled.emit(t.elementRef)})):this._subscription&&(this._subscription.unsubscribe(),this._subscription=null))},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this._enable&&(this._subscription=this._elementScrolled.subscribe((function(){return e.thyOnScrolled.emit(e.elementRef)}))),this._initialled=!0},e.prototype.ngOnDestroy=function(){this._destroyed.next(),this._destroyed.complete()},e.prototype.getElementRef=function(){return this.elementRef},e}();m.decorators=[{type:t.Directive,args:[{selector:"[thyScroll]"}]}],m.ctorParameters=function(){return[{type:t.ElementRef},{type:t.NgZone}]},m.propDecorators={thyEnable:[{type:t.Input}],thyOnScrolled:[{type:t.Output}]};
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var b=function(e,t){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function v(e,t){function n(){this.constructor=e}b(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}Object.create;function O(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function C(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(O(arguments[t]));return e}Object.create;var S=function(e){function t(){return e.call(this)||this}return v(t,e),t.prototype.ngAfterContentInit=function(){var t=this;this.draggables&&this.draggables.changes.pipe(o.startWith(this.draggables)).subscribe((function(){e.prototype.ngOnDestroy.call(t),t.ngUnsubscribe$=new i.Subject,i.merge.apply(void 0,C(t.draggables.toArray().map((function(e){return e.started})))).pipe(o.takeUntil(t.ngUnsubscribe$)).subscribe((function(){document.body.classList.add("thy-dragging-body")})),i.merge.apply(void 0,C(t.draggables.toArray().map((function(e){return e.released})))).pipe(o.takeUntil(t.ngUnsubscribe$)).subscribe((function(){document.body.classList.remove("thy-dragging-body")}))}))},t.prototype.ngOnDestroy=function(){e.prototype.ngOnDestroy.call(this)},t}(s.mixinUnsubscribe(s.MixinBase));S.decorators=[{type:t.Directive,args:[{selector:"[thyDragDrop]"}]}],S.ctorParameters=function(){return[]},S.propDecorators={draggables:[{type:t.ContentChildren,args:[r.CdkDrag,{descendants:!0}]}]};var _=function(){};_.decorators=[{type:t.NgModule,args:[{declarations:[p,h,u,y,d,f,g,m,S],exports:[p,h,u,y,d,f,g,m,S],providers:[]}]}];var E=function(){},T=E,k=function(){function e(e,t){this.thyTranslate=e,this.changeDetectorRef=t,this._innerValue=null,this._disabled=!1,this.onTouchedCallback=E,this.onChangeCallback=E,this._isFormCheck=!0,this._isFormCheckInline=!1,this._isChecked=!1}return Object.defineProperty(e.prototype,"_isNoText",{get:function(){return this._isFormCheckInline&&!this._labelText},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thyInline",{set:function(e){this._isFormCheckInline=n.coerceBooleanProperty(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thyLabelText",{set:function(e){this._labelText=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thyLabelTextTranslateKey",{set:function(e){this._labelText=e?this.thyTranslate.instant(e):""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thyDisabled",{set:function(e){this.setDisabledState(n.coerceBooleanProperty(e))},enumerable:!1,configurable:!0}),e.prototype.writeValue=function(e){e!==this._innerValue&&(this._innerValue=e,this._isChecked=!!this._innerValue)},e.prototype.registerOnChange=function(e){this.onChangeCallback=e},e.prototype.registerOnTouched=function(e){this.onTouchedCallback=e},e.prototype.setDisabledState=function(e){this._disabled=e,this.markForCheck()},e.prototype.updateValue=function(e){this._innerValue=e,this._isChecked=!!this._innerValue,this.onChangeCallback(e),this.markForCheck()},e.prototype.change=function(){this.updateValue(!this._innerValue)},e.prototype.markForCheck=function(){this.changeDetectorRef&&this.changeDetectorRef.markForCheck()},e}();k.decorators=[{type:t.Directive}],k.ctorParameters=function(){return[{type:s.ThyTranslate},{type:t.ChangeDetectorRef}]},k.propDecorators={_isFormCheck:[{type:t.HostBinding,args:["class.form-check"]}],_isFormCheckInline:[{type:t.HostBinding,args:["class.form-check-inline"]}],_isChecked:[{type:t.HostBinding,args:["class.form-check-checked"]}],_isNoText:[{type:t.HostBinding,args:["class.form-check-inline-no-label-text"]}],thyInline:[{type:t.Input}],thyLabelText:[{type:t.Input}],thyLabelTextTranslateKey:[{type:t.Input}],thyDisabled:[{type:t.Input}]};var I=function(){function e(e,n,i){this.renderer=e,this.element=n,this.updateHostClassService=i,this.inputValue="",this.isComposing=!1,this.panelOpened=!1,this.isMultiple=!1,this.showSearch=!1,this.disabled=!1,this.thyAllowClear=!1,this.thyPlaceholder="",this.thyOnSearch=new t.EventEmitter,this.thyOnRemove=new t.EventEmitter,this.thyOnClear=new t.EventEmitter,this.updateHostClassService.initializeElement(this.element.nativeElement)}return Object.defineProperty(e.prototype,"thyPanelOpened",{get:function(){return this.panelOpened},set:function(e){var t=this;this.panelOpened=e,this.panelOpened&&this.thyShowSearch&&Promise.resolve(null).then((function(){t.inputElement.nativeElement.focus()})),!this.panelOpened&&this.thyShowSearch&&Promise.resolve(null).then((function(){t.setInputValue("")})),this.setSelectControlClass()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thyIsMultiple",{get:function(){return this.isMultiple},set:function(e){this.isMultiple=e,this.setSelectControlClass()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thyShowSearch",{get:function(){return this.showSearch},set:function(e){this.showSearch=e,this.setSelectControlClass()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thySelectedOptions",{get:function(){return this.selectedOptions},set:function(e){var t=this,n=!1,i=this.selectedOptions;this.isMultiple?i instanceof Array&&e instanceof Array&&i.length===e.length&&(n=e.every((function(e,t){return e.thyValue===i[t].thyValue}))):i&&e&&(n=i.thyValue===e.thyValue),this.selectedOptions=e,this.panelOpened&&this.thyShowSearch&&(n||Promise.resolve(null).then((function(){t.setInputValue("")})),this.inputElement.nativeElement.focus())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thyDisabled",{get:function(){return this.disabled},set:function(e){this.disabled=e,this.setSelectControlClass()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thySize",{get:function(){return this.size},set:function(e){this.size=e,this.setSelectControlClass()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedValueStyle",{get:function(){return{display:!this.showSearch||(!this.panelOpened||!(this.isComposing||this.inputValue))?"block":"none"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"placeholderStyle",{get:function(){var e=!0;return this.isSelectedValue&&(e=!1),this.thyPlaceholder||(e=!1),(this.isComposing||this.inputValue)&&(e=!1),{display:e?"block":"none"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedValue",{get:function(){return this.thySelectedOptions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"multipleSelectedValue",{get:function(){return this.thySelectedOptions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showClearIcon",{get:function(){return this.thyAllowClear&&this.isSelectedValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSelectedValue",{get:function(){return!this.isMultiple&&!n.isUndefinedOrNull(this.thySelectedOptions)||this.isMultiple&&this.thySelectedOptions.length>0},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){this.setSelectControlClass()},e.prototype.setSelectControlClass=function(){var e,t,n,i=this.isMultiple?"multiple":"single",o=((e={})["form-control"]=!0,e["form-control-"+this.thySize]=!!this.thySize,e["form-control-custom"]=!0,e["select-control"]=!0,e["select-control-"+i]=!0,e["select-control-show-search"]=this.showSearch,e["panel-is-opened"]=this.panelOpened,e.disabled=this.disabled,e);this.updateHostClassService.updateClassByMap(o),this.searchInputControlClass=((t={})["form-control"]=!0,t["form-control-"+this.thySize]=!!this.thySize,t["search-input-field"]=!0,t.hidden=!this.thyShowSearch,t),this.choiceContentClass=((n={})["choice-content"]=!0,n["text-truncate"]=!0,n["font-size-"+this.thySize]=!!this.thySize,n)},e.prototype.setInputValue=function(e){e!==this.inputValue&&(this.inputValue=e,this.updateWidth(),this.thyOnSearch.emit(this.inputValue))},e.prototype.handleBackspace=function(e){e.isComposing||0===this.inputValue.length&&this.selectedOptions instanceof Array&&this.selectedOptions.length>0&&this.removeHandle(this.selectedOptions[this.selectedOptions.length-1],e)},e.prototype.updateWidth=function(){this.isMultiple&&this.thyShowSearch&&(this.inputValue||this.isComposing?this.renderer.setStyle(this.inputElement.nativeElement,"width",this.inputElement.nativeElement.scrollWidth+"px"):this.renderer.removeStyle(this.inputElement.nativeElement,"width"))},e.prototype.removeHandle=function(e,t){this.thyOnRemove.emit({item:e,$eventOrigin:t})},e.prototype.clearHandle=function(e){this.thyOnClear.emit(e)},e.prototype.trackValue=function(e,t){return t.thyValue},e}();I.decorators=[{type:t.Component,args:[{selector:"thy-select-control,[thySelectControl]",template:'<ng-template #inputTemplate>\n  <input\n    #inputElement\n    (compositionstart)="isComposing = true"\n    (compositionend)="isComposing = false"\n    autocomplete="something-new"\n    [ngClass]="searchInputControlClass"\n    (input)="updateWidth()"\n    [ngModel]="inputValue"\n    (ngModelChange)="setInputValue($event)"\n    (keydown.backspace)="handleBackspace($event)"\n    [disabled]="thyDisabled"\n  />\n</ng-template>\n\n<div class="select-control-rendered">\n  <div class="text-placeholder text-truncate" *ngIf="!isSelectedValue" [ngStyle]="placeholderStyle">\n    {{ thyPlaceholder }}\n  </div>\n  <ng-container *ngIf="isMultiple; else single">\n    <ul>\n      <li class="choice" *ngFor="let item of multipleSelectedValue; trackBy: trackValue">\n        <div [ngClass]="choiceContentClass">\n          <ng-template\n            #customDisplay\n            [ngTemplateOutlet]="customDisplayTemplate"\n            [ngTemplateOutletContext]="{ $implicit: item.thyRawValue || item.thyValue || item }"\n          ></ng-template>\n          <ng-container *ngIf="!customDisplayTemplate; else customDisplay">\n            {{ item.thyLabelText }}\n          </ng-container>\n        </div>\n        <span class="choice-remove font-size-base" (click)="removeHandle(item, $event)">\n          <thy-icon thyIconName="close" class="font-size-sm"></thy-icon>\n        </span>\n      </li>\n      <li class="select-control-search">\n        <ng-template [ngTemplateOutlet]="inputTemplate"></ng-template>\n      </li>\n    </ul>\n  </ng-container>\n  <ng-template #single>\n    <ng-container *ngIf="isSelectedValue">\n      <div class="selected-value text-truncate" [ngStyle]="selectedValueStyle">\n        <ng-template\n          #customDisplay\n          [ngTemplateOutlet]="customDisplayTemplate"\n          [ngTemplateOutletContext]="{\n            $implicit: selectedValue.thyRawValue || selectedValue.thyValue || selectedValue\n          }"\n        ></ng-template>\n        <ng-container *ngIf="!customDisplayTemplate; else customDisplay">\n          {{ selectedValue?.thyLabelText }}\n        </ng-container>\n      </div>\n    </ng-container>\n    <div class="select-control-search">\n      <ng-template [ngTemplateOutlet]="inputTemplate"></ng-template>\n    </div>\n  </ng-template>\n</div>\n<span class="select-control-arrow">\n  <thy-icon thyIconName="angle-down" class="font-size-base"></thy-icon>\n</span>\n<span class="select-control-clear remove-link" *ngIf="showClearIcon" (click)="clearHandle($event)">\n  <thy-icon class="remove-link-icon font-size-base" thyIconName="close-circle-bold-fill"></thy-icon>\n</span>\n',providers:[s.UpdateHostClassService],changeDetection:t.ChangeDetectionStrategy.OnPush}]}],I.ctorParameters=function(){return[{type:t.Renderer2},{type:t.ElementRef},{type:s.UpdateHostClassService}]},I.propDecorators={thyPanelOpened:[{type:t.Input}],thyIsMultiple:[{type:t.Input}],thyShowSearch:[{type:t.Input}],thySelectedOptions:[{type:t.Input}],thyDisabled:[{type:t.Input}],customDisplayTemplate:[{type:t.Input}],thyAllowClear:[{type:t.Input}],thyPlaceholder:[{type:t.Input}],thySize:[{type:t.Input}],thyOnSearch:[{type:t.Output}],thyOnRemove:[{type:t.Output}],thyOnClear:[{type:t.Output}],inputElement:[{type:t.ViewChild,args:["inputElement"]}]};
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
var P=function(){};P.decorators=[{type:t.NgModule,args:[{imports:[a.CommonModule,l.FormsModule,c.ThyIconModule],exports:[I],declarations:[I]}]}];var D=new t.InjectionToken("THY_OPTION_PARENT_COMPONENT"),w=new t.InjectionToken("THY_OPTION_GROUP_COMPONENT"),x=new t.InjectionToken("THY_LIST_OPTION_PARENT_COMPONENT"),R=0,V=function(){function e(e,t,n){this.element=e,this.changeDetector=t,this.parentSelectionList=n,this._role="option",this._tabIndex=-1,this.id="thy-list-option-"+R++}return Object.defineProperty(e.prototype,"_isListOption",{get:function(){return"list"===this.parentSelectionList.layout},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_parentLayout",{get:function(){return"grid"===this.parentSelectionList.layout},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thyDisabled",{set:function(e){this.disabled=n.coerceBooleanProperty(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this.parentSelectionList.isSelected(this)},enumerable:!1,configurable:!0}),e.prototype.onClick=function(e){!this.parentSelectionList.multiple&&this.parentSelectionList.isSelected(this)||(this.parentSelectionList.toggleOption(this,e),this.parentSelectionList.setActiveOption(this))},e.prototype.setActiveStyles=function(){this.element.nativeElement.classList.add("hover"),this.parentSelectionList.scrollIntoView(this)},e.prototype.setInactiveStyles=function(){this.element.nativeElement.classList.remove("hover")},e.prototype.getLabel=function(){return""},e}();V.decorators=[{type:t.Component,args:[{selector:"thy-list-option,[thy-list-option]",template:'<ng-content></ng-content>\n<span class="checked-icon" *ngIf="parentSelectionList.multiple && parentSelectionList.layout === \'list\'">\n  <thy-icon thyIconName="check"></thy-icon>\n</span>\n<span *ngIf="parentSelectionList.layout === \'grid\'" class="checked-icon">\n  <thy-icon thyIconName="check-circle-fill"></thy-icon>\n</span>\n'}]}],V.ctorParameters=function(){return[{type:t.ElementRef},{type:t.ChangeDetectorRef},{type:void 0,decorators:[{type:t.Optional},{type:t.Inject,args:[x]}]}]},V.propDecorators={_isListOption:[{type:t.HostBinding,args:["class.thy-list-option"]}],_parentLayout:[{type:t.HostBinding,args:["class.thy-grid-option"]}],_role:[{type:t.HostBinding,args:["attr.role"]}],_tabIndex:[{type:t.HostBinding,args:["attr.tabindex"]}],id:[{type:t.Input}],thyValue:[{type:t.Input}],thyDisabled:[{type:t.Input}],disabled:[{type:t.HostBinding,args:["class.disabled"]}],selected:[{type:t.HostBinding,args:["class.active"]}],onClick:[{type:t.HostListener,args:["click",["$event"]]}]};var j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),Object.defineProperty(t.prototype,"thyDisabled",{set:function(e){this.thyDisabled=e},enumerable:!1,configurable:!0}),t}(s.mixinDisabled(s.MixinBase));j.decorators=[{type:t.Component,args:[{selector:"thy-list-option-group,[thy-list-option-group]",template:"<ng-content></ng-content>",encapsulation:t.ViewEncapsulation.None,changeDetection:t.ChangeDetectionStrategy.OnPush}]}];var L=function(){},N=function(e,t){void 0===t&&(t=!1),this.option=e,this.isUserInput=t},M=function(){},H=function(e){function i(n,i,o,r){var s=e.call(this)||this;return s.element=n,s.parent=i,s.group=o,s.cdr=r,s._selected=!1,s._hidden=!1,s._disabled=!1,s._isOptionItem=!0,s.selectionChange=new t.EventEmitter,s.visibleChange=new t.EventEmitter,s}return v(i,e),Object.defineProperty(i.prototype,"thyDisabled",{get:function(){return this._disabled},set:function(e){this._disabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"disabled",{get:function(){return this.hidden||this._disabled},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hidden",{get:function(){return this._hidden},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tabIndex",{get:function(){return this.disabled?"-1":"0"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"selected",{get:function(){return this._selected},enumerable:!1,configurable:!0}),i.prototype.getHostElement=function(){return this.element.nativeElement},i.prototype.onClick=function(e){this.selectViaInteraction()},i.prototype.handleKeydown=function(e){e.keyCode!==n.ENTER&&e.keyCode!==n.SPACE||n.hasModifierKey(e)||(this.selectViaInteraction(),e.preventDefault())},i.prototype.selectViaInteraction=function(){this.disabled||(this._selected=!this.parent.isMultiple||!this._selected,this.cdr.markForCheck(),this.emitSelectionChangeEvent(!0))},i.prototype.select=function(e){this.disabled||this._selected||(this._selected=!0,this.emitSelectionChangeEvent(),this.cdr.markForCheck())},i.prototype.deselect=function(){this._selected&&(this._selected=!1,this.emitSelectionChangeEvent(),this.cdr.markForCheck())},i.prototype.hideOption=function(){this._hidden||(this._hidden=!0,this.visibleChange.emit({option:this}),this.cdr.markForCheck())},i.prototype.showOption=function(){this._hidden&&(this._hidden=!1,this.visibleChange.emit({option:this}),this.cdr.markForCheck())},i.prototype.matchSearchText=function(e){return this.thySearchKey?this.thySearchKey.indexOf(e)>=0:this.thyLabelText.indexOf(e)>=0},i.prototype.setActiveStyles=function(){this.getHostElement().classList.add("hover"),this.cdr.markForCheck()},i.prototype.setInactiveStyles=function(){this.getHostElement().classList.remove("hover"),this.cdr.markForCheck()},i.prototype.getLabel=function(){return""},i.prototype.emitSelectionChangeEvent=function(e){void 0===e&&(e=!1),this.selectionChange.emit(new N(this,e))},i.prototype.ngOnDestroy=function(){},i}(L);H.decorators=[{type:t.Component,args:[{selector:"thy-option",template:'<ng-container *ngIf="thyShowOptionCustom; else defaultOption">\n  <ng-content></ng-content>\n  <span class="checked-icon">\n    <i class="wtf wtf-checked"></i>\n  </span>\n</ng-container>\n<ng-template #defaultOption>\n  <span class="text-truncate">{{ thyLabelText }}</span>\n  <span class="checked-icon">\n    <i class="wtf wtf-checked"></i>\n  </span>\n</ng-template>\n',changeDetection:t.ChangeDetectionStrategy.OnPush}]}],H.ctorParameters=function(){return[{type:t.ElementRef},{type:void 0,decorators:[{type:t.Optional},{type:t.Inject,args:[D]}]},{type:void 0,decorators:[{type:t.Optional},{type:t.Inject,args:[w]}]},{type:t.ChangeDetectorRef}]},H.propDecorators={thyValue:[{type:t.Input}],thyRawValue:[{type:t.Input}],thyLabelText:[{type:t.Input}],thyShowOptionCustom:[{type:t.Input}],thySearchKey:[{type:t.Input}],_isOptionItem:[{type:t.HostBinding,args:["class.thy-option-item"]}],template:[{type:t.ViewChild,args:[t.TemplateRef,{static:!0}]}],thyDisabled:[{type:t.Input},{type:t.HostBinding,args:["class.disabled"]}],hidden:[{type:t.HostBinding,args:["class.hidden"]}],tabIndex:[{type:t.HostBinding,args:["attr.tabindex"]}],selected:[{type:t.HostBinding,args:["class.active"]}],selectionChange:[{type:t.Output}],visibleChange:[{type:t.Output}],onClick:[{type:t.HostListener,args:["click",["$event"]]}],handleKeydown:[{type:t.HostListener,args:["keydown",["$event"]]}]};var B=function(){function e(e){var t=this;this._ngZone=e,this._hidden=!1,this._isOptionGroup=!0,this._destroy$=new i.Subject,this.optionVisibleChanges=i.defer((function(){return t.options?i.merge.apply(void 0,C(t.options.map((function(e){return e.visibleChange})))):t._ngZone.onStable.asObservable().pipe(o.take(1),o.switchMap((function(){return t.optionVisibleChanges})))}))}return Object.defineProperty(e.prototype,"hidden",{get:function(){return this._hidden},enumerable:!1,configurable:!0}),e.prototype.ngAfterContentInit=function(){var e=this;this.options.changes.pipe(o.startWith(null),o.takeUntil(this._destroy$)).subscribe((function(){e._resetOptions()}))},e.prototype._resetOptions=function(){var e=this,t=i.merge(this.options.changes,this._destroy$);i.merge.apply(void 0,C(this.options.map((function(e){return e.visibleChange})))).pipe(o.takeUntil(t),o.debounceTime(10),o.map((function(t){return!e.options.find((function(e){if(!e.hidden)return!0}))}))).subscribe((function(t){e._hidden=t}))},e.prototype.ngOnDestroy=function(){this._destroy$.next(),this._destroy$.complete()},e}();B.decorators=[{type:t.Component,args:[{selector:"thy-option-group",template:'<span class="group-name text-desc">{{ thyGroupLabel }}</span>\n<ng-content></ng-content>\n',providers:[{provide:w,useExisting:B}]}]}],B.ctorParameters=function(){return[{type:t.NgZone}]},B.propDecorators={thyDisabled:[{type:t.Input},{type:t.HostBinding,args:["class.disabled"]}],_isOptionGroup:[{type:t.HostBinding,args:["class.thy-option-item-group"]}],hidden:[{type:t.HostBinding,args:["class.thy-select-option-group-hidden"]}],thyGroupLabel:[{type:t.Input}],options:[{type:t.ContentChildren,args:[H]}]};
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
var A=function(){};A.decorators=[{type:t.NgModule,args:[{imports:[a.CommonModule,c.ThyIconModule],exports:[V,j,H,B],declarations:[V,j,H,B]}]}],e.SelectOptionBase=L,e.THY_LIST_OPTION_PARENT_COMPONENT=x,e.THY_OPTION_GROUP_COMPONENT=w,e.THY_OPTION_PARENT_COMPONENT=D,e.ThyAutofocusDirective=h,e.ThyContextMenuDirective=g,e.ThyCtrlEnterDirective=y,e.ThyDragDropDirective=S,e.ThyEnterDirective=u,e.ThyFormCheckBaseComponent=k,e.ThyListOptionComponent=V,e.ThyOptionComponent=H,e.ThyOptionGroupComponent=j,e.ThyOptionModule=A,e.ThyOptionSelectionChangeEvent=N,e.ThyOptionVisibleChangeEvent=M,e.ThyScrollDirective=m,e.ThySelectCommonModule=P,e.ThySelectControlComponent=I,e.ThySelectOptionGroupComponent=B,e.ThySharedModule=_,e.ThyShowDirective=d,e.ThyStopPropagationDirective=f,e.ThyTranscludeDirective=p,e.ɵ0=T,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-tethys-shared.umd.min.js.map