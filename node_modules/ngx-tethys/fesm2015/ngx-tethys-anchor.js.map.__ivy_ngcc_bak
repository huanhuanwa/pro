{"version":3,"file":"ngx-tethys-anchor.js","sources":["../../src/anchor/anchor.component.ts","../../src/anchor/anchor-link.component.ts","../../src/anchor/anchor.module.ts","../../src/anchor/ngx-tethys-anchor.ts"],"sourcesContent":["import { Platform } from '@angular/cdk/platform';\nimport {\n    AfterViewInit,\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    ElementRef,\n    EventEmitter,\n    Inject,\n    Input,\n    NgZone,\n    OnChanges,\n    OnDestroy,\n    Output,\n    Renderer2,\n    SimpleChanges,\n    ViewChild,\n    ViewEncapsulation\n} from '@angular/core';\nimport { fromEvent, Subject } from 'rxjs';\nimport { takeUntil, throttleTime } from 'rxjs/operators';\n\nimport { ThyAnchorLinkComponent } from './anchor-link.component';\nimport { getOffset } from 'ngx-tethys/util';\nimport { ThyScrollService } from 'ngx-tethys/core';\nimport { DOCUMENT } from '@angular/common';\n\ninterface Section {\n    linkComponent: ThyAnchorLinkComponent;\n    top: number;\n}\n\nconst sharpMatcherRegx = /#([^#]+)$/;\n\n@Component({\n    selector: 'thy-anchor',\n    exportAs: 'thyAnchor',\n    preserveWhitespaces: false,\n    template: `\n        <thy-affix *ngIf=\"thyAffix; else content\" [thyOffsetTop]=\"thyOffsetTop\" [thyContainer]=\"container\">\n            <ng-template [ngTemplateOutlet]=\"content\"></ng-template>\n        </thy-affix>\n        <ng-template #content>\n            <div class=\"thy-anchor-wrapper\" [ngStyle]=\"wrapperStyle\">\n                <div class=\"thy-anchor\">\n                    <div class=\"thy-anchor-ink\">\n                        <div class=\"thy-anchor-ink-full\" #ink></div>\n                    </div>\n                    <ng-content></ng-content>\n                </div>\n            </div>\n        </ng-template>\n    `,\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ThyAnchorComponent implements OnDestroy, AfterViewInit, OnChanges {\n    @ViewChild('ink') private ink!: ElementRef;\n\n    @Input() thyAffix = true;\n\n    @Input()\n    thyBounds = 5;\n\n    @Input()\n    thyOffsetTop?: number = undefined;\n\n    @Input() thyContainer?: string | HTMLElement;\n    @Input() thyTarget: string | HTMLElement = '';\n\n    @Output() readonly thyClick = new EventEmitter<ThyAnchorLinkComponent>();\n    @Output() readonly thyScroll = new EventEmitter<ThyAnchorLinkComponent>();\n\n    visible = false;\n    wrapperStyle = { 'max-height': '100vh' };\n\n    container?: HTMLElement | Window;\n\n    private links: ThyAnchorLinkComponent[] = [];\n    private animating = false;\n    private destroy$ = new Subject();\n    private handleScrollTimeoutID = -1;\n\n    constructor(\n        @Inject(DOCUMENT) private document: any,\n        private cdr: ChangeDetectorRef,\n        private platform: Platform,\n        private zone: NgZone,\n        private renderer: Renderer2,\n        private scrollService: ThyScrollService\n    ) {}\n\n    registerLink(link: ThyAnchorLinkComponent): void {\n        this.links.push(link);\n    }\n\n    unregisterLink(link: ThyAnchorLinkComponent): void {\n        this.links.splice(this.links.indexOf(link), 1);\n    }\n\n    private getContainer(): HTMLElement | Window {\n        return this.container || window;\n    }\n\n    ngAfterViewInit(): void {\n        this.registerScrollEvent();\n    }\n\n    ngOnDestroy(): void {\n        clearTimeout(this.handleScrollTimeoutID);\n        this.destroy$.next();\n        this.destroy$.complete();\n    }\n\n    private registerScrollEvent(): void {\n        if (!this.platform.isBrowser) {\n            return;\n        }\n        this.destroy$.next();\n        this.zone.runOutsideAngular(() => {\n            fromEvent(this.getContainer(), 'scroll')\n                .pipe(throttleTime(50), takeUntil(this.destroy$))\n                .subscribe(() => this.handleScroll());\n        });\n        // Browser would maintain the scrolling position when refreshing.\n        // So we have to delay calculation in avoid of getting a incorrect result.\n        this.handleScrollTimeoutID = setTimeout(() => this.handleScroll());\n    }\n\n    handleScroll(): void {\n        if (typeof document === 'undefined' || this.animating) {\n            return;\n        }\n        const container: HTMLElement = this.container instanceof HTMLElement ? this.container : this.document;\n\n        const sections: Section[] = [];\n        const scope = (this.thyOffsetTop || 0) + this.thyBounds;\n        this.links.forEach(linkComponent => {\n            const sharpLinkMatch = sharpMatcherRegx.exec(linkComponent.thyHref.toString());\n            if (!sharpLinkMatch) {\n                return;\n            }\n            const target = container.querySelector(`#${sharpLinkMatch[1]}`) as HTMLElement;\n            if (target) {\n                const top = getOffset(target, this.getContainer()).top;\n                if (top < scope) {\n                    sections.push({\n                        top,\n                        linkComponent\n                    });\n                }\n            }\n        });\n\n        this.visible = !!sections.length;\n        if (!this.visible) {\n            this.clearActive();\n            this.cdr.detectChanges();\n        } else {\n            const maxSection = sections.reduce((prev, curr) => (curr.top > prev.top ? curr : prev));\n            this.handleActive(maxSection.linkComponent);\n        }\n        this.setVisible();\n    }\n\n    private clearActive(): void {\n        this.links.forEach(i => {\n            i.unsetActive();\n        });\n    }\n\n    private handleActive(linkComponent: ThyAnchorLinkComponent): void {\n        this.clearActive();\n        linkComponent.setActive();\n        const linkNode = linkComponent.getLinkTitleElement();\n\n        this.ink.nativeElement.style.top = `${linkNode.offsetTop}px`;\n        this.ink.nativeElement.style.height = `${linkNode.clientHeight}px`;\n        this.visible = true;\n        this.setVisible();\n        this.thyScroll.emit(linkComponent);\n    }\n\n    private setVisible(): void {\n        const visible = this.visible;\n        const visibleClassname = 'visible';\n        if (this.ink) {\n            if (visible) {\n                this.renderer.addClass(this.ink.nativeElement, visibleClassname);\n            } else {\n                this.renderer.removeClass(this.ink.nativeElement, visibleClassname);\n            }\n        }\n    }\n\n    handleScrollTo(linkComponent: ThyAnchorLinkComponent): void {\n        const container: HTMLElement = this.container instanceof HTMLElement ? this.container : this.document;\n        const linkElement: HTMLElement = container.querySelector(linkComponent.thyHref);\n        if (!linkElement) {\n            return;\n        }\n\n        this.animating = true;\n        const containerScrollTop = this.scrollService.getScroll(this.getContainer());\n        const elementOffsetTop = getOffset(linkElement, this.getContainer()).top;\n        const targetScrollTop = containerScrollTop + elementOffsetTop - (this.thyOffsetTop || 0);\n        this.scrollService.scrollTo(this.getContainer(), targetScrollTop, undefined, () => {\n            this.animating = false;\n        });\n        this.handleActive(linkComponent);\n        this.thyClick.emit(linkComponent);\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        const { thyOffsetTop, thyContainer } = changes;\n        if (thyOffsetTop) {\n            this.wrapperStyle = {\n                'max-height': `calc(100vh - ${this.thyOffsetTop}px)`\n            };\n        }\n        if (thyContainer && this.thyContainer) {\n            const container = this.thyContainer || this.thyTarget;\n            this.container = typeof container === 'string' ? this.document.querySelector(container) : container;\n            this.registerScrollEvent();\n        }\n    }\n}\n","import { Platform } from '@angular/cdk/platform';\nimport {\n    ChangeDetectionStrategy,\n    Component,\n    ContentChild,\n    ElementRef,\n    Input,\n    OnDestroy,\n    OnInit,\n    Renderer2,\n    TemplateRef,\n    ViewChild,\n    ViewEncapsulation\n} from '@angular/core';\n\nimport { ThyAnchorComponent } from './anchor.component';\n\n@Component({\n    selector: 'thy-link',\n    exportAs: 'thyLink',\n    preserveWhitespaces: false,\n    template: `\n        <a #linkTitle (click)=\"goToClick($event)\" href=\"{{ thyHref }}\" class=\"thy-anchor-link-title\" title=\"{{ title }}\">\n            <span *ngIf=\"title; else titleTemplate || thyTemplate\">{{ title }}</span>\n        </a>\n        <ng-content></ng-content>\n    `,\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ThyAnchorLinkComponent implements OnInit, OnDestroy {\n    @Input() thyHref = '#';\n\n    title: string | null = '';\n    titleTemplate?: TemplateRef<any>;\n\n    @Input()\n    set thyTitle(value: string | TemplateRef<void>) {\n        if (value instanceof TemplateRef) {\n            this.title = null;\n            this.titleTemplate = value;\n        } else {\n            this.title = value;\n        }\n    }\n\n    @ContentChild('thyTemplate') thyTemplate!: TemplateRef<void>;\n    @ViewChild('linkTitle', { static: true }) linkTitle!: ElementRef<HTMLAnchorElement>;\n\n    constructor(\n        public elementRef: ElementRef,\n        private anchorComponent: ThyAnchorComponent,\n        private platform: Platform,\n        private renderer: Renderer2\n    ) {\n        this.renderer.addClass(elementRef.nativeElement, 'thy-anchor-link');\n    }\n\n    ngOnInit(): void {\n        this.anchorComponent.registerLink(this);\n    }\n\n    getLinkTitleElement(): HTMLAnchorElement {\n        return this.linkTitle.nativeElement;\n    }\n\n    setActive(): void {\n        this.renderer.addClass(this.elementRef.nativeElement, 'thy-anchor-link-active');\n    }\n\n    unsetActive(): void {\n        this.renderer.removeClass(this.elementRef.nativeElement, 'thy-anchor-link-active');\n    }\n\n    goToClick(e: Event): void {\n        e.preventDefault();\n        e.stopPropagation();\n        if (this.platform.isBrowser) {\n            this.anchorComponent.handleScrollTo(this);\n        }\n    }\n\n    ngOnDestroy(): void {\n        this.anchorComponent.unregisterLink(this);\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { PlatformModule } from '@angular/cdk/platform';\nimport { ThyAnchorComponent } from './anchor.component';\nimport { ThyAnchorLinkComponent } from './anchor-link.component';\nimport { ThyAffixModule } from 'ngx-tethys/affix';\n\n@NgModule({\n    declarations: [ThyAnchorComponent, ThyAnchorLinkComponent],\n    exports: [ThyAnchorComponent, ThyAnchorLinkComponent],\n    imports: [CommonModule, PlatformModule, ThyAffixModule]\n})\nexport class ThyAnchorModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}