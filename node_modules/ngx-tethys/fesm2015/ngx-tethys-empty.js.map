{"version":3,"file":"ngx-tethys-empty.js","sources":["../../src/empty/empty.config.ts","../../src/empty/empty.component.ts","../../src/empty/empty.module.ts","../../src/empty/ngx-tethys-empty.ts"],"names":[],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class ThyEmptyConfig {\n    noResultTranslateKey = 'common.tips.NO_RESULT';\n    noResultWithTargetTranslateKey = 'common.tips.NO_RESULT_TARGET';\n}\n","import { ThyTranslate } from 'ngx-tethys/core';\nimport { coerceBooleanProperty } from 'ngx-tethys/util';\n\nimport {\n    AfterViewInit,\n    Component,\n    ContentChild,\n    ElementRef,\n    HostBinding,\n    Input,\n    NgZone,\n    OnInit,\n    Renderer2,\n    TemplateRef\n} from '@angular/core';\n\nimport { ThyEmptyConfig } from './empty.config';\n\nconst sizeClassMap: any = {\n    lg: ['thy-empty-state', 'thy-empty-state--lg'],\n    md: ['thy-empty-state'],\n    sm: ['thy-empty-state', 'thy-empty-state--sm']\n};\nconst sizeMap: any = {\n    lg: {\n        height: 168, // 空提示的高度\n        offsetTop: 30, // 空提示图标和大小之间的空白距离，需要除去，否则会不居中\n        defaultMarginTop: 120 // 不自动计算默认的 top 距离\n    },\n    md: {\n        height: 118,\n        offsetTop: 20,\n        defaultMarginTop: 10\n    },\n    sm: {\n        height: 78,\n        offsetTop: 10,\n        defaultMarginTop: 10\n    }\n};\n\n@Component({\n    selector: 'thy-empty',\n    templateUrl: './empty.component.html'\n})\nexport class ThyEmptyComponent implements OnInit, AfterViewInit {\n    @HostBinding('class') sizeClass = sizeClassMap['md'].join(' ');\n\n    // 显示的文本，优先级 100 最高\n    @Input() thyMessage: string;\n\n    // 显示文本的多语言 Key 优先级 99\n    @Input() thyTranslationKey: string;\n\n    @Input() thyTranslationValues: any;\n\n    // 显示默认提示信息，替换目标名称\n    @Input() thyEntityName: string;\n\n    // 显示默认提示信息，替换目标名称的 translateKey\n    @Input() thyEntityNameTranslateKey: string;\n\n    @Input() thyIconName: string;\n\n    @Input()\n    set thySize(value: string) {\n        const classList = sizeClassMap[value || 'md'];\n        if (classList) {\n            this.sizeClass = classList.join(' ');\n        }\n    }\n\n    @Input() thyMarginTop: number | string;\n\n    @Input() thyTopAuto: boolean;\n\n    @Input() thyContainer: ElementRef;\n\n    @Input() thyImageUrl: string;\n\n    @Input() thyDescription: string;\n\n    @ContentChild('extra') extraTemplateRef: TemplateRef<any>;\n\n    get displayText() {\n        if (this.thyMessage) {\n            return this.thyMessage;\n        } else if (this.thyTranslationKey) {\n            return this.thyTranslate.instant(this.thyTranslationKey, this.thyTranslationValues);\n        } else if (this.thyEntityName) {\n            return this.thyTranslate.instant(this.thyEmptyConfig.noResultWithTargetTranslateKey, {\n                target: this.thyEntityName\n            });\n        } else if (this.thyEntityNameTranslateKey) {\n            return this.thyTranslate.instant(this.thyEmptyConfig.noResultWithTargetTranslateKey, {\n                target: this.thyTranslate.instant(this.thyEntityNameTranslateKey)\n            });\n        } else {\n            return this.thyTranslate.instant(this.thyEmptyConfig.noResultTranslateKey);\n        }\n    }\n\n    _calculatePosition() {\n        const sizeOptions = sizeMap[this.thySize || 'md'];\n        const topAuto = coerceBooleanProperty(this.thyTopAuto);\n        let marginTop = null;\n        if (topAuto) {\n            // 选择参考父容器居中\n            const containerElement = this.thyContainer ? this.thyContainer.nativeElement : this.elementRef.nativeElement.parentElement;\n            // containerElement.height;\n            let emptyStateHeight = this.elementRef.nativeElement.offsetHeight;\n            // 高度没有自动计算出来使用默认值\n            if (emptyStateHeight <= 10) {\n                emptyStateHeight = sizeOptions.height;\n            }\n            marginTop = (containerElement.offsetHeight - emptyStateHeight) / 2 - sizeOptions.offsetTop;\n            // marginTop = (containerElement.offsetHeight - emptyStateHeight) / 2;\n            if (marginTop < 0) {\n                marginTop = 0; // sizeOptions.defaultMarginTop;\n            }\n        } else {\n            if (this.thyMarginTop) {\n                marginTop = this.thyMarginTop;\n            } else {\n                marginTop = 0; // sizeOptions.defaultMarginTop;\n            }\n        }\n        if (marginTop) {\n            this.renderer.setStyle(this.elementRef.nativeElement, 'marginTop', marginTop + 'px');\n        }\n    }\n    constructor(\n        private thyTranslate: ThyTranslate,\n        private thyEmptyConfig: ThyEmptyConfig,\n        private elementRef: ElementRef,\n        private renderer: Renderer2,\n        private ngZone: NgZone\n    ) {}\n\n    ngOnInit() {}\n\n    ngAfterViewInit() {\n        this.ngZone.runOutsideAngular(() => {\n            setTimeout(() => {\n                this._calculatePosition();\n            }, 50);\n        });\n    }\n}\n","import { ThyIconModule } from 'ngx-tethys/icon';\nimport { ThySharedModule } from 'ngx-tethys/shared';\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { ThyEmptyComponent } from './empty.component';\nimport { ThyEmptyConfig } from './empty.config';\n\n@NgModule({\n    declarations: [ThyEmptyComponent],\n    imports: [CommonModule, ThySharedModule, ThyIconModule],\n    exports: [ThyEmptyComponent],\n    providers: [ThyEmptyConfig]\n})\nexport class ThyEmptyModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"]}