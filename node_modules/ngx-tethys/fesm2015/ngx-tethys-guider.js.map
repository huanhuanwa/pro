{"version":3,"file":"ngx-tethys-guider.js","sources":["../../src/guider/guider-manager.ts","../../src/guider/guider-step-ref.ts","../../src/guider/guider.class.ts","../../src/guider/guider-ref.ts","../../src/guider/guider.service.ts","../../src/guider/guider.directive.ts","../../src/guider/guider-hint/guider-hint.component.ts","../../src/guider/guider.module.ts","../../src/guider/ngx-tethys-guider.ts"],"names":[],"mappings":"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","sourcesContent":["import { ThyGuiderRef } from './guider-ref';\nimport { Injectable } from '@angular/core';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ThyGuiderManager {\n    private targetListMap = {};\n\n    private thyGuiderRef: ThyGuiderRef;\n\n    private activeStepKey: string;\n\n    constructor() {}\n\n    public updateActive(key: string, guiderRef: ThyGuiderRef) {\n        this.activeStepKey = key;\n        this.thyGuiderRef = guiderRef;\n    }\n\n    public addStepTarget(key: string, el: HTMLElement) {\n        this.targetListMap[key] = el;\n    }\n\n    public removeStepTarget(key: string) {\n        delete this.targetListMap[key];\n    }\n\n    public getActiveTarget(key: string): HTMLElement {\n        return this.targetListMap[key];\n    }\n\n    public getActive(): { key: string; guiderRef: ThyGuiderRef } {\n        return {\n            key: this.activeStepKey,\n            guiderRef: this.thyGuiderRef\n        };\n    }\n}\n","import { Renderer2 } from '@angular/core';\nimport { ThyGuiderRef } from './guider-ref';\nimport { fromEvent, Subscription } from 'rxjs';\nimport { RendererFactory2 } from '@angular/core';\nimport { ThyGuiderManager } from './guider-manager';\nimport { ThyGuiderStep } from './guider.class';\nimport { ThyPopover, ThyPopoverConfig, ThyPopoverRef } from 'ngx-tethys/popover';\nimport { helpers } from 'ngx-tethys/util';\nimport { Overlay } from '@angular/cdk/overlay';\n\nconst pointContainerSize = 28;\nexport class ThyGuiderStepRef {\n    private renderer: Renderer2;\n\n    private lastPointerContainer: any;\n\n    private lastTargetElement: Element;\n\n    private targetElementObserver: Subscription;\n\n    private lastTipContainer: any;\n\n    private guiderRef: ThyGuiderRef;\n\n    private lastPopoverRef: ThyPopoverRef<any>;\n\n    constructor(\n        public step: ThyGuiderStep,\n        public stepIndex: number,\n        private readonly rendererFactory: RendererFactory2,\n        private popover: ThyPopover,\n        private guiderManager: ThyGuiderManager,\n        private overlay: Overlay,\n        private document: any\n    ) {\n        this.renderer = this.rendererFactory.createRenderer(null, null);\n    }\n\n    public show(guiderRef: ThyGuiderRef) {\n        this.guiderRef = guiderRef;\n        this.createPoint(this.step, guiderRef);\n    }\n\n    public dispose() {\n        this.removeLastPointContainer();\n        this.removeTip();\n    }\n\n    private getTargetElement(step: ThyGuiderStep) {\n        let targetElement: HTMLElement;\n        if (step.target) {\n            targetElement = this.document.querySelector(step.target);\n        } else {\n            targetElement = this.guiderManager.getActiveTarget(step.key);\n        }\n        return targetElement;\n    }\n\n    private createPoint(step: ThyGuiderStep, guiderRef: ThyGuiderRef) {\n        // target 为空并且 guiderManager 中的 targetMap 也没有此step 的 key，或者 target 直接为 坐标数组\n        // 则执行无 target 的显示\n        if (!this.isTipHasTarget(step)) {\n            this.createTip(this.step);\n            return;\n        }\n\n        const targetElement = this.getTargetElement(step);\n\n        if (helpers.isNull(targetElement)) {\n            throw new Error(`there is no target called ${step.target}`);\n        }\n        this.targetElementObserver = fromEvent(targetElement, 'click').subscribe(() => {\n            guiderRef.targetClicked().next(step);\n        });\n        const positionValue = targetElement?.style?.position;\n        if (!positionValue || positionValue === 'static') {\n            this.renderer.setStyle(targetElement, 'position', 'relative');\n        }\n        this.setStyleForPointContainer(step, targetElement);\n    }\n\n    private setStyleForPointContainer(step: ThyGuiderStep, targetElement: Element) {\n        const pointPosition = this.getPointPosition(step, targetElement);\n\n        const pointContainer = this.setPointPosition(pointPosition);\n        this.renderPoint(targetElement, pointContainer);\n    }\n\n    private getPointPosition(step: ThyGuiderStep, targetElement: Element): [number, number] {\n        const targetElementClientRect = targetElement.getBoundingClientRect();\n        const { width: targetElementWidth, height: targetElementHeight } = targetElementClientRect;\n\n        const pointOffset = step.pointOffset;\n        // 只通过 pointOffset 控制 point 的位置，默认在 target 的右下角，\n        // offset 的基点也为默认位置\n        return [targetElementWidth + pointOffset[0], targetElementHeight + pointOffset[1]];\n    }\n\n    private setPointPosition(pointPosition: [number, number]) {\n        const currentPointContainer = this.renderer.createElement('div');\n\n        this.renderer.addClass(currentPointContainer, 'thy-guider-highlight-container');\n        if (this.guiderRef.config.pointClass) {\n            this.addPointClass(currentPointContainer, this.guiderRef.config.pointClass);\n        }\n        this.renderer.setStyle(currentPointContainer, 'position', 'absolute');\n        this.renderer.setStyle(currentPointContainer, 'left', pointPosition[0] + 'px');\n        this.renderer.setStyle(currentPointContainer, 'top', pointPosition[1] + 'px');\n        this.renderer.setStyle(currentPointContainer, 'transform', 'translate(-100%,-100%)');\n\n        return currentPointContainer;\n    }\n    private addPointClass(el: any, pointClass: string | string[]) {\n        if (helpers.isString(pointClass)) {\n            this.renderer.addClass(el, pointClass);\n        }\n        if (helpers.isArray(pointClass)) {\n            pointClass.forEach(classItem => {\n                this.renderer.addClass(el, classItem);\n            });\n        }\n    }\n\n    private renderPoint(targetElement: Element, pointContainer: any) {\n        this.renderer.appendChild(targetElement, pointContainer);\n        this.lastPointerContainer = pointContainer;\n        this.lastTargetElement = targetElement;\n        this.createTip(this.step);\n    }\n\n    private removeLastPointContainer() {\n        if (this.lastPointerContainer) {\n            this.renderer.removeChild(this.document.body, this.lastPointerContainer);\n            this.lastPointerContainer = undefined;\n        }\n    }\n\n    private createTip(step: ThyGuiderStep) {\n        if (this.isTipHasTarget(step)) {\n            this.tipWithTarget(step);\n        } else {\n            this.tipWithoutTarget(step);\n        }\n    }\n\n    private tipWithoutTarget(step: ThyGuiderStep) {\n        const position = this.getTipPosition(step);\n        this.lastPopoverRef = this.popover.open(this.guiderRef.config.hintComponent, {\n            origin: null,\n            originPosition: {\n                x: position[0],\n                y: position[1]\n            },\n            originActiveClass: '',\n            panelClass: this.guiderRef.config.hintClass || '',\n            backdropClosable: false,\n            hasBackdrop: false,\n            manualClosure: true,\n            initialState: {\n                guiderRef: this.guiderRef,\n                stepRef: this\n            },\n            scrollStrategy: this.overlay.scrollStrategies.block()\n        });\n    }\n\n    private getTipPosition(step: ThyGuiderStep): [number, number] {\n        if (Array.isArray(step.target)) {\n            return step.target;\n        }\n        return this.guiderRef.config.defaultPosition;\n    }\n\n    private createTipContainer() {\n        const tipContainer = this.renderer.createElement('div');\n        this.renderer.addClass(tipContainer, 'thy-guider-content-container');\n        this.renderer.setStyle(tipContainer, 'position', 'absolute');\n        this.renderer.setStyle(tipContainer, 'top', '0px');\n        this.renderer.setStyle(tipContainer, 'right', '0px');\n        this.renderer.setStyle(tipContainer, 'bottom', '0px');\n        this.renderer.setStyle(tipContainer, 'left', '0px');\n        return tipContainer;\n    }\n\n    private tipWithTarget(step: ThyGuiderStep) {\n        let targetElement: Element;\n\n        if (step.target) {\n            targetElement = this.document.querySelector(step.target);\n        } else {\n            targetElement = this.guiderManager.getActiveTarget(step.key);\n        }\n\n        const hintContainer = this.createTipContainer();\n        this.renderer.appendChild(targetElement, hintContainer);\n        this.lastTipContainer = hintContainer;\n\n        const popoverConfig = {\n            origin: hintContainer,\n            placement: step.hintPlacement,\n            panelClass: this.guiderRef.config.hintClass || '',\n            backdropClosable: false,\n            hasBackdrop: false,\n            manualClosure: true,\n            initialState: {\n                guiderRef: this.guiderRef,\n                stepRef: this\n            },\n            scrollStrategy: this.overlay.scrollStrategies.block()\n        } as ThyPopoverConfig<any>;\n\n        const pointPosition = this.getPointPosition(step, targetElement);\n        const hintOffset = this.getTipOffset(step, pointPosition, targetElement);\n        if (hintOffset) {\n            popoverConfig.offset = hintOffset;\n        }\n        this.lastPopoverRef = this.popover.open(this.guiderRef.config.hintComponent, popoverConfig);\n    }\n\n    private getTipOffset(step: ThyGuiderStep, pointPosition: [number, number], targetElement: Element): number {\n        const hintPlacement = step.hintPlacement;\n        const targetElementClientRect = targetElement.getBoundingClientRect();\n        const { width: targetElementWidth, height: targetElementHeight } = targetElementClientRect;\n        let hintOffset: number = step.hintOffset || 0;\n        const pointXAxisOffset = pointPosition[0];\n        const pointYAxisOffset = pointPosition[1];\n\n        if (hintPlacement.startsWith('top')) {\n            if (pointYAxisOffset < pointContainerSize) {\n                hintOffset = hintOffset + Math.abs(pointYAxisOffset) + pointContainerSize;\n            }\n        } else if (hintPlacement.startsWith('bottom')) {\n            if (pointYAxisOffset > targetElementHeight) {\n                hintOffset = hintOffset + (pointYAxisOffset - targetElementHeight) + 10; // 10 为空隙量\n            }\n        } else if (hintPlacement.startsWith('left')) {\n            if (pointXAxisOffset < 0) {\n                hintOffset = hintOffset + Math.abs(pointXAxisOffset) + pointContainerSize;\n            }\n        } else if (hintPlacement.startsWith('right')) {\n            if (pointXAxisOffset > targetElementWidth) {\n                hintOffset = hintOffset + (pointXAxisOffset - targetElementWidth) + 10; // 10 为空隙量\n            }\n        }\n        return hintOffset;\n    }\n\n    private removeTip() {\n        if (this.lastPopoverRef) {\n            this.lastPopoverRef.close();\n            this.lastPopoverRef = undefined;\n        }\n        if (this.lastTipContainer) {\n            this.renderer.removeChild(this.document.body, this.lastTipContainer);\n            this.lastTipContainer = undefined;\n        }\n        if (this.lastTargetElement && this.targetElementObserver) {\n            this.targetElementObserver.unsubscribe();\n            this.lastTargetElement = undefined;\n            this.targetElementObserver = undefined;\n        }\n    }\n\n    private isTipHasTarget(step: ThyGuiderStep): boolean {\n        if (step.target) {\n            return !Array.isArray(step.target);\n        } else {\n            return !!this.guiderManager.getActiveTarget(step.key);\n        }\n    }\n}\n","import { Type } from '@angular/core';\nimport { ThyPlacement } from 'ngx-tethys/core';\n\n// export type StepTipData = {\n//     [key: string]: any;\n//     title?: string;\n//     description?: string | TemplateRef<any>;\n//     image?: string;\n// };\n\nexport interface ThyGuiderStep<TData = any> {\n    key: string;\n    target?: string | [number, number];\n    data: TData;\n    route?: string;\n    hintPlacement?: ThyPlacement;\n    hintOffset?: number;\n    pointOffset?: [number, number];\n    // children: StepInfo<T>[]\n}\n\nexport class ThyGuiderConfig {\n    /** hint Component,default is ThyGuiderHintComponent */\n    hintComponent?: Type<unknown>;\n\n    /** steps info */\n    steps: ThyGuiderStep[];\n\n    /** hint default position when step info not set hintPlacement */\n    hintPlacement?: ThyPlacement;\n\n    /** useful when without target */\n    defaultPosition?: [number, number];\n\n    /** setting default point offset */\n    pointOffset?: [number, number];\n\n    /** like popover offset */\n    hintOffset?: number;\n\n    /** popover active class */\n    hintClass?: string | string[];\n\n    /** guider point class */\n    pointClass?: string | string[];\n}\n\nexport const defaultGuiderPositionConfig = {\n    hintComponent: null as Type<unknown>,\n    hintPlacement: 'rightBottom',\n    defaultPosition: [0, 0],\n    pointOffset: [0, 0],\n    hintOffset: 4\n};\n","import { Router } from '@angular/router';\nimport { helpers } from 'ngx-tethys/util';\nimport { DOCUMENT } from '@angular/common';\nimport { ThyPopover } from 'ngx-tethys/popover';\nimport { ThyGuiderManager } from './guider-manager';\nimport { ThyGuiderStepRef } from './guider-step-ref';\nimport { Observable, ReplaySubject, Subject } from 'rxjs';\nimport { ThyGuiderConfig, ThyGuiderStep } from './guider.class';\nimport { Inject, NgZone, RendererFactory2 } from '@angular/core';\nimport { Overlay } from '@angular/cdk/overlay';\n\nexport class ThyGuiderRef {\n    public steps: ThyGuiderStep[];\n\n    private stepChange$: ReplaySubject<ThyGuiderStep> = new ReplaySubject<ThyGuiderStep>();\n\n    private guiderEnded$ = new Subject();\n\n    private closed$ = new Subject<ThyGuiderStep>();\n\n    private targetClicked$ = new Subject<ThyGuiderStep>();\n\n    private currentStep: ThyGuiderStep;\n\n    private currentStepIndex: number;\n\n    private stepsRef: ThyGuiderStepRef[];\n\n    constructor(\n        public config: ThyGuiderConfig,\n        private rendererFactory: RendererFactory2,\n        private popover: ThyPopover,\n        private router: Router,\n        private guiderManager: ThyGuiderManager,\n        private ngZone: NgZone,\n        private overlay: Overlay,\n        @Inject(DOCUMENT) private document: any\n    ) {\n        this.stepsRef = config.steps.map((step, index) => {\n            return new ThyGuiderStepRef(step, index, this.rendererFactory, this.popover, this.guiderManager, this.overlay, this.document);\n        });\n        this.steps = config.steps;\n    }\n\n    public stepChange(): Observable<ThyGuiderStep> {\n        return this.stepChange$.asObservable();\n    }\n\n    public ended() {\n        return this.guiderEnded$;\n    }\n\n    public closed() {\n        return this.closed$;\n    }\n\n    public targetClicked() {\n        return this.targetClicked$;\n    }\n\n    public start(startWith?: number) {\n        this.to(startWith);\n\n        return this.stepChange();\n    }\n\n    public next() {\n        if (this.currentStepIndex + 1 > this.steps.length) {\n            return;\n        }\n        this.to(this.currentStepIndex + 1);\n    }\n\n    public previous() {\n        if (this.currentStepIndex - 1 < 0) {\n            return;\n        }\n\n        this.to(this.currentStepIndex - 1);\n    }\n\n    public active(indexOrKey: number | string): void {\n        if (helpers.isNumber(indexOrKey)) {\n            this.to(indexOrKey as number);\n            return;\n        }\n        if (helpers.isString(indexOrKey)) {\n            const index = this.steps.findIndex(step => step.key === (indexOrKey as string));\n            this.to(index);\n            return;\n        }\n    }\n\n    private to(index: number): void {\n        this.removeExistedStep();\n\n        if (!helpers.isNumber(index) || index >= this.steps.length || index < 0 || Number.isNaN(index)) {\n            index = 0;\n        }\n        this.currentStep = this.steps[index];\n        this.currentStepIndex = index;\n\n        // update guiderManager\n        this.guiderManager.updateActive(this.currentStep.key, this);\n        if (this.currentStep.route && this.currentStep.route !== this.router.url) {\n            this.ngZone.run(() => {\n                this.router.navigateByUrl(this.currentStep.route);\n            });\n            return;\n        }\n        setTimeout(() => {\n            this.drawStep();\n            this.notifyStepClicked();\n        }, 0);\n    }\n\n    public close() {\n        this.removeManagerActiveKey();\n        this.stepsRef[this.currentStepIndex]?.dispose();\n        this.closed$.next(this.currentStep);\n    }\n\n    public end() {\n        this.close();\n        this.guiderEnded$.next(this.currentStep);\n        this.notifyGuiderIsFinished();\n    }\n\n    private removeManagerActiveKey() {\n        const activeKey = this.guiderManager.getActive().key;\n        if (activeKey && this.steps.some(step => step.key === activeKey)) {\n            this.guiderManager.updateActive('', undefined);\n        }\n    }\n\n    private notifyStepClicked() {\n        this.stepChange$.next(this.currentStep);\n    }\n\n    private drawStep() {\n        this.removeExistedStep();\n        this.stepsRef[this.currentStepIndex].show(this);\n    }\n\n    private notifyGuiderIsFinished() {\n        this.stepChange$.complete();\n        // this.targetClicked().unsubscribe();\n        this.currentStepIndex = 0;\n    }\n\n    private removeExistedStep() {\n        this.stepsRef[this.currentStepIndex]?.dispose();\n    }\n}\n","import { Router } from '@angular/router';\nimport { helpers } from 'ngx-tethys/util';\nimport { DOCUMENT } from '@angular/common';\nimport { ThyGuiderRef } from './guider-ref';\nimport { Inject, NgZone } from '@angular/core';\nimport { ThyPopover } from 'ngx-tethys/popover';\nimport { ThyGuiderManager } from './guider-manager';\nimport { Injectable, RendererFactory2 } from '@angular/core';\nimport { ThyGuiderStep, ThyGuiderConfig, defaultGuiderPositionConfig } from './guider.class';\nimport { Overlay } from '@angular/cdk/overlay';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ThyGuider {\n    private guiderRef: ThyGuiderRef;\n\n    private guiderRefs: ThyGuiderRef[] = [];\n\n    constructor(\n        private readonly rendererFactory: RendererFactory2,\n        private popover: ThyPopover,\n        private router: Router,\n        private guiderManager: ThyGuiderManager,\n        private ngZone: NgZone,\n        private overlay: Overlay,\n        @Inject(DOCUMENT) private document: any\n    ) {}\n\n    public create(config: ThyGuiderConfig): ThyGuiderRef {\n        if (!config || !config?.steps || !helpers.isArray(config?.steps)) {\n            throw new Error(`'config.steps' must be an array of length greater than 0`);\n        }\n        const normalizeConfig = this.normalizeConfig(config);\n        this.guiderRef = new ThyGuiderRef(\n            normalizeConfig,\n            this.rendererFactory,\n            this.popover,\n            this.router,\n            this.guiderManager,\n            this.ngZone,\n            this.overlay,\n            this.document\n        );\n        this.guiderRef.closed().subscribe(() => {\n            const index = this.guiderRefs.findIndex(guiderRef => guiderRef === this.guiderRef);\n            this.guiderRefs.splice(index, 1);\n        });\n        this.guiderRefs.push(this.guiderRef);\n        return this.guiderRef;\n    }\n\n    private normalizeConfig(config: ThyGuiderConfig): ThyGuiderConfig {\n        const normalizeConfig = Object.assign({}, defaultGuiderPositionConfig, config);\n        normalizeConfig.steps = normalizeConfig.steps.map(step => {\n            return this.normalizeStep(step, normalizeConfig);\n        });\n        return normalizeConfig;\n    }\n\n    private normalizeStep(step: ThyGuiderStep, config: ThyGuiderConfig): ThyGuiderStep {\n        const tempStep = Object.assign(\n            {\n                hintPlacement: config.hintPlacement,\n                hintOffset: config.hintOffset,\n                pointOffset: config.pointOffset\n            },\n            step\n        );\n\n        return tempStep;\n    }\n\n    close() {\n        if (this.guiderRefs.length > 0) {\n            const lasGuiderRef = this.guiderRefs[this.guiderRefs.length - 1];\n            if (lasGuiderRef) {\n                lasGuiderRef.close();\n                this.guiderRefs.pop();\n            }\n        }\n    }\n}\n","import { ThyGuiderManager } from './guider-manager';\nimport { AfterViewInit, Directive, ElementRef, Input, OnDestroy, OnInit, NgZone } from '@angular/core';\nimport { take } from 'rxjs/operators';\n\n@Directive({ selector: '[thyGuiderTarget]', exportAs: 'thyGuiderTarget' })\nexport class ThyGuiderTargetDirective implements OnInit, OnDestroy, AfterViewInit {\n    @Input('thyGuiderTarget')\n    target: string;\n\n    constructor(private guiderManager: ThyGuiderManager, private el: ElementRef, private ngZone: NgZone) {}\n\n    ngOnInit() {\n        this.guiderManager.addStepTarget(this.target, this.el.nativeElement);\n        this.ngZone.onStable.pipe(take(1)).subscribe(() => {\n            const { key, guiderRef } = this.guiderManager.getActive();\n            if (key === this.target) {\n                const index = guiderRef.steps.findIndex(step => step.key === this.target);\n                this.ngZone.run(() => {\n                    guiderRef.active(index);\n                });\n            }\n        });\n    }\n\n    ngAfterViewInit() {}\n\n    ngOnDestroy() {\n        const { guiderRef } = this.guiderManager.getActive();\n        if (guiderRef) {\n            guiderRef.close();\n        }\n        this.guiderManager.removeStepTarget(this.target);\n    }\n}\n","import { HostBinding, Component, Input, OnInit, TemplateRef } from '@angular/core';\nimport { ThyGuiderRef } from '../guider-ref';\nimport { helpers } from 'ngx-tethys/util';\nimport { defaultGuiderPositionConfig, ThyGuiderStep } from '../guider.class';\nimport { ThyGuiderStepRef } from '../guider-step-ref';\n\n@Component({\n    selector: 'thy-guider-hint',\n    templateUrl: 'guider-hint.component.html'\n})\nexport class ThyGuiderHintComponent implements OnInit {\n    @HostBinding('class.thy-guider-tip-container') guiderHint = true;\n\n    public guiderRef: ThyGuiderRef;\n\n    public stepRef: ThyGuiderStepRef;\n\n    public descriptionString: string;\n\n    public descriptionTemplateRef: TemplateRef<any>;\n\n    public currentStepIndex: number;\n\n    constructor() {}\n\n    ngOnInit() {\n        this.setDescription(this.stepRef.step.data.description);\n    }\n\n    private setDescription(value: string | TemplateRef<any>) {\n        if (helpers.isString(value)) {\n            this.descriptionString = value as string;\n        } else {\n            this.descriptionTemplateRef = value as TemplateRef<any>;\n        }\n    }\n\n    public jump() {\n        this.guiderRef.end();\n    }\n\n    public prev() {\n        this.guiderRef.previous();\n    }\n\n    public next() {\n        this.guiderRef.next();\n    }\n\n    public end() {\n        this.guiderRef.end();\n    }\n\n    public trackByFn(index: number, step: ThyGuiderStep) {\n        return step.key || index;\n    }\n}\n\ndefaultGuiderPositionConfig.hintComponent = ThyGuiderHintComponent;\n","import { NgModule } from '@angular/core';\nimport { ThyGuider } from './guider.service';\nimport { CommonModule } from '@angular/common';\nimport { ThyIconModule } from 'ngx-tethys/icon';\nimport { ThySharedModule } from 'ngx-tethys/shared';\nimport { ThyButtonModule } from 'ngx-tethys/button';\nimport { ThyPopoverModule } from 'ngx-tethys/popover';\nimport { ThyGuiderTargetDirective } from './guider.directive';\nimport { ThyGuiderHintComponent } from './guider-hint/guider-hint.component';\n\n@NgModule({\n    imports: [CommonModule, ThySharedModule, ThyIconModule, ThyButtonModule, ThyPopoverModule],\n    declarations: [ThyGuiderHintComponent, ThyGuiderTargetDirective],\n    exports: [ThyGuiderHintComponent, ThyGuiderTargetDirective],\n    entryComponents: [ThyGuiderHintComponent],\n    providers: [ThyGuider]\n})\nexport class ThyGuiderModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"]}