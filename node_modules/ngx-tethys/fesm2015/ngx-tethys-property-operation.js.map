{"version":3,"file":"ngx-tethys-property-operation.js","sources":["../../src/property-operation/group/property-operation-group.component.ts","../../src/property-operation/property-operation.component.ts","../../src/property-operation/module.ts","../../src/property-operation/ngx-tethys-property-operation.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, HostBinding } from '@angular/core';\n\n@Component({\n    selector: 'thy-property-operation-group',\n    templateUrl: './property-operation-group.component.html'\n})\nexport class ThyPropertyOperationGroupComponent {\n    @HostBinding('class.thy-property-operation-group') _isPropertyOperationGroup = true;\n\n    constructor() {}\n}\n","import {\n    AfterContentInit,\n    Component,\n    ContentChild,\n    ElementRef,\n    EventEmitter,\n    HostBinding,\n    Input,\n    OnInit,\n    Output,\n    TemplateRef,\n    ViewChild,\n    HostListener\n} from '@angular/core';\nimport { UpdateHostClassService, ThyTranslate } from 'ngx-tethys/core';\nimport { htmlElementIsEmpty, coerceBooleanProperty } from 'ngx-tethys/util';\n\ntype ThyPropertyOperationTypes = 'primary' | 'success' | 'warning' | 'danger';\n\n@Component({\n    selector: 'thy-property-operation',\n    templateUrl: './property-operation.component.html',\n    providers: [UpdateHostClassService]\n})\nexport class ThyPropertyOperationComponent implements OnInit, AfterContentInit {\n    private initialized = false;\n\n    labelText: string;\n\n    onlyHasTips = false;\n\n    showClose = false;\n\n    type: ThyPropertyOperationTypes;\n\n    icon: string;\n\n    value: string;\n\n    labelHideWhenHasValue = false;\n\n    @Output() thyOnRemove = new EventEmitter();\n\n    @Output() thyClick = new EventEmitter<Event>();\n\n    @HostBinding('class.thy-property-operation') _isPropertyOperation = true;\n\n    @ContentChild('operationIcon') operationIcon: TemplateRef<any>;\n\n    @ViewChild('contentElement', { static: true }) contentElement: ElementRef;\n\n    @Input()\n    set thyLabelText(value: string) {\n        this.labelText = value;\n    }\n\n    @Input()\n    set thyValue(value: string) {\n        this.value = value;\n        this.setOnlyHasTips();\n    }\n\n    @Input()\n    set thyLabelTextTranslateKey(value: string) {\n        this.labelText = this.thyTranslate.instant(value);\n    }\n\n    @Input()\n    set thyIcon(value: string) {\n        this.icon = value;\n    }\n\n    @Input()\n    set thyShowClose(value: boolean) {\n        this.showClose = coerceBooleanProperty(value);\n    }\n\n    // 支持有值时，label不显示\n    @Input() set thyLabelHasValue(value: boolean) {\n        this.labelHideWhenHasValue = !coerceBooleanProperty(value);\n    }\n\n    @Input() set thyLabelHideWhenHasValue(value: boolean) {\n        this.labelHideWhenHasValue = coerceBooleanProperty(value);\n    }\n\n    @Input()\n    set thyType(value: ThyPropertyOperationTypes) {\n        this.type = value;\n        this.setHostClass();\n    }\n\n    @HostBinding('class.active')\n    @Input('thyActive')\n    active: boolean;\n\n    @HostBinding('class.thy-property-operation-disabled')\n    @Input('thyDisabled')\n    disabled: boolean;\n\n    private setHostClass(first = false) {\n        if (!this.initialized && !first) {\n            return;\n        }\n        this.updateHostClassService.updateClass(this.type ? [`thy-property-operation-${this.type}`] : []);\n    }\n\n    private setOnlyHasTips(first = false) {\n        if (!this.initialized && !first) {\n            return;\n        }\n        if (this.value) {\n            this.onlyHasTips = false;\n        } else if (htmlElementIsEmpty(this.contentElement.nativeElement)) {\n            this.onlyHasTips = true;\n        } else {\n            this.onlyHasTips = false;\n        }\n    }\n\n    constructor(\n        private thyTranslate: ThyTranslate,\n        private updateHostClassService: UpdateHostClassService,\n        private elementRef: ElementRef\n    ) {}\n\n    ngOnInit() {\n        this.updateHostClassService.initializeElement(this.elementRef.nativeElement);\n        this.setHostClass(true);\n    }\n\n    @HostListener('click', ['$event'])\n    onclick(event: Event) {\n        if (!this.disabled) {\n            this.thyClick.emit(event);\n        }\n    }\n\n    ngAfterContentInit() {\n        this.setOnlyHasTips(true);\n        this.initialized = true;\n    }\n\n    remove($event: Event) {\n        $event.stopPropagation();\n        this.thyOnRemove.emit($event);\n    }\n}\n","import { ThyButtonModule } from 'ngx-tethys/button';\nimport { ThyFlexibleTextModule } from 'ngx-tethys/flexible-text';\nimport { ThyIconModule } from 'ngx-tethys/icon';\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { ThyPropertyOperationGroupComponent } from './group/property-operation-group.component';\nimport { ThyPropertyOperationComponent } from './property-operation.component';\n\n@NgModule({\n    declarations: [ThyPropertyOperationComponent, ThyPropertyOperationGroupComponent],\n    imports: [CommonModule, ThyButtonModule, ThyIconModule, ThyFlexibleTextModule],\n    exports: [ThyPropertyOperationComponent, ThyPropertyOperationGroupComponent]\n})\nexport class ThyPropertyOperationModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"]}