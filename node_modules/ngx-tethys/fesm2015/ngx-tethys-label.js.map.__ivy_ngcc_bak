{"version":3,"file":"ngx-tethys-label.js","sources":["../../src/label/label.component.ts","../../src/label/label.module.ts","../../src/label/ngx-tethys-label.ts"],"sourcesContent":["import { Component, ElementRef, Renderer2, Input, Output, EventEmitter, HostBinding } from '@angular/core';\nimport { coerceBooleanProperty } from 'ngx-tethys/util';\nimport { helpers } from 'ngx-tethys/util';\n\nexport type ThyLabelType = 'default' | 'primary' | 'success' | 'info' | 'warning' | 'danger';\n\nconst labelTypeClassesMap: any = {\n    default: ['thy-label', 'thy-label-default'],\n    primary: ['thy-label', 'thy-label-primary'],\n    success: ['thy-label', 'thy-label-success'],\n    info: ['thy-label', 'thy-label-info'],\n    warning: ['thy-label', 'thy-label-warning'],\n    danger: ['thy-label', 'thy-label-danger']\n};\n@Component({\n    selector: '[thyLabel]',\n    templateUrl: './label.component.html'\n})\nexport class ThyLabelComponent {\n    @HostBinding('class.label-has-hover') _thyHasHover = false;\n\n    @HostBinding('class.thy-label--sm') _classNameSM = false;\n\n    @HostBinding('class.thy-label--md') _classNameDM = false;\n\n    @HostBinding('class.thy-label--lg') _classNameLG = false;\n\n    // 字体前缀，默认 wtf\n    @Input() thyIconPrefix: string;\n\n    @Input('thySize')\n    set thySize(value: string) {\n        this._classNameSM = value === 'sm';\n        this._classNameDM = value === 'md';\n        this._classNameLG = value === 'lg';\n    }\n\n    private nativeElement: HTMLElement;\n\n    private _typeClassNames: string[] = [];\n\n    private _labelClass?: string;\n\n    private _type?: string;\n\n    private _labelType?: string;\n\n    private _icon: string;\n\n    public beforeIconName: string;\n\n    public beforeIconClass: string[];\n\n    public afterIconName: string;\n\n    public afterIconClass: string[];\n\n    public _color?: string;\n\n    public _backgroundOpacity?: number = 0.1;\n\n    @Output() thyOnRemove: EventEmitter<any> = new EventEmitter<any>();\n\n    constructor(private el: ElementRef, private renderer: Renderer2) {\n        this.nativeElement = this.el.nativeElement;\n    }\n\n    @Input('thyHasHover')\n    set thyHasHover(value: string) {\n        this._thyHasHover = coerceBooleanProperty(value);\n    }\n\n    @Input()\n    set thyLabel(value: ThyLabelType) {\n        this._type = value;\n        this._setClassesByType();\n    }\n\n    @Input()\n    set thyLabelColor(color: string) {\n        this._color = color;\n        this._setLabelCustomColor();\n    }\n\n    @Input()\n    set thyBackgroundOpacity(opacity: number) {\n        if (opacity && opacity > 0 && this._backgroundOpacity !== opacity) {\n            this._backgroundOpacity = opacity;\n            this._setLabelCustomColor();\n        }\n    }\n\n    @Input()\n    set thyLabelType(labelType: string) {\n        this._labelType = labelType;\n        this._setClassesByType();\n    }\n\n    @Input()\n    set thyBeforeIcon(icon: string) {\n        this._icon = icon;\n        if (this._icon) {\n            if (this._icon.includes('wtf')) {\n                const iconPrefix = this.thyIconPrefix || 'wtf';\n                this.beforeIconClass = [iconPrefix, `${this._icon}`];\n            } else {\n                this.beforeIconName = `${this._icon}`;\n            }\n        } else {\n            this.beforeIconClass = null;\n            this.beforeIconName = null;\n        }\n    }\n\n    @Input()\n    set thyAfterIcon(icon: string) {\n        this._icon = icon;\n        if (this._icon) {\n            if (this._icon.includes('wtf')) {\n                const iconPrefix = this.thyIconPrefix || 'wtf';\n                this.afterIconClass = [iconPrefix, `${this._icon}`];\n            } else {\n                this.afterIconName = `${this._icon}`;\n            }\n        } else {\n            this.afterIconClass = null;\n            this.afterIconName = null;\n        }\n    }\n\n    private _setClassesByType() {\n        let classNames: string[] = null;\n        if (labelTypeClassesMap[this._type]) {\n            classNames = labelTypeClassesMap[this._type];\n        } else {\n            classNames = ['thy-label'];\n            classNames.push(`thy-label-${this._type}`);\n        }\n        if (this._labelType) {\n            classNames = [...classNames, `thy-label-${this._labelType}`];\n        }\n        // remove old classes\n        this._typeClassNames.forEach(className => {\n            this._removeClass(className);\n        });\n        // add new classes\n        this._typeClassNames = classNames;\n        this._typeClassNames.forEach(className => {\n            this._addClass(className);\n        });\n    }\n\n    private _setLabelCustomColor() {\n        if (this._color) {\n            if (this._type.indexOf('emboss') > -1) {\n                if (this._type === 'emboss-status') {\n                    this.el.nativeElement.style.color = '#333';\n                } else {\n                    this.el.nativeElement.style.color = this._color;\n                }\n                this.el.nativeElement.style.backgroundColor = helpers.hexToRgb(this._color, this._backgroundOpacity);\n            } else if (this._type.indexOf('outline') > -1) {\n                this.el.nativeElement.style.color = this._color;\n                this.el.nativeElement.style.borderColor = this._color;\n            } else {\n                this.el.nativeElement.style.backgroundColor = this._color;\n            }\n        }\n    }\n\n    private _addClass(className: string) {\n        this.renderer.addClass(this.nativeElement, className);\n    }\n\n    private _removeClass(className: string) {\n        this.renderer.removeClass(this.nativeElement, className);\n    }\n\n    remove() {\n        this.thyOnRemove.emit();\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ThyLabelComponent } from './label.component';\nimport { ThyIconModule } from 'ngx-tethys/icon';\n\n@NgModule({\n    declarations: [ThyLabelComponent],\n    imports: [CommonModule, ThyIconModule],\n    exports: [ThyLabelComponent]\n})\nexport class ThyLabelModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}