{"version":3,"file":"ngx-tethys-statistic.js","sources":["../../src/statistic/statistic.component.ts","../../src/statistic/statistic.module.ts","../../src/statistic/ngx-tethys-statistic.ts"],"sourcesContent":["import { OnInit, Component, Input, HostBinding, ElementRef, TemplateRef, ContentChild, Renderer2 } from '@angular/core';\nimport { coerceBooleanProperty, hexToRgb } from 'ngx-tethys/util';\nimport { UpdateHostClassService } from 'ngx-tethys/core';\n\nexport type ThyStatisticColorType = 'primary' | 'success' | 'warning' | 'danger' | 'info';\n\nexport type ThyStatisticShape = 'card';\n\nexport type ThyStatisticSizes = 'default';\n\nexport type ThyStatisticTitlePosition = 'top' | 'bottom';\n\n@Component({\n    selector: 'thy-statistic',\n    templateUrl: './statistic.component.html',\n    providers: [UpdateHostClassService]\n})\nexport class ThyStatisticComponent implements OnInit {\n    _shape: ThyStatisticShape;\n\n    _initialized = false;\n\n    _size: ThyStatisticSizes;\n\n    prefixTemplate: TemplateRef<void>;\n\n    suffixTemplate: TemplateRef<void>;\n\n    valueTemplate: TemplateRef<void>;\n\n    titleTemplate: TemplateRef<void>;\n\n    @HostBinding(`class.thy-statistic`) class = true;\n\n    @Input() thyValueStyle = {};\n\n    @Input() thyPrefix: string;\n\n    @ContentChild('prefix', { static: true }) set prefix(value: TemplateRef<void>) {\n        this.prefixTemplate = value;\n    }\n\n    @Input() set thyPrefixTemplate(value: TemplateRef<void>) {\n        this.prefixTemplate = value;\n    }\n\n    @Input() thyValue: number | string;\n\n    @ContentChild('value', { static: true }) set value(value: TemplateRef<void>) {\n        this.valueTemplate = value;\n    }\n\n    @Input() set thyValueTemplate(value: TemplateRef<void>) {\n        this.valueTemplate = value;\n    }\n\n    @Input() thyTitle: string;\n\n    @ContentChild('title', { static: true }) set title(value: TemplateRef<void>) {\n        this.titleTemplate = value;\n    }\n\n    @Input() set thyTitleTemplate(value: TemplateRef<void>) {\n        this.titleTemplate = value;\n    }\n\n    @Input() thySuffix: string;\n\n    @ContentChild('suffix', { static: true }) set suffix(value: TemplateRef<void>) {\n        this.suffixTemplate = value;\n    }\n\n    @Input() set thySuffixTemplate(value: TemplateRef<void>) {\n        this.suffixTemplate = value;\n    }\n\n    @Input() thyTitlePosition: ThyStatisticTitlePosition = 'bottom';\n\n    @Input()\n    set thyShape(value: ThyStatisticShape) {\n        this._shape = value;\n        if (this._initialized) {\n            this._setClassesByType();\n        }\n    }\n\n    @Input() thyColor: string | ThyStatisticColorType;\n\n    @Input()\n    set thySize(value: ThyStatisticSizes) {\n        this._size = value;\n        if (this._initialized) {\n            this._setClassesByType();\n        }\n    }\n\n    constructor(private elementRef: ElementRef, private updateHostClassService: UpdateHostClassService, private renderer: Renderer2) {\n        this.updateHostClassService.initializeElement(elementRef.nativeElement);\n    }\n\n    ngOnInit() {\n        this._setClassesByType();\n        this._initialized = true;\n    }\n\n    setColor(color: string) {\n        this.renderer.setStyle(this.elementRef.nativeElement, 'color', color);\n        if (this._shape === 'card') {\n            this.renderer.setStyle(this.elementRef.nativeElement, 'border-color', color);\n            this.renderer.setStyle(this.elementRef.nativeElement, 'background-color', hexToRgb(color, 0.05));\n        }\n    }\n\n    _setClassesByType() {\n        const classNames = [];\n        if (this.thyColor) {\n            if (RegExp(/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/).test(this.thyColor)) {\n                this.setColor(this.thyColor);\n            } else {\n                classNames.push(`thy-statistic-${this.thyColor}`);\n            }\n        }\n        if (this._shape) {\n            classNames.push(`thy-statistic-${this._shape}`);\n        }\n        if (!this._size) {\n            this._size = 'default';\n        }\n        classNames.push(`thy-statistic-${this._size}`);\n\n        this.renderer.setStyle(this.elementRef.nativeElement, 'font-size', this.thySize);\n        this.updateHostClassService.updateClass(classNames);\n    }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { ThySharedModule } from 'ngx-tethys/shared';\nimport { ThyStatisticComponent } from './statistic.component';\nimport { ThyIconModule } from 'ngx-tethys/icon';\n\n@NgModule({\n    declarations: [ThyStatisticComponent],\n    imports: [CommonModule, ThySharedModule, ThyIconModule],\n    exports: [ThyStatisticComponent],\n    providers: []\n})\nexport class ThyStatisticModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}