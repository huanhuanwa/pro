{"version":3,"file":"ngx-tethys-switch.js","sources":["../../src/switch/switch.component.ts","../../src/switch/switch.module.ts","../../src/switch/ngx-tethys-switch.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, Input, Output, EventEmitter, OnInit, forwardRef, ElementRef, ViewChild, OnChanges, SimpleChanges } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { helpers } from 'ngx-tethys/util';\n\n@Component({\n    selector: 'thy-switch',\n    templateUrl: './switch.component.html',\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: forwardRef(() => ThySwitchComponent),\n            multi: true\n        }\n    ]\n})\nexport class ThySwitchComponent implements OnInit, ControlValueAccessor, OnChanges {\n    public model: boolean;\n\n    public type?: String = 'primary';\n\n    public size?: String = '';\n\n    public disabled?: Boolean = false;\n\n    public classNames: string[];\n\n    public typeArray: string[] = ['primary', 'info', 'warning', 'danger'];\n\n    public sizeArray: string[] = ['lg', '', 'sm'];\n\n    private initialized = false;\n\n    @ViewChild('switch', { static: true }) switchElementRef: ElementRef;\n\n    @Input()\n    set thyType(value: string) {\n        if (!this.typeArray.includes(value)) {\n            value = 'primary';\n        }\n        this.type = value;\n        if (this.initialized) {\n            this.setClassNames();\n        }\n    }\n\n    @Input()\n    set thySize(value: string) {\n        if (!this.sizeArray.includes(value)) {\n            value = '';\n        }\n        this.size = value;\n        if (this.initialized) {\n            this.setClassNames();\n        }\n    }\n\n    @Input() thyDisabled: boolean;\n\n    @Output() thyChange: EventEmitter<Event> = new EventEmitter<Event>();\n\n    constructor() {}\n\n    ngOnInit() {\n        this.setClassNames();\n        this.initialized = true;\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        // 兼容降级后的Switch，使用onChanges\n        if (changes.thyDisabled) {\n            const value = changes.thyDisabled.currentValue;\n            this.disabled = helpers.isBoolean(value) ? Boolean(value) : value === 'true' || value === '1';\n            this.setClassNames();\n        }\n    }\n\n    public onModelChange: Function = () => {};\n\n    public onModelTouched: Function = () => {};\n\n    writeValue(value: boolean) {\n        this.model = value;\n        // this.setClassNames();\n    }\n\n    registerOnChange(fn: Function): void {\n        this.onModelChange = fn;\n    }\n\n    registerOnTouched(fn: Function): void {\n        this.onModelTouched = fn;\n    }\n\n    setDisabledState(isDisabled: Boolean) {\n        this.disabled = isDisabled;\n        this.setClassNames();\n    }\n\n    toggle(event: Event) {\n        this.model = !this.model;\n        this.onModelChange(this.model);\n        this.thyChange.emit(event);\n    }\n\n    setClassNames() {\n        this.classNames = [`thy-switch-${this.type}`];\n        if (this.size) {\n            this.classNames.push(`thy-switch-${this.size}`);\n        }\n        if (this.disabled) {\n            this.classNames.push(`thy-switch-disabled`);\n            if (this.model) {\n                this.classNames.push(`thy-switch-disabled-true`);\n            }\n        }\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ThySwitchComponent } from './switch.component';\n\n@NgModule({\n    declarations: [\n        ThySwitchComponent\n    ],\n    entryComponents: [\n        ThySwitchComponent\n    ],\n    imports: [\n        CommonModule\n    ],\n    exports: [\n        ThySwitchComponent\n    ]\n})\nexport class ThySwitchModule {\n\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"]}