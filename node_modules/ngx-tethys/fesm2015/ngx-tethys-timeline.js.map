{"version":3,"file":"ngx-tethys-timeline.js","sources":["../../src/timeline/timeline.service.ts","../../src/timeline/timeline-item.component.ts","../../src/timeline/timeline.component.ts","../../src/timeline/timeline.module.ts","../../src/timeline/ngx-tethys-timeline.ts"],"names":[],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\nimport { ReplaySubject } from 'rxjs';\n\n@Injectable()\nexport class ThyTimelineService {\n    check$ = new ReplaySubject(1);\n    markForCheck(): void {\n        this.check$.next();\n    }\n}\n","import {\n    Component,\n    Input,\n    HostBinding,\n    OnInit,\n    OnChanges,\n    ContentChild,\n    TemplateRef,\n    ViewChild,\n    ChangeDetectorRef,\n    ChangeDetectionStrategy,\n    SimpleChanges\n} from '@angular/core';\nimport { ThyTimeMode } from './timeline.component';\nimport { ThyTimelineService } from './timeline.service';\n\nexport type thyColor = 'primary' | 'success' | 'warning' | 'danger' | 'info';\n\n@Component({\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    selector: 'thy-timeline-item',\n    templateUrl: './timeline-item.component.html',\n    exportAs: 'ThyTimelineItem'\n})\nexport class ThyTimelineItemComponent implements OnInit, OnChanges {\n    @ViewChild('timelineItem', { static: false }) template: TemplateRef<void>;\n\n    @HostBinding('class') className: string;\n\n    public color: thyColor = 'primary';\n\n    public isLast = false;\n\n    public isFirst = false;\n\n    public position: ThyTimeMode;\n\n    public reverse: Boolean = false;\n\n    @Input()\n    set thyColor(value: thyColor) {\n        if (value) {\n            this.color = value;\n        }\n    }\n\n    @Input() thyPosition: ThyTimeMode;\n\n    @ContentChild('dot', { static: false }) dot: TemplateRef<any>;\n\n    @ContentChild('description', { static: false }) description: TemplateRef<any>;\n\n    constructor(private cdr: ChangeDetectorRef, private timelineService: ThyTimelineService) {}\n\n    detectChanges(): void {\n        this.cdr.detectChanges();\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        this.timelineService.markForCheck();\n    }\n\n    ngOnInit() {}\n}\n","import {\n    Component,\n    Input,\n    HostBinding,\n    ContentChildren,\n    QueryList,\n    AfterContentInit,\n    OnChanges,\n    OnDestroy,\n    OnInit,\n    SimpleChanges,\n    SimpleChange,\n    ChangeDetectorRef,\n    ViewEncapsulation,\n    ChangeDetectionStrategy\n} from '@angular/core';\nimport { takeUntil } from 'rxjs/operators';\nimport { ThyTimelineItemComponent } from './timeline-item.component';\nimport { ThyTimelineService } from './timeline.service';\nimport { Subject } from 'rxjs';\n\nexport type ThyTimeMode = 'left' | 'right' | 'center';\n\nexport enum ThyTimeModes {\n    left = 'left',\n    right = 'right',\n    center = 'center'\n}\n\nexport type ThyTimeDirection = 'horizontal' | 'vertical';\n\n@Component({\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None,\n    selector: 'thy-timeline',\n    providers: [ThyTimelineService],\n    template: `\n        <ng-container>\n            <ng-container *ngFor=\"let item of timelineItems\">\n                <ng-template [ngTemplateOutlet]=\"item.template\"></ng-template>\n            </ng-container>\n            <ng-content></ng-content>\n        </ng-container>\n    `\n})\nexport class ThyTimelineComponent implements OnInit, AfterContentInit, OnChanges, OnDestroy {\n    @Input() thyReverse: Boolean;\n\n    @Input() thyMode: ThyTimeMode;\n\n    @Input() thyDirection: ThyTimeDirection = 'vertical';\n\n    public timelineItems: ThyTimelineItemComponent[] = [];\n\n    private destroy$ = new Subject<void>();\n\n    @HostBinding(`class.thy-timeline`) isTimeline = true;\n    @HostBinding(`class.thy-timeline-right`) rightTimeline = false;\n    @HostBinding(`class.thy-timeline-center`) centerTimeline = false;\n    @HostBinding(`class.thy-timeline-template`) templateTimeline = false;\n    @HostBinding(`class.thy-timeline-horizontal`) horizontal = false;\n\n    @ContentChildren(ThyTimelineItemComponent)\n    listOfItems: QueryList<ThyTimelineItemComponent>;\n\n    constructor(private cdr: ChangeDetectorRef, private timelineService: ThyTimelineService) {}\n\n    ngOnChanges(changes: SimpleChanges): void {\n        const { thyMode, thyReverse } = changes;\n        if (thyMode && !this.horizontal) {\n            if (thyMode.currentValue === 'right') {\n                this.rightTimeline = !this.templateTimeline;\n                this.centerTimeline = false;\n            } else if (thyMode.currentValue === 'center') {\n                this.centerTimeline = true;\n                this.rightTimeline = false;\n            } else {\n                this.rightTimeline = false;\n                this.centerTimeline = false;\n            }\n        }\n        if ((simpleChangeActivated(thyMode) && !this.horizontal) || simpleChangeActivated(thyReverse)) {\n            this.updateChildren();\n        }\n    }\n\n    ngOnInit() {\n        this.horizontal = this.thyDirection === 'horizontal' ? true : false;\n        this.timelineService.check$.pipe(takeUntil(this.destroy$)).subscribe(() => {\n            this.cdr.markForCheck();\n        });\n    }\n\n    ngAfterContentInit() {\n        this.updateChildren();\n        this.listOfItems.changes.subscribe(() => {\n            this.updateChildren();\n        });\n    }\n\n    ngOnDestroy(): void {\n        this.destroy$.next();\n        this.destroy$.complete();\n    }\n\n    private updateChildren(): void {\n        if (this.listOfItems && this.listOfItems.length) {\n            const length = this.listOfItems.length;\n            this.listOfItems.forEach((item, index) => {\n                item.isLast = !this.thyReverse ? index === length - 1 : index === 0;\n                item.isFirst = this.thyReverse ? index === length - 1 : index === 0;\n                item.reverse = this.thyReverse;\n                if (!this.horizontal) {\n                    item.position = getTimelineItemPosition(index, this.thyMode);\n                }\n                if (item.description || (item.thyPosition && !this.horizontal)) {\n                    this.templateTimeline = true;\n                }\n                item.detectChanges();\n            });\n            this.timelineItems = this.thyReverse ? this.listOfItems.toArray().reverse() : this.listOfItems.toArray();\n        }\n        this.cdr.markForCheck();\n    }\n}\nfunction simpleChangeActivated(simpleChange?: SimpleChange): boolean {\n    return !!(simpleChange && (simpleChange.previousValue !== simpleChange.currentValue || simpleChange.isFirstChange()));\n}\n\nfunction getTimelineItemPosition(index: number, mode: ThyTimeMode): ThyTimeMode | undefined {\n    return mode === 'left' ? 'left' : mode === 'right' ? 'right' : mode === 'center' && index % 2 === 0 ? 'left' : 'right';\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ThySharedModule } from 'ngx-tethys/shared';\nimport { ThyIconModule } from 'ngx-tethys/icon';\nimport { ThyTimelineComponent } from './timeline.component';\nimport { ThyTimelineItemComponent } from './timeline-item.component';\n\n@NgModule({\n    declarations: [ThyTimelineComponent, ThyTimelineItemComponent],\n    entryComponents: [],\n    imports: [CommonModule, ThySharedModule, ThyIconModule],\n    exports: [ThyTimelineComponent, ThyTimelineItemComponent],\n    providers: []\n})\nexport class ThyTimelineModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"]}