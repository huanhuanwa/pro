{"version":3,"file":"ngx-tethys-drag-drop.js","sources":["../../src/drag-drop/drag-drop.class.ts","../../src/drag-drop/drag-ref.ts","../../src/drag-drop/drag-drop.service.ts","../../src/drag-drop/drop-container.class.ts","../../src/drag-drop/drag.directive.ts","../../src/drag-drop/drag-handle.directive.ts","../../src/drag-drop/drag-content.directive.ts","../../src/drag-drop/drop-container.directive.ts","../../src/drag-drop/module.ts","../../src/drag-drop/ngx-tethys-drag-drop.ts"],"names":["_MixinBase"],"mappings":"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","sourcesContent":["export enum ThyDropPosition {\n    in = 'in',\n    before = 'before',\n    after = 'after'\n}\n\nexport interface ThyDragStartEvent<T = any> {\n    event?: DragEvent;\n    item?: T;\n    containerItems?: T[];\n    currentIndex: number;\n}\n\nexport interface ThyDragEndEvent<T = any> {\n    event?: DragEvent;\n    item?: T;\n    containerItems?: T[];\n}\n\nexport interface ThyDragOverEvent<T = any> {\n    event?: DragEvent;\n    item?: T;\n    containerItems?: T[];\n    currentIndex: number;\n    position?: ThyDropPosition;\n    previousItem?: T;\n    previousIndex?: number;\n    previousContainerItems?: T[];\n}\n\nexport interface ThyDragDropEvent<T = any> {\n    event?: DragEvent;\n    item?: T;\n    containerItems?: T[];\n    currentIndex: number;\n    position?: ThyDropPosition;\n    previousItem?: T;\n    previousIndex?: number;\n    previousContainerItems?: T[];\n}\n","import { NgZone, ElementRef } from '@angular/core';\nimport { coerceElement } from '@angular/cdk/coercion';\nimport { Subject, fromEvent } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { ThyDragHandleDirective } from './drag-handle.directive';\nimport { ThyDragDropService } from './drag-drop.service';\nimport { ThyDragStartEvent, ThyDragEndEvent, ThyDragOverEvent, ThyDragDropEvent, ThyDropPosition } from './drag-drop.class';\nimport { ThyDragDirective } from './drag.directive';\nimport { IThyDropContainerDirective } from './drop-container.class';\nimport { coerceArray } from 'ngx-tethys/util';\n\nconst dropPositionClass = {\n    [ThyDropPosition.in]: 'thy-drop-position-in',\n    [ThyDropPosition.before]: 'thy-drop-position-before',\n    [ThyDropPosition.after]: 'thy-drop-position-after'\n};\n\nexport class DragRef<T = any> {\n    private rootElement: HTMLElement;\n\n    private contentElement: HTMLElement;\n\n    private target: HTMLElement;\n\n    private handles: ThyDragHandleDirective[];\n\n    private ngUnsubscribe$ = new Subject();\n\n    started = new Subject<ThyDragStartEvent>();\n\n    ended = new Subject<ThyDragEndEvent>();\n\n    overed = new Subject<ThyDragOverEvent>();\n\n    dropped = new Subject<ThyDragDropEvent>();\n\n    entered = new Subject<DragEvent>();\n\n    leaved = new Subject<DragEvent>();\n\n    private _disabled = false;\n\n    get disabled(): boolean {\n        return (this.container && this.container.disabled) || this._disabled;\n    }\n    set disabled(value: boolean) {\n        this._disabled = value;\n    }\n\n    constructor(\n        element: ElementRef<HTMLElement> | HTMLElement,\n        private drag: ThyDragDirective,\n        private container: IThyDropContainerDirective<T>,\n        private dragDropService: ThyDragDropService<T>,\n        private document: any,\n        private ngZone: NgZone\n    ) {\n        this.withRootElement(element);\n    }\n\n    withRootElement(rootElement: ElementRef<HTMLElement> | HTMLElement): this {\n        const element = coerceElement(rootElement);\n        this.rootElement = element;\n        this.registerDragDropEvents();\n        return this;\n    }\n\n    withContentElement(contentElement: ElementRef<HTMLElement> | HTMLElement): this {\n        this.contentElement = coerceElement(contentElement);\n        return this;\n    }\n\n    withHandles(handleOrHandles: ThyDragHandleDirective | ThyDragHandleDirective[]): this {\n        this.handles = coerceArray(handleOrHandles);\n        return this;\n    }\n\n    private registerDragDropEvents() {\n        const events = {\n            dragstart: this.dragStart,\n            dragover: this.dragOver,\n            dragend: this.dragEnd,\n            drop: this.dragDrop,\n            dragleave: this.dragLeave,\n            dragenter: (event: DragEvent) => {\n                this.entered.next(event);\n            },\n            mouseover: (event: MouseEvent) => {\n                this.target = event.target as HTMLElement;\n            }\n        };\n        this.ngZone.runOutsideAngular(() => {\n            for (const name in events) {\n                if (events.hasOwnProperty(name)) {\n                    fromEvent(this.rootElement, name)\n                        .pipe(takeUntil(this.ngUnsubscribe$))\n                        .subscribe(events[name].bind(this));\n                }\n            }\n        });\n    }\n\n    private dragStart(event: DragEvent) {\n        event.stopPropagation();\n        const dragStartEvent: ThyDragStartEvent = {\n            event: event,\n            item: this.drag.data,\n            containerItems: this.container.data,\n            currentIndex: this.container.data.indexOf(this.drag.data)\n        };\n        if (this.disabled || !this.isTriggerHandle() || (this.container.beforeStart && !this.container.beforeStart(dragStartEvent))) {\n            event.preventDefault();\n            return false;\n        }\n        this.dragDropService.previousDrag = this.drag;\n        this.ngZone.run(() => {\n            this.started.next(dragStartEvent);\n        });\n    }\n\n    private isTriggerHandle() {\n        if (this.handles && this.handles.length > 0) {\n            const targetHandle = this.handles.find(handle => {\n                return (\n                    !handle.disabled && (handle.element.nativeElement === this.target || handle.element.nativeElement.contains(this.target))\n                );\n            });\n            return !!targetHandle;\n        } else {\n            return true;\n        }\n    }\n\n    private getPreviousEventData() {\n        const previousItem = this.dragDropService.previousDrag.data;\n        const previousContainerItems = this.dragDropService.previousDrag.container.data;\n        return {\n            previousItem: previousItem,\n            previousContainerItems: this.dragDropService.previousDrag.container.data,\n            previousIndex: previousContainerItems.indexOf(previousItem)\n        };\n    }\n\n    private isContinueDragOver(event: ThyDragOverEvent, container: IThyDropContainerDirective<T>) {\n        if (event.item === event.previousItem && event.position === ThyDropPosition.in) {\n            return false;\n        }\n        if (container && container.beforeOver) {\n            return container.beforeOver(event);\n        }\n        return true;\n    }\n\n    private dragOver(event: DragEvent) {\n        event.stopPropagation();\n        event.preventDefault();\n\n        const dropPosition = this.calcDropPosition(event);\n        const dragOverEvent: ThyDragOverEvent<T> = {\n            event: event,\n            item: this.drag.data,\n            containerItems: this.drag.container.data,\n            currentIndex: this.container.data.indexOf(this.drag.data),\n            position: dropPosition,\n            ...this.getPreviousEventData()\n        };\n\n        if (this.isContinueDragOver(dragOverEvent, this.container)) {\n            this.dragOverHandler(dropPosition);\n            this.overed.next(dragOverEvent);\n        }\n    }\n\n    private dragOverHandler(position: ThyDropPosition) {\n        const element = this.contentElement || this.rootElement;\n        if (this.dragDropService.dropPosition !== position) {\n            this.clearDragPositionClass();\n        }\n        element.classList.add(dropPositionClass[position]);\n        this.dragDropService.dropPosition = position;\n    }\n\n    private dragDrop(event: DragEvent) {\n        event.stopPropagation();\n        this.clearDragPositionClass();\n        const dragDropEvent: ThyDragDropEvent<T> = {\n            event: event,\n            item: this.drag.data,\n            containerItems: this.drag.container.data,\n            currentIndex: this.container.data.indexOf(this.drag.data),\n            position: this.calcDropPosition(event),\n            ...this.getPreviousEventData()\n        };\n        if (this.dragDropService.previousDrag === this.drag || (this.container.beforeDrop && !this.container.beforeDrop(dragDropEvent))) {\n            event.preventDefault();\n            return;\n        }\n        this.ngZone.run(() => {\n            this.dropped.next(dragDropEvent);\n        });\n    }\n\n    private dragEnd(event: DragEvent) {\n        this.ngZone.run(() => {\n            this.ended.next({\n                event: event,\n                item: this.drag.data,\n                containerItems: this.container.data\n            });\n        });\n    }\n\n    private dragLeave(event: DragEvent) {\n        event.stopPropagation();\n        this.clearDragPositionClass();\n        this.leaved.next(event);\n    }\n\n    private clearDragPositionClass(): void {\n        const element = this.contentElement || this.rootElement;\n        for (const key in dropPositionClass) {\n            if (dropPositionClass[key]) {\n                element.classList.remove(dropPositionClass[key]);\n            }\n        }\n    }\n\n    private calcDropPosition(event: DragEvent): ThyDropPosition {\n        const sideRange = 0.25;\n        const minGap = 2;\n        const { clientY } = event;\n        const { top, bottom, height } = event.srcElement\n            ? (event.srcElement as Element).getBoundingClientRect()\n            : (event.target as Element).getBoundingClientRect();\n        const des = Math.max(height * sideRange, minGap);\n        if (clientY <= top + des) {\n            return ThyDropPosition.before;\n        } else if (clientY >= bottom - des) {\n            return ThyDropPosition.after;\n        }\n        return ThyDropPosition.in;\n    }\n\n    dispose() {\n        this.ngUnsubscribe$.complete();\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { ThyDragDirective } from './drag.directive';\nimport { ThyDropPosition } from './drag-drop.class';\n\n@Injectable({ providedIn: 'root' })\nexport class ThyDragDropService<T = any> {\n    public previousDrag: ThyDragDirective<T>;\n    public dropPosition: ThyDropPosition;\n    constructor() {}\n}\n","import { EventEmitter, QueryList, InjectionToken } from '@angular/core';\nimport { ThyDragDirective } from './drag.directive';\nimport { ThyDragDropEvent, ThyDragStartEvent, ThyDragEndEvent, ThyDragOverEvent } from './drag-drop.class';\n\nexport interface IThyDropContainerDirective<T = any> {\n    started: EventEmitter<ThyDragStartEvent<T>>;\n\n    ended: EventEmitter<ThyDragEndEvent<T>>;\n\n    overed: EventEmitter<ThyDragOverEvent<T>>;\n\n    dropped: EventEmitter<ThyDragDropEvent<T>>;\n\n    beforeStart: (e: ThyDragStartEvent<T>) => boolean;\n\n    beforeOver: (e: ThyDragOverEvent<T>) => boolean;\n\n    beforeDrop: (e: ThyDragDropEvent<T>) => boolean;\n\n    data: T[];\n\n    disabled: boolean;\n\n    draggables: QueryList<ThyDragDirective>;\n}\n\n/**\n * Injection token used to provide the container directive to drag.\n */\nexport const THY_DROP_CONTAINER_DIRECTIVE = new InjectionToken<IThyDropContainerDirective>(\n    'THY_DROP_CONTAINER_DIRECTIVE'\n);\n","import {\n    Directive,\n    NgZone,\n    ElementRef,\n    HostBinding,\n    Input,\n    Inject,\n    ContentChildren,\n    OnDestroy,\n    Optional,\n    AfterContentInit\n} from '@angular/core';\nimport { DragRef } from './drag-ref';\nimport { DOCUMENT } from '@angular/common';\nimport { ThyDragHandleDirective } from './drag-handle.directive';\nimport { ThyDragDropService } from './drag-drop.service';\nimport { mixinUnsubscribe, MixinBase, Constructor, ThyUnsubscribe } from 'ngx-tethys/core';\nimport { THY_DROP_CONTAINER_DIRECTIVE, IThyDropContainerDirective } from './drop-container.class';\n\nconst _MixinBase: Constructor<ThyUnsubscribe> & typeof MixinBase = mixinUnsubscribe(MixinBase);\n\n@Directive({ selector: 'thy-drag,[thyDrag]' })\nexport class ThyDragDirective<T = any> extends _MixinBase implements OnDestroy {\n    @Input('thyDrag')\n    set dragData(data: T) {\n        this.data = data;\n    }\n\n    @Input('thyDragData') data: T;\n\n    @HostBinding('attr.draggable') isDraggable = true;\n\n    private _disabled = false;\n    @Input('thyDragDisabled') set disabled(isDisabled: boolean) {\n        this._disabled = isDisabled;\n        if (isDisabled) {\n            this.isDraggable = false;\n        }\n    }\n    get disabled() {\n        return this._disabled;\n    }\n\n    public dragRef: DragRef<T>;\n\n    constructor(\n        @Inject(DOCUMENT) document: any,\n        @Optional() @Inject(THY_DROP_CONTAINER_DIRECTIVE) public container: IThyDropContainerDirective,\n        ngZone: NgZone,\n        private elementRef: ElementRef<HTMLElement>,\n        service: ThyDragDropService<T>\n    ) {\n        super();\n        this.dragRef = new DragRef<T>(elementRef, this, container, service, document, ngZone);\n    }\n\n    ngOnDestroy() {\n        super.ngOnDestroy();\n        this.dragRef.dispose();\n    }\n}\n","import { Directive, ElementRef, Input, Optional } from '@angular/core';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { ThyDragDirective } from './drag.directive';\n\n@Directive({\n    selector: 'thy-drag-handle,[thyDragHandle]'\n})\nexport class ThyDragHandleDirective {\n    private _disabled = false;\n\n    @Input('thyDisabled')\n    get disabled(): boolean {\n        return this._disabled;\n    }\n    set disabled(value: boolean) {\n        this._disabled = coerceBooleanProperty(value);\n    }\n\n    constructor(public element: ElementRef<HTMLElement>, @Optional() drag: ThyDragDirective) {\n        if (drag) {\n            drag.dragRef.withHandles(this);\n        }\n    }\n}\n","import { Directive, ElementRef, Input, HostBinding, Optional } from '@angular/core';\nimport { ThyDragDirective } from './drag.directive';\n\n@Directive({\n    selector: 'thy-drag-content,[thyDragContent]'\n})\nexport class ThyDragContentDirective {\n    @HostBinding('class.thy-drag-content') contentClass = true;\n\n    constructor(public element: ElementRef<HTMLElement>, @Optional() drag: ThyDragDirective) {\n        if (drag) {\n            drag.dragRef.withContentElement(this.element);\n        }\n    }\n}\n","import { OnInit, Directive, Output, EventEmitter, ContentChildren, QueryList, AfterContentInit, NgZone, Input } from '@angular/core';\nimport { ThyDragDirective } from './drag.directive';\nimport { merge, Observable, defer } from 'rxjs';\nimport { mixinUnsubscribe, MixinBase, Constructor, ThyUnsubscribe } from 'ngx-tethys/core';\nimport { takeUntil, startWith, take, switchMap } from 'rxjs/operators';\nimport { ThyDragDropEvent, ThyDragStartEvent, ThyDragEndEvent, ThyDragOverEvent } from './drag-drop.class';\nimport { THY_DROP_CONTAINER_DIRECTIVE, IThyDropContainerDirective } from './drop-container.class';\n\nconst _MixinBase: Constructor<ThyUnsubscribe> & typeof MixinBase = mixinUnsubscribe(MixinBase);\n\n@Directive({\n    selector: 'thy-drop-container,[thyDropContainer]',\n    providers: [\n        {\n            provide: THY_DROP_CONTAINER_DIRECTIVE,\n            useExisting: ThyDropContainerDirective\n        }\n    ]\n})\nexport class ThyDropContainerDirective<T = any> extends _MixinBase implements OnInit, AfterContentInit, IThyDropContainerDirective {\n    @Input('thyDropContainer')\n    set dragContainer(data: T[]) {\n        this.data = data;\n    }\n\n    @Input('thyDropContainerData') data: T[];\n\n    @Input('thyDropContainerDisabled') disabled: boolean;\n\n    @Input('thyBeforeDragStart') beforeStart: (e: ThyDragStartEvent<T>) => boolean;\n\n    @Input('thyBeforeDragOver') beforeOver: (e: ThyDragOverEvent<T>) => boolean;\n\n    @Input('thyBeforeDragDrop') beforeDrop: (e: ThyDragDropEvent<T>) => boolean;\n\n    @Output('thyDragStarted') started = new EventEmitter<ThyDragStartEvent<ThyDragDirective>>();\n\n    @Output('thyDragEnded') ended = new EventEmitter<ThyDragEndEvent<ThyDragDirective>>();\n\n    @Output('thyDragOvered') overed = new EventEmitter<ThyDragOverEvent<ThyDragDirective>>();\n\n    @Output('thyDragDropped') dropped = new EventEmitter<ThyDragDropEvent<ThyDragDirective>>();\n\n    @ContentChildren(ThyDragDirective, {\n        descendants: false\n    })\n    draggables: QueryList<ThyDragDirective>;\n\n    constructor(private ngZone: NgZone) {\n        super();\n    }\n\n    ngOnInit() {}\n\n    ngAfterContentInit() {\n        this.draggables.changes.pipe(startWith(null), takeUntil(this.ngUnsubscribe$)).subscribe(() => {\n            this.draggableChanges();\n        });\n    }\n\n    private draggableChanges() {\n        this.resetDraggableChanges(item => item.dragRef.started).subscribe(event => {\n            this.started.emit(event);\n        });\n        this.resetDraggableChanges(item => item.dragRef.ended).subscribe(event => {\n            this.ended.emit(event);\n        });\n        this.resetDraggableChanges(item => item.dragRef.overed).subscribe(event => {\n            this.overed.emit(event);\n        });\n        this.resetDraggableChanges(item => item.dragRef.dropped).subscribe(event => {\n            this.dropped.emit(event);\n        });\n    }\n\n    private resetDraggableChanges(fn: (item: ThyDragDirective) => Observable<any>) {\n        return defer(() => {\n            if (this.draggables) {\n                return merge(...this.draggables.map(fn));\n            }\n            return this.ngZone.onStable.asObservable().pipe(\n                take(1),\n                switchMap(() => this.resetDraggableChanges.bind(this, fn))\n            );\n        }).pipe(takeUntil(merge(this.ngUnsubscribe$, this.draggables.changes))) as Observable<any>;\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { ThyDragDirective } from './drag.directive';\nimport { ThyDragHandleDirective } from './drag-handle.directive';\nimport { ThyDragContentDirective } from './drag-content.directive';\nimport { ThyDropContainerDirective } from './drop-container.directive';\n\n@NgModule({\n    imports: [],\n    exports: [ThyDropContainerDirective, ThyDragDirective, ThyDragHandleDirective, ThyDragContentDirective],\n    declarations: [ThyDropContainerDirective, ThyDragDirective, ThyDragHandleDirective, ThyDragContentDirective],\n    providers: []\n})\nexport class ThyDragDropModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"]}